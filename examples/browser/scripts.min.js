/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 3);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1,eval)("this");
} catch(e) {
	// This works if the window reference is available
	if(typeof window === "object")
		g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process, setImmediate, Buffer) {!function(e,t){ true?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.forge=t():e.forge=t()}(this,function(){return function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=42)}([function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,r){function a(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function n(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(o.isArrayBuffer(e)||o.isArrayBufferView(e)){var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof n||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}function i(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=o.isArrayBuffer(e),a=o.isArrayBufferView(e);return r||a?(r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength)):(this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),void("writeOffset"in t&&(this.write=t.writeOffset)))}var s=r(0),o=e.exports=s.util=s.util||{};!function(){function e(e){if(e.source===window&&e.data===t){e.stopPropagation();var a=r.slice();r.length=0,a.forEach(function(e){e()})}}if("undefined"!=typeof process&&process.nextTick)return o.nextTick=process.nextTick,void("function"==typeof setImmediate?o.setImmediate=setImmediate:o.setImmediate=o.nextTick);if("function"==typeof setImmediate)return o.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(o.nextTick=function(e){return setImmediate(e)});if(o.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var t="forge.setImmediate",r=[];o.setImmediate=function(e){r.push(e),1===r.length&&window.postMessage(t,"*")},window.addEventListener("message",e,!0)}if("undefined"!=typeof MutationObserver){var a=Date.now(),n=!0,i=document.createElement("div"),r=[];new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})}).observe(i,{attributes:!0});var s=o.setImmediate;o.setImmediate=function(e){Date.now()-a>15?(a=Date.now(),s(e)):(r.push(e),1===r.length&&i.setAttribute("a",n=!n))}}o.nextTick=o.setImmediate}(),o.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,o.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},o.isArrayBufferView=function(e){return e&&o.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},o.ByteBuffer=n,o.ByteStringBuffer=n;var c=4096;o.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>c&&(this.data.substr(0,1),this._constructedStringLength=0)},o.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},o.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},o.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},o.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},o.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},o.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(o.encodeUtf8(e))},o.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},o.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},o.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},o.ByteStringBuffer.prototype.putInt=function(e,t){a(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)},o.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},o.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},o.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},o.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},o.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},o.ByteStringBuffer.prototype.getInt=function(e){a(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t},o.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},o.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.ByteStringBuffer.prototype.bytes=function(e){return"undefined"==typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},o.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},o.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},o.ByteStringBuffer.prototype.copy=function(){var e=o.createBuffer(this.data);return e.read=this.read,e},o.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},o.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},o.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},o.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},o.ByteStringBuffer.prototype.toString=function(){return o.decodeUtf8(this.bytes())},o.DataBuffer=i,o.DataBuffer.prototype.length=function(){return this.write-this.read},o.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},o.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),a=new Uint8Array(this.length()+t);return a.set(r),this.data=new DataView(a.buffer),this},o.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},o.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},o.DataBuffer.prototype.putBytes=function(e,t){if(o.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a=r.byteLength-r.byteOffset;this.accommodate(a);var n=new Uint8Array(this.data.buffer,this.write);return n.set(r),this.write+=a,this}if(o.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var n=new Uint8Array(this.data.buffer);return n.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof o.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&o.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var n=new Uint8Array(e.data.byteLength,this.write);return n.set(r),this.write+=r.byteLength,this}if(e instanceof o.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=o.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=o.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},o.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},o.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},o.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},o.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},o.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},o.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},o.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},o.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},o.DataBuffer.prototype.putInt=function(e,t){a(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this},o.DataBuffer.prototype.putSignedInt=function(e,t){return a(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},o.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},o.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},o.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},o.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},o.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},o.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},o.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},o.DataBuffer.prototype.getInt=function(e){a(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t},o.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},o.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.DataBuffer.prototype.bytes=function(e){return"undefined"==typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},o.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},o.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},o.DataBuffer.prototype.copy=function(){return new o.DataBuffer(this)},o.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},o.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},o.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},o.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},o.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8","binary"===e||"raw"===e)return o.binary.raw.encode(t);if("hex"===e)return o.binary.hex.encode(t);if("base64"===e)return o.binary.base64.encode(t);if("utf8"===e)return o.text.utf8.decode(t);if("utf16"===e)return o.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},o.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=o.encodeUtf8(e)),new o.ByteBuffer(e)},o.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),t>>>=1,t>0&&(e+=e);return r},o.xorBytes=function(e,t,r){for(var a="",n="",i="",s=0,o=0;r>0;--r,++s)n=e.charCodeAt(s)^t.charCodeAt(s),o>=10&&(a+=i,i="",o=0),i+=String.fromCharCode(n),++o;return a+=i},o.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},o.bytesToHex=function(e){return o.createBuffer(e).toHex()},o.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];o.encode64=function(e,t){for(var r,a,n,i="",s="",o=0;o<e.length;)r=e.charCodeAt(o++),a=e.charCodeAt(o++),n=e.charCodeAt(o++),i+=u.charAt(r>>2),i+=u.charAt((3&r)<<4|a>>4),isNaN(a)?i+="==":(i+=u.charAt((15&a)<<2|n>>6),i+=isNaN(n)?"=":u.charAt(63&n)),t&&i.length>t&&(s+=i.substr(0,t)+"\r\n",i=i.substr(t));return s+=i},o.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,a,n,i="",s=0;s<e.length;)t=l[e.charCodeAt(s++)-43],r=l[e.charCodeAt(s++)-43],a=l[e.charCodeAt(s++)-43],n=l[e.charCodeAt(s++)-43],i+=String.fromCharCode(t<<2|r>>4),64!==a&&(i+=String.fromCharCode((15&r)<<4|a>>2),64!==n&&(i+=String.fromCharCode((3&a)<<6|n)));return i},o.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},o.decodeUtf8=function(e){return decodeURIComponent(escape(e))},o.binary={raw:{},hex:{},base64:{}},o.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},o.binary.raw.decode=function(e,t,r){var a=t;a||(a=new Uint8Array(e.length)),r=r||0;for(var n=r,i=0;i<e.length;++i)a[n++]=e.charCodeAt(i);return t?n-r:a},o.binary.hex.encode=o.bytesToHex,o.binary.hex.decode=function(e,t,r){var a=t;a||(a=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var n=0,i=r;for(1&e.length&&(n=1,a[i++]=parseInt(e[0],16));n<e.length;n+=2)a[i++]=parseInt(e.substr(n,2),16);return t?i-r:a},o.binary.base64.encode=function(e,t){for(var r,a,n,i="",s="",o=0;o<e.byteLength;)r=e[o++],a=e[o++],n=e[o++],i+=u.charAt(r>>2),i+=u.charAt((3&r)<<4|a>>4),isNaN(a)?i+="==":(i+=u.charAt((15&a)<<2|n>>6),i+=isNaN(n)?"=":u.charAt(63&n)),t&&i.length>t&&(s+=i.substr(0,t)+"\r\n",i=i.substr(t));return s+=i},o.binary.base64.decode=function(e,t,r){var a=t;a||(a=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var n,i,s,o,c=0,u=r;c<e.length;)n=l[e.charCodeAt(c++)-43],i=l[e.charCodeAt(c++)-43],s=l[e.charCodeAt(c++)-43],o=l[e.charCodeAt(c++)-43],a[u++]=n<<2|i>>4,64!==s&&(a[u++]=(15&i)<<4|s>>2,64!==o&&(a[u++]=(3&s)<<6|o));return t?u-r:a.subarray(0,u)},o.text={utf8:{},utf16:{}},o.text.utf8.encode=function(e,t,r){e=o.encodeUtf8(e);var a=t;a||(a=new Uint8Array(e.length)),r=r||0;for(var n=r,i=0;i<e.length;++i)a[n++]=e.charCodeAt(i);return t?n-r:a},o.text.utf8.decode=function(e){return o.decodeUtf8(String.fromCharCode.apply(null,e))},o.text.utf16.encode=function(e,t,r){var a=t;a||(a=new Uint8Array(2*e.length));var n=new Uint16Array(a.buffer);r=r||0;for(var i=r,s=r,o=0;o<e.length;++o)n[s++]=e.charCodeAt(o),i+=2;return t?i-r:a},o.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},o.deflate=function(e,t,r){if(t=o.decode64(e.deflate(o.encode64(t)).rval),r){var a=2,n=t.charCodeAt(1);32&n&&(a=6),t=t.substring(a,t.length-4)}return t},o.inflate=function(e,t,r){var a=e.inflate(o.encode64(t)).rval;return null===a?null:o.decode64(a)};var p=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var a;if(null===r?a=e.removeItem(t):(r=o.encode64(JSON.stringify(r)),a=e.setItem(t,r)),"undefined"!=typeof a&&a.rval!==!0){var n=new Error(a.error.message);throw n.id=a.error.id,n.name=a.error.name,n}},h=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var a=new Error(r.error.message);throw a.id=r.error.id,a.name=r.error.name,a}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(o.decode64(r))),r},f=function(e,t,r,a){var n=h(e,t);null===n&&(n={}),n[r]=a,p(e,t,n)},d=function(e,t,r){var a=h(e,t);return null!==a&&(a=r in a?a[r]:null),a},y=function(e,t,r){var a=h(e,t);if(null!==a&&r in a){delete a[r];var n=!0;for(var i in a){n=!1;break}n&&(a=null),p(e,t,a)}},g=function(e,t){p(e,t,null)},v=function(e,t,r){var a=null;"undefined"==typeof r&&(r=["web","flash"]);var n,i=!1,s=null;for(var o in r){n=r[o];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");a=e.apply(this,t),i="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,a=e.apply(this,t),i=!0)}catch(e){s=e}if(i)break}if(!i)throw s;return a};o.setItem=function(e,t,r,a,n){v(f,arguments,n)},o.getItem=function(e,t,r,a){return v(d,arguments,a)},o.removeItem=function(e,t,r,a){v(y,arguments,a)},o.clearItems=function(e,t,r){v(g,arguments,r)},o.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),a=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return a&&(a.fullHost=a.host,a.port?80!==a.port&&"http"===a.scheme?a.fullHost+=":"+a.port:443!==a.port&&"https"===a.scheme&&(a.fullHost+=":"+a.port):"http"===a.scheme?a.port=80:"https"===a.scheme&&(a.port=443),a.full=a.scheme+"://"+a.fullHost),a};var m=null;o.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),a=0;a<r.length;a++){var n,i,s=r[a].indexOf("=");s>0?(n=r[a].substring(0,s),i=r[a].substring(s+1)):(n=r[a],i=null),n in t||(t[n]=[]),n in Object.prototype||null===i||t[n].push(unescape(i))}return t};return"undefined"==typeof e?(null===m&&(m="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=m):t=r(e),t},o.parseFragment=function(e){var t=e,r="",a=e.indexOf("?");a>0&&(t=e.substring(0,a),r=e.substring(a+1));var n=t.split("/");n.length>0&&""===n[0]&&n.shift();var i=""===r?{}:o.getQueryVariables(r);return{pathString:t,queryString:r,path:n,query:i}},o.makeRequest=function(e){var t=o.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return"undefined"==typeof e?t.path:t.path[e]},getQuery:function(e,r){var a;return"undefined"==typeof e?a=t.query:(a=t.query[e],a&&"undefined"!=typeof r&&(a=a[r])),a},getQueryLast:function(e,t){var a,n=r.getQuery(e);return a=n?n[n.length-1]:t}};return r},o.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var a=jQuery.param(t||{});return r=r||"",e+(a.length>0?"?"+a:"")+(r.length>0?"#"+r:"")},o.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var a=0,n=t.length;a<n;){var i=t[a++];if(a==n)e[i]=r;else{var s=i in e;(!s||s&&"object"!=typeof e[i]||s&&null===e[i])&&(e[i]={}),e=e[i]}}},o.getPath=function(e,t,r){for(var a=0,n=t.length,i=!0;i&&a<n&&"object"==typeof e&&null!==e;){var s=t[a++];i=s in e,i&&(e=e[s])}return i?e:r},o.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,a=t.length;r<a;){var n=t[r++];if(r==a)delete e[n];else{if(!(n in e)||"object"!=typeof e[n]||null===e[n])break;e=e[n]}}},o.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},o.format=function(e){for(var t,r,a=/%./g,n=0,i=[],s=0;t=a.exec(e);){r=e.substring(s,a.lastIndex-2),r.length>0&&i.push(r),s=a.lastIndex;var o=t[0][1];switch(o){case"s":case"o":n<arguments.length?i.push(arguments[n++ +1]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+o+"?>")}}return i.push(e.substring(s)),i.join("")},o.formatNumber=function(e,t,r,a){var n=e,i=isNaN(t=Math.abs(t))?2:t,s=void 0===r?",":r,o=void 0===a?".":a,c=n<0?"-":"",u=parseInt(n=Math.abs(+n||0).toFixed(i),10)+"",l=u.length>3?u.length%3:0;return c+(l?u.substr(0,l)+o:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(i?s+Math.abs(n-u).toFixed(i).slice(2):"")},o.formatSize=function(e){return e=e>=1073741824?o.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?o.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?o.formatNumber(e/1024,0)+" KiB":o.formatNumber(e,0)+" bytes"},o.bytesFromIP=function(e){return e.indexOf(".")!==-1?o.bytesFromIPv4(e):e.indexOf(":")!==-1?o.bytesFromIPv6(e):null},o.bytesFromIPv4=function(e){if(e=e.split("."),4!==e.length)return null;for(var t=o.createBuffer(),r=0;r<e.length;++r){var a=parseInt(e[r],10);if(isNaN(a))return null;t.putByte(a)}return t.getBytes()},o.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(e){return 0===e.length&&++t,!0});for(var r=2*(8-e.length+t),a=o.createBuffer(),n=0;n<8;++n)if(e[n]&&0!==e[n].length){var i=o.hexToBytes(e[n]);i.length<2&&a.putByte(0),a.putBytes(i)}else a.fillWithByte(0,r),r=0;return a.getBytes()},o.bytesToIP=function(e){return 4===e.length?o.bytesToIPv4(e):16===e.length?o.bytesToIPv6(e):null},o.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},o.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],a=0,n=0;n<e.length;n+=2){for(var i=o.bytesToHex(e[n]+e[n+1]);"0"===i[0]&&"0"!==i;)i=i.substr(1);if("0"===i){var s=r[r.length-1],c=t.length;s&&c===s.end+1?(s.end=c,s.end-s.start>r[a].end-r[a].start&&(a=r.length-1)):r.push({start:c,end:c})}t.push(i)}if(r.length>0){var u=r[a];u.end-u.start>0&&(t.splice(u.start,u.end-u.start+1,""),0===u.start&&t.unshift(""),7===u.end&&t.push(""))}return t.join(":")},o.estimateCores=function(e,t){function r(e,s,c){if(0===s){var u=Math.floor(e.reduce(function(e,t){return e+t},0)/e.length);return o.cores=Math.max(1,u),URL.revokeObjectURL(i),t(null,o.cores)}a(c,function(t,a){e.push(n(c,a)),r(e,s-1,c)})}function a(e,t){for(var r=[],a=[],n=0;n<e;++n){var s=new Worker(i);s.addEventListener("message",function(n){if(a.push(n.data),a.length===e){for(var i=0;i<e;++i)r[i].terminate();t(null,a)}}),r.push(s)}for(var n=0;n<e;++n)r[n].postMessage(n)}function n(e,t){for(var r=[],a=0;a<e;++a)for(var n=t[a],i=r[a]=[],s=0;s<e;++s)if(a!==s){var o=t[s];(n.st>o.st&&n.st<o.et||o.st>n.st&&o.st<n.et)&&i.push(s)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in o&&!e.update)return t(null,o.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return o.cores=navigator.hardwareConcurrency,t(null,o.cores);if("undefined"==typeof Worker)return o.cores=1,t(null,o.cores);if("undefined"==typeof Blob)return o.cores=2,t(null,o.cores);var i=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));r([],5,16)}},function(e,t,r){var a=r(0);r(5),r(30),r(28),r(1),function(){return a.random&&a.random.getBytes?void(e.exports=a.random):void function(t){function r(){var e=a.prng.create(n);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}var n={},i=new Array(4),s=a.util.createBuffer();n.formatKey=function(e){var t=a.util.createBuffer(e);return e=new Array(4),e[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),a.aes._expandKey(e,!1)},n.formatSeed=function(e){var t=a.util.createBuffer(e);return e=new Array(4),e[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},n.cipher=function(e,t){return a.aes._updateBlock(e,t,i,!1),s.putInt32(i[0]),s.putInt32(i[1]),s.putInt32(i[2]),s.putInt32(i[3]),s.getBytes()},n.increment=function(e){return++e[3],e},n.md=a.md.sha256;var o=r(),c=null;if("undefined"!=typeof window){var u=window.crypto||window.msCrypto;u&&u.getRandomValues&&(c=function(e){return u.getRandomValues(e)})}if(a.options.usePureJavaScript||!a.util.isNodejs&&!c){if("undefined"==typeof window||void 0===window.document,o.collectInt(+new Date,32),"undefined"!=typeof navigator){var l="";for(var p in navigator)try{"string"==typeof navigator[p]&&(l+=navigator[p])}catch(e){}o.collect(l),l=null}t&&(t().mousemove(function(e){o.collectInt(e.clientX,16),o.collectInt(e.clientY,16)}),t().keypress(function(e){o.collectInt(e.charCode,8)}))}if(a.random)for(var p in o)a.random[p]=o[p];else a.random=o;a.random.createInstance=r,e.exports=a.random}("undefined"!=typeof jQuery?jQuery:null)}()},function(e,t,r){function a(e,t,r){if(r>t){var a=new Error("Too few bytes to parse DER.");throw a.available=e.length(),a.remaining=t,a.requested=r,a}}function n(e,t,r,i){var c;a(e,t,2);var u=e.getByte();t--;var l=192&u,p=31&u;c=e.length();var h=o(e,t);if(t-=c-e.length(),void 0!==h&&h>t){if(i.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=e.length(),f.remaining=t,f.requested=h,f}h=t}var d,y,g=32===(32&u);if(g)if(d=[],void 0===h)for(;;){if(a(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}c=e.length(),d.push(n(e,t,r+1,i)),t-=c-e.length()}else for(;h>0;)c=e.length(),d.push(n(e,h,r+1,i)),t-=c-e.length(),h-=c-e.length();if(void 0===d&&l===s.Class.UNIVERSAL&&p===s.Type.BITSTRING&&(y=e.bytes(h)),void 0===d&&i.decodeBitStrings&&l===s.Class.UNIVERSAL&&p===s.Type.BITSTRING&&h>1){var v=e.read,m=t,C=0;if(p===s.Type.BITSTRING&&(a(e,t,1),C=e.getByte(),t--),0===C)try{c=e.length();var E={verbose:i.verbose,strict:!0,decodeBitStrings:!0},S=n(e,t,r+1,E),T=c-e.length();t-=T,p==s.Type.BITSTRING&&T++;var I=S.tagClass;T!==h||I!==s.Class.UNIVERSAL&&I!==s.Class.CONTEXT_SPECIFIC||(d=[S])}catch(e){}void 0===d&&(e.read=v,t=m)}if(void 0===d){if(void 0===h){if(i.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");h=t}if(p===s.Type.BMPSTRING)for(d="";h>0;h-=2)a(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(h)}var A=void 0===y?null:{bitStringContents:y};return s.create(l,p,g,d,A)}var i=r(0);r(1),r(6);var s=e.exports=i.asn1=i.asn1||{};s.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},s.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},s.create=function(e,t,r,a,n){if(i.util.isArray(a)){for(var o=[],c=0;c<a.length;++c)void 0!==a[c]&&o.push(a[c]);a=o}var u={tagClass:e,type:t,constructed:r,composed:r||i.util.isArray(a),value:a};return n&&"bitStringContents"in n&&(u.bitStringContents=n.bitStringContents,u.original=s.copy(u)),u},s.copy=function(e,t){var r;if(i.util.isArray(e)){r=[];for(var a=0;a<e.length;++a)r.push(s.copy(e[a],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:s.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},s.equals=function(e,t,r){if(i.util.isArray(e)){if(!i.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)return!!s.equals(e[a],t[a])}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var n=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&s.equals(e.value,t.value);return r&&r.includeBitStringContents&&(n=n&&e.bitStringContents===t.bitStringContents),n},s.getBerValueLength=function(e){var t=e.getByte();if(128!==t){var r,a=128&t;return r=a?e.getInt((127&t)<<3):t}};var o=function(e,t){var r=e.getByte();if(t--,128!==r){var n,i=128&r;if(i){var s=127&r;a(e,t,s),n=e.getInt(s<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}};s.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=i.util.createBuffer(e)),n(e,e.length(),0,t)},s.toDer=function(e){var t=i.util.createBuffer(),r=e.tagClass|e.type,a=i.util.createBuffer(),n=!1;if("bitStringContents"in e&&(n=!0,e.original&&(n=s.equals(e,e.original))),n)a.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:a.putByte(0);for(var o=0;o<e.value.length;++o)void 0!==e.value[o]&&a.putBuffer(s.toDer(e.value[o]))}else if(e.type===s.Type.BMPSTRING)for(var o=0;o<e.value.length;++o)a.putInt16(e.value.charCodeAt(o));else e.type===s.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0===(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128===(128&e.value.charCodeAt(1)))?a.putBytes(e.value.substr(1)):a.putBytes(e.value);if(t.putByte(r),a.length()<=127)t.putByte(127&a.length());else{var c=a.length(),u="";do u+=String.fromCharCode(255&c),c>>>=8;while(c>0);t.putByte(128|u.length);for(var o=u.length-1;o>=0;--o)t.putByte(u.charCodeAt(o))}return t.putBuffer(a),t},s.oidToDer=function(e){var t=e.split("."),r=i.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var a,n,s,o,c=2;c<t.length;++c){a=!0,n=[],s=parseInt(t[c],10);do o=127&s,s>>>=7,a||(o|=128),n.push(o),a=!1;while(s>0);for(var u=n.length-1;u>=0;--u)r.putByte(n[u])}return r},s.derToOid=function(e){var t;"string"==typeof e&&(e=i.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var a=0;e.length()>0;)r=e.getByte(),
a<<=7,128&r?a+=127&r:(t+="."+(a+r),a=0);return t},s.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var a=parseInt(e.substr(2,2),10)-1,n=parseInt(e.substr(4,2),10),i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var c=e.charAt(10),u=10;"+"!==c&&"-"!==c&&(o=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,a,n),t.setUTCHours(i,s,o,0),u&&(c=e.charAt(u),"+"===c||"-"===c)){var l=parseInt(e.substr(u+1,2),10),p=parseInt(e.substr(u+4,2),10),h=60*l+p;h*=6e4,"+"===c?t.setTime(+t-h):t.setTime(+t+h)}return t},s.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),a=parseInt(e.substr(4,2),10)-1,n=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),c=0,u=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var p=e.length-5,h=e.charAt(p);if("+"===h||"-"===h){var f=parseInt(e.substr(p+1,2),10),d=parseInt(e.substr(p+4,2),10);u=60*f+d,u*=6e4,"+"===h&&(u*=-1),l=!0}return"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,a,n),t.setUTCHours(i,s,o,c),t.setTime(+t+u)):(t.setFullYear(r,a,n),t.setHours(i,s,o,c)),t},s.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var a=0;a<r.length;++a)r[a].length<2&&(t+="0"),t+=r[a];return t+="Z"},s.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var a=0;a<r.length;++a)r[a].length<2&&(t+="0"),t+=r[a];return t+="Z"},s.integerToDer=function(e){var t=i.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},s.derToInteger=function(e){"string"==typeof e&&(e=i.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},s.validate=function(e,t,r,a){var n=!1;if(e.tagClass!==t.tagClass&&"undefined"!=typeof t.tagClass||e.type!==t.type&&"undefined"!=typeof t.type)a&&(e.tagClass!==t.tagClass&&a.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&a.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||"undefined"==typeof t.constructed){if(n=!0,t.value&&i.util.isArray(t.value))for(var o=0,c=0;n&&c<t.value.length;++c)n=t.value[c].optional||!1,e.value[o]&&(n=s.validate(e.value[o],t.value[c],r,a),n?++o:t.value[c].optional&&(n=!0)),!n&&a&&a.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(n&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var u=e.bitStringContents.charCodeAt(0);if(0!==u)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else a&&a.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return n};var c=/[^\\u0000-\\u00ff]/;s.prettyPrint=function(e,t,r){var a="";t=t||0,r=r||2,t>0&&(a+="\n");for(var n="",o=0;o<t*r;++o)n+=" ";switch(a+=n+"Tag: ",e.tagClass){case s.Class.UNIVERSAL:a+="Universal:";break;case s.Class.APPLICATION:a+="Application:";break;case s.Class.CONTEXT_SPECIFIC:a+="Context-Specific:";break;case s.Class.PRIVATE:a+="Private:"}if(e.tagClass===s.Class.UNIVERSAL)switch(a+=e.type,e.type){case s.Type.NONE:a+=" (None)";break;case s.Type.BOOLEAN:a+=" (Boolean)";break;case s.Type.INTEGER:a+=" (Integer)";break;case s.Type.BITSTRING:a+=" (Bit string)";break;case s.Type.OCTETSTRING:a+=" (Octet string)";break;case s.Type.NULL:a+=" (Null)";break;case s.Type.OID:a+=" (Object Identifier)";break;case s.Type.ODESC:a+=" (Object Descriptor)";break;case s.Type.EXTERNAL:a+=" (External or Instance of)";break;case s.Type.REAL:a+=" (Real)";break;case s.Type.ENUMERATED:a+=" (Enumerated)";break;case s.Type.EMBEDDED:a+=" (Embedded PDV)";break;case s.Type.UTF8:a+=" (UTF8)";break;case s.Type.ROID:a+=" (Relative Object Identifier)";break;case s.Type.SEQUENCE:a+=" (Sequence)";break;case s.Type.SET:a+=" (Set)";break;case s.Type.PRINTABLESTRING:a+=" (Printable String)";break;case s.Type.IA5String:a+=" (IA5String (ASCII))";break;case s.Type.UTCTIME:a+=" (UTC time)";break;case s.Type.GENERALIZEDTIME:a+=" (Generalized time)";break;case s.Type.BMPSTRING:a+=" (BMP String)"}else a+=e.type;if(a+="\n",a+=n+"Constructed: "+e.constructed+"\n",e.composed){for(var u=0,l="",o=0;o<e.value.length;++o)void 0!==e.value[o]&&(u+=1,l+=s.prettyPrint(e.value[o],t+1,r),o+1<e.value.length&&(l+=","));a+=n+"Sub values: "+u+l}else{if(a+=n+"Value: ",e.type===s.Type.OID){var p=s.derToOid(e.value);a+=p,i.pki&&i.pki.oids&&p in i.pki.oids&&(a+=" ("+i.pki.oids[p]+") ")}if(e.type===s.Type.INTEGER)try{a+=s.derToInteger(e.value)}catch(t){a+="0x"+i.util.bytesToHex(e.value)}else if(e.type===s.Type.BITSTRING){if(a+=e.value.length>1?"0x"+i.util.bytesToHex(e.value.slice(1)):"(none)",e.value.length>0){var h=e.value.charCodeAt(0);1==h?a+=" (1 unused bit shown)":h>1&&(a+=" ("+h+" unused bits shown)")}}else e.type===s.Type.OCTETSTRING?(c.test(e.value)||(a+="("+e.value+") "),a+="0x"+i.util.bytesToHex(e.value)):a+=e.type===s.Type.UTF8?i.util.decodeUtf8(e.value):e.type===s.Type.PRINTABLESTRING||e.type===s.Type.IA5String?e.value:c.test(e.value)?"0x"+i.util.bytesToHex(e.value):0===e.value.length?"[null]":e.value}return a}},function(e,t,r){var a=r(0);e.exports=a.md=a.md||{},a.md.algorithms=a.md.algorithms||{}},function(e,t,r){function a(e,t){var r=function(){return new c.aes.Algorithm(e,t)};c.cipher.registerAlgorithm(e,r)}function n(){d=!0,p=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;u=new Array(256),l=new Array(256),h=new Array(4),f=new Array(4);for(var t=0;t<4;++t)h[t]=new Array(256),f[t]=new Array(256);for(var r,a,n,i,s,o,c,y=0,g=0,t=0;t<256;++t){i=g^g<<1^g<<2^g<<3^g<<4,i=i>>8^255&i^99,u[y]=i,l[i]=y,s=e[i],r=e[y],a=e[r],n=e[a],o=s<<24^i<<16^i<<8^(i^s),c=(r^a^n)<<24^(y^n)<<16^(y^a^n)<<8^(y^r^n);for(var v=0;v<4;++v)h[v][y]=o,f[v][i]=c,o=o<<24|o>>>8,c=c<<24|c>>>8;0===y?y=g=1:(y=r^e[e[e[r^n]]],g^=e[e[g]])}}function i(e,t){for(var r,a=e.slice(0),n=1,i=a.length,s=i+6+1,o=y*s,c=i;c<o;++c)r=a[c-1],c%i===0?(r=u[r>>>16&255]<<24^u[r>>>8&255]<<16^u[255&r]<<8^u[r>>>24]^p[n]<<24,n++):i>6&&c%i===4&&(r=u[r>>>24]<<24^u[r>>>16&255]<<16^u[r>>>8&255]<<8^u[255&r]),a[c]=a[c-i]^r;if(t){var l,h=f[0],d=f[1],g=f[2],v=f[3],m=a.slice(0);o=a.length;for(var c=0,C=o-y;c<o;c+=y,C-=y)if(0===c||c===o-y)m[c]=a[C],m[c+1]=a[C+3],m[c+2]=a[C+2],m[c+3]=a[C+1];else for(var E=0;E<y;++E)l=a[C+E],m[c+(3&-E)]=h[u[l>>>24]]^d[u[l>>>16&255]]^g[u[l>>>8&255]]^v[u[255&l]];a=m}return a}function s(e,t,r,a){var n,i,s,o,c,p=e.length/4-1;a?(n=f[0],i=f[1],s=f[2],o=f[3],c=l):(n=h[0],i=h[1],s=h[2],o=h[3],c=u);var d,y,g,v,m,C,E;d=t[0]^e[0],y=t[a?3:1]^e[1],g=t[2]^e[2],v=t[a?1:3]^e[3];for(var S=3,T=1;T<p;++T)m=n[d>>>24]^i[y>>>16&255]^s[g>>>8&255]^o[255&v]^e[++S],C=n[y>>>24]^i[g>>>16&255]^s[v>>>8&255]^o[255&d]^e[++S],E=n[g>>>24]^i[v>>>16&255]^s[d>>>8&255]^o[255&y]^e[++S],v=n[v>>>24]^i[d>>>16&255]^s[y>>>8&255]^o[255&g]^e[++S],d=m,y=C,g=E;r[0]=c[d>>>24]<<24^c[y>>>16&255]<<16^c[g>>>8&255]<<8^c[255&v]^e[++S],r[a?3:1]=c[y>>>24]<<24^c[g>>>16&255]<<16^c[v>>>8&255]<<8^c[255&d]^e[++S],r[2]=c[g>>>24]<<24^c[v>>>16&255]<<16^c[d>>>8&255]<<8^c[255&y]^e[++S],r[a?1:3]=c[v>>>24]<<24^c[d>>>16&255]<<16^c[y>>>8&255]<<8^c[255&g]^e[++S]}function o(e){e=e||{};var t,r=(e.mode||"CBC").toUpperCase(),a="AES-"+r;t=e.decrypt?c.cipher.createDecipher(a,e.key):c.cipher.createCipher(a,e.key);var n=t.start;return t.start=function(e,r){var a=null;r instanceof c.util.ByteBuffer&&(a=r,r={}),r=r||{},r.output=a,r.iv=e,n.call(t,r)},t}var c=r(0);r(12),r(18),r(1),e.exports=c.aes=c.aes||{},c.aes.startEncrypting=function(e,t,r,a){var n=o({key:e,output:r,decrypt:!1,mode:a});return n.start(t),n},c.aes.createEncryptionCipher=function(e,t){return o({key:e,output:null,decrypt:!1,mode:t})},c.aes.startDecrypting=function(e,t,r,a){var n=o({key:e,output:r,decrypt:!0,mode:a});return n.start(t),n},c.aes.createDecryptionCipher=function(e,t){return o({key:e,output:null,decrypt:!0,mode:t})},c.aes.Algorithm=function(e,t){d||n();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return s(r._w,e,t,!1)},decrypt:function(e,t){return s(r._w,e,t,!0)}}}),r._init=!1},c.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(c.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=c.util.createBuffer();for(var a=0;a<t.length;++a)r.putByte(t[a])}}else r=c.util.createBuffer(r);if(!c.util.isArray(r)){t=r,r=[];var n=t.length();if(16===n||24===n||32===n){n>>>=2;for(var a=0;a<n;++a)r.push(t.getInt32())}}if(!c.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var s=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=i(r,e.decrypt&&!o),this._init=!0}},c.aes._expandKey=function(e,t){return d||n(),i(e,t)},c.aes._updateBlock=s,a("AES-ECB",c.cipher.modes.ecb),a("AES-CBC",c.cipher.modes.cbc),a("AES-CFB",c.cipher.modes.cfb),a("AES-OFB",c.cipher.modes.ofb),a("AES-CTR",c.cipher.modes.ctr),a("AES-GCM",c.cipher.modes.gcm);var u,l,p,h,f,d=!1,y=4},function(e,t,r){function a(e,t){s[e]=t,s[t]=e}function n(e,t){s[e]=t}var i=r(0);i.pki=i.pki||{};var s=e.exports=i.pki.oids=i.oids=i.oids||{};a("1.2.840.113549.1.1.1","rsaEncryption"),a("1.2.840.113549.1.1.4","md5WithRSAEncryption"),a("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),a("1.2.840.113549.1.1.7","RSAES-OAEP"),a("1.2.840.113549.1.1.8","mgf1"),a("1.2.840.113549.1.1.9","pSpecified"),a("1.2.840.113549.1.1.10","RSASSA-PSS"),a("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),a("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),a("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),a("1.3.14.3.2.7","desCBC"),a("1.3.14.3.2.26","sha1"),a("2.16.840.1.101.3.4.2.1","sha256"),a("2.16.840.1.101.3.4.2.2","sha384"),a("2.16.840.1.101.3.4.2.3","sha512"),a("1.2.840.113549.2.5","md5"),a("1.2.840.113549.1.7.1","data"),a("1.2.840.113549.1.7.2","signedData"),a("1.2.840.113549.1.7.3","envelopedData"),a("1.2.840.113549.1.7.4","signedAndEnvelopedData"),a("1.2.840.113549.1.7.5","digestedData"),a("1.2.840.113549.1.7.6","encryptedData"),a("1.2.840.113549.1.9.1","emailAddress"),a("1.2.840.113549.1.9.2","unstructuredName"),a("1.2.840.113549.1.9.3","contentType"),a("1.2.840.113549.1.9.4","messageDigest"),a("1.2.840.113549.1.9.5","signingTime"),a("1.2.840.113549.1.9.6","counterSignature"),a("1.2.840.113549.1.9.7","challengePassword"),a("1.2.840.113549.1.9.8","unstructuredAddress"),a("1.2.840.113549.1.9.14","extensionRequest"),a("1.2.840.113549.1.9.20","friendlyName"),a("1.2.840.113549.1.9.21","localKeyId"),a("1.2.840.113549.1.9.22.1","x509Certificate"),a("1.2.840.113549.1.12.10.1.1","keyBag"),a("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),a("1.2.840.113549.1.12.10.1.3","certBag"),a("1.2.840.113549.1.12.10.1.4","crlBag"),a("1.2.840.113549.1.12.10.1.5","secretBag"),a("1.2.840.113549.1.12.10.1.6","safeContentsBag"),a("1.2.840.113549.1.5.13","pkcs5PBES2"),a("1.2.840.113549.1.5.12","pkcs5PBKDF2"),a("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),a("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),a("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),a("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),a("1.2.840.113549.2.7","hmacWithSHA1"),a("1.2.840.113549.2.8","hmacWithSHA224"),a("1.2.840.113549.2.9","hmacWithSHA256"),a("1.2.840.113549.2.10","hmacWithSHA384"),a("1.2.840.113549.2.11","hmacWithSHA512"),a("1.2.840.113549.3.7","des-EDE3-CBC"),a("2.16.840.1.101.3.4.1.2","aes128-CBC"),a("2.16.840.1.101.3.4.1.22","aes192-CBC"),a("2.16.840.1.101.3.4.1.42","aes256-CBC"),a("2.5.4.3","commonName"),a("2.5.4.5","serialName"),a("2.5.4.6","countryName"),a("2.5.4.7","localityName"),a("2.5.4.8","stateOrProvinceName"),a("2.5.4.10","organizationName"),a("2.5.4.11","organizationalUnitName"),a("2.16.840.1.113730.1.1","nsCertType"),n("2.5.29.1","authorityKeyIdentifier"),n("2.5.29.2","keyAttributes"),n("2.5.29.3","certificatePolicies"),n("2.5.29.4","keyUsageRestriction"),n("2.5.29.5","policyMapping"),n("2.5.29.6","subtreesConstraint"),n("2.5.29.7","subjectAltName"),n("2.5.29.8","issuerAltName"),n("2.5.29.9","subjectDirectoryAttributes"),n("2.5.29.10","basicConstraints"),n("2.5.29.11","nameConstraints"),n("2.5.29.12","policyConstraints"),n("2.5.29.13","basicConstraints"),a("2.5.29.14","subjectKeyIdentifier"),a("2.5.29.15","keyUsage"),n("2.5.29.16","privateKeyUsagePeriod"),a("2.5.29.17","subjectAltName"),a("2.5.29.18","issuerAltName"),a("2.5.29.19","basicConstraints"),n("2.5.29.20","cRLNumber"),n("2.5.29.21","cRLReason"),n("2.5.29.22","expirationDate"),n("2.5.29.23","instructionCode"),n("2.5.29.24","invalidityDate"),n("2.5.29.25","cRLDistributionPoints"),n("2.5.29.26","issuingDistributionPoint"),n("2.5.29.27","deltaCRLIndicator"),n("2.5.29.28","issuingDistributionPoint"),n("2.5.29.29","certificateIssuer"),n("2.5.29.30","nameConstraints"),a("2.5.29.31","cRLDistributionPoints"),a("2.5.29.32","certificatePolicies"),n("2.5.29.33","policyMappings"),n("2.5.29.34","policyConstraints"),a("2.5.29.35","authorityKeyIdentifier"),n("2.5.29.36","policyConstraints"),a("2.5.29.37","extKeyUsage"),n("2.5.29.46","freshestCRL"),n("2.5.29.54","inhibitAnyPolicy"),a("1.3.6.1.4.1.11129.2.4.2","timestampList"),a("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),a("1.3.6.1.5.5.7.3.1","serverAuth"),a("1.3.6.1.5.5.7.3.2","clientAuth"),a("1.3.6.1.5.5.7.3.3","codeSigning"),a("1.3.6.1.5.5.7.3.4","emailProtection"),a("1.3.6.1.5.5.7.3.8","timeStamping")},function(e,t,r){function a(e){for(var t=e.name+": ",r=[],a=function(e,t){return" "+t},n=0;n<e.values.length;++n)r.push(e.values[n].replace(/^(\S+\r\n)/,a));t+=r.join(",")+"\r\n";for(var i=0,s=-1,n=0;n<t.length;++n,++i)if(i>65&&s!==-1){var o=t[s];","===o?(++s,t=t.substr(0,s)+"\r\n "+t.substr(s)):t=t.substr(0,s)+"\r\n"+o+t.substr(s+1),i=n-s-1,s=-1,++n}else" "!==t[n]&&"\t"!==t[n]&&","!==t[n]||(s=n);return t}function n(e){return e.replace(/^\s+/,"")}var i=r(0);r(1);var s=e.exports=i.pem=i.pem||{};s.encode=function(e,t){t=t||{};var r,n="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},n+=a(r)),e.contentDomain&&(r={name:"Content-Domain",values:[e.contentDomain]},n+=a(r)),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),n+=a(r)),e.headers)for(var s=0;s<e.headers.length;++s)n+=a(e.headers[s]);return e.procType&&(n+="\r\n"),n+=i.util.encode64(e.body,t.maxline||64)+"\r\n",n+="-----END "+e.type+"-----\r\n"},s.decode=function(e){for(var t,r=[],a=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;;){if(t=a.exec(e),!t)break;var c={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:i.util.decode64(t[3])};if(r.push(c),t[2]){for(var u=t[2].split(o),l=0;t&&l<u.length;){for(var p=u[l].replace(/\s+$/,""),h=l+1;h<u.length;++h){var f=u[h];if(!/\s/.test(f[0]))break;p+=f,l=h}if(t=p.match(s)){for(var d={name:t[1],values:[]},y=t[2].split(","),g=0;g<y.length;++g)d.values.push(n(y[g]));if(c.procType)if(c.contentDomain||"Content-Domain"!==d.name)if(c.dekInfo||"DEK-Info"!==d.name)c.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:y[0],parameters:y[1]||null}}else c.contentDomain=y[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:y[0],type:y[1]}}}++l}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},function(e,t,r){var a=r(0);r(4),r(1);var n=e.exports=a.hmac=a.hmac||{};n.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(i,s){if(null!==i)if("string"==typeof i){if(i=i.toLowerCase(),!(i in a.md.algorithms))throw new Error('Unknown hash algorithm "'+i+'"');t=a.md.algorithms[i].create()}else t=i;if(null===s)s=e;else{if("string"==typeof s)s=a.util.createBuffer(s);else if(a.util.isArray(s)){var o=s;s=a.util.createBuffer();for(var c=0;c<o.length;++c)s.putByte(o[c])}var u=s.length();u>t.blockLength&&(t.start(),t.update(s.bytes()),s=t.digest()),r=a.util.createBuffer(),n=a.util.createBuffer(),u=s.length();for(var c=0;c<u;++c){var o=s.at(c);r.putByte(54^o),n.putByte(92^o)}if(u<t.blockLength)for(var o=t.blockLength-u,c=0;c<o;++c)r.putByte(54),n.putByte(92);e=s,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(e){t.update(e)},i.getMac=function(){var e=t.digest().bytes();return t.start(),t.update(n),t.update(e),t.digest()},i.digest=i.getMac,i}},function(e,t,r){function a(){o=String.fromCharCode(128),o+=i.util.fillString(String.fromCharCode(0),64),c=!0}function n(e,t,r){for(var a,n,i,s,o,c,u,l,p=r.length();p>=64;){for(n=e.h0,i=e.h1,s=e.h2,o=e.h3,c=e.h4,l=0;l<16;++l)a=r.getInt32(),t[l]=a,u=o^i&(s^o),a=(n<<5|n>>>27)+u+c+1518500249+a,c=o,o=s,s=(i<<30|i>>>2)>>>0,i=n,n=a;for(;l<20;++l)a=t[l-3]^t[l-8]^t[l-14]^t[l-16],a=a<<1|a>>>31,t[l]=a,u=o^i&(s^o),a=(n<<5|n>>>27)+u+c+1518500249+a,c=o,o=s,s=(i<<30|i>>>2)>>>0,i=n,n=a;for(;l<32;++l)a=t[l-3]^t[l-8]^t[l-14]^t[l-16],a=a<<1|a>>>31,t[l]=a,u=i^s^o,a=(n<<5|n>>>27)+u+c+1859775393+a,c=o,o=s,s=(i<<30|i>>>2)>>>0,i=n,n=a;for(;l<40;++l)a=t[l-6]^t[l-16]^t[l-28]^t[l-32],a=a<<2|a>>>30,t[l]=a,u=i^s^o,a=(n<<5|n>>>27)+u+c+1859775393+a,c=o,o=s,s=(i<<30|i>>>2)>>>0,i=n,n=a;for(;l<60;++l)a=t[l-6]^t[l-16]^t[l-28]^t[l-32],a=a<<2|a>>>30,t[l]=a,u=i&s|o&(i^s),a=(n<<5|n>>>27)+u+c+2400959708+a,c=o,o=s,s=(i<<30|i>>>2)>>>0,i=n,n=a;for(;l<80;++l)a=t[l-6]^t[l-16]^t[l-28]^t[l-32],a=a<<2|a>>>30,t[l]=a,u=i^s^o,a=(n<<5|n>>>27)+u+c+3395469782+a,c=o,o=s,s=(i<<30|i>>>2)>>>0,i=n,n=a;e.h0=e.h0+n|0,e.h1=e.h1+i|0,e.h2=e.h2+s|0,e.h3=e.h3+o|0,e.h4=e.h4+c|0,p-=64}}var i=r(0);r(4),r(1);var s=e.exports=i.sha1=i.sha1||{};i.md.sha1=i.md.algorithms.sha1=s,s.create=function(){c||a();var e=null,t=i.util.createBuffer(),r=new Array(80),s={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var r=s.messageLengthSize/4,a=0;a<r;++a)s.fullMessageLength.push(0);return t=i.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},s},s.start(),s.update=function(a,o){"utf8"===o&&(a=i.util.encodeUtf8(a));var c=a.length;s.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var u=s.fullMessageLength.length-1;u>=0;--u)s.fullMessageLength[u]+=c[1],c[1]=c[0]+(s.fullMessageLength[u]/4294967296>>>0),s.fullMessageLength[u]=s.fullMessageLength[u]>>>0,c[0]=c[1]/4294967296>>>0;return t.putBytes(a),n(e,r,t),(t.read>2048||0===t.length())&&t.compact(),s},s.digest=function(){var a=i.util.createBuffer();a.putBytes(t.bytes());var c=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,u=c&s.blockLength-1;a.putBytes(o.substr(0,s.blockLength-u));for(var l,p,h=8*s.fullMessageLength[0],f=0;f<s.fullMessageLength.length-1;++f)l=8*s.fullMessageLength[f+1],p=l/4294967296>>>0,h+=p,a.putInt32(h>>>0),h=l>>>0;a.putInt32(h);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};n(d,r,a);var y=i.util.createBuffer();return y.putInt32(d.h0),y.putInt32(d.h1),y.putInt32(d.h2),y.putInt32(d.h3),y.putInt32(d.h4),y},s};var o=null,c=!1},function(e,t,r){function a(e,t){var r=function(){return new o.des.Algorithm(e,t)};o.cipher.registerAlgorithm(e,r)}function n(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],a=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],p=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,v=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],C=0,E=0;E<g;E++){var S=e.getInt32(),T=e.getInt32();t=252645135&(S>>>4^T),T^=t,S^=t<<4,t=65535&(T>>>-16^S),S^=t,T^=t<<-16,t=858993459&(S>>>2^T),T^=t,S^=t<<2,t=65535&(T>>>-16^S),S^=t,T^=t<<-16,t=1431655765&(S>>>1^T),T^=t,S^=t<<1,t=16711935&(T>>>8^S),S^=t,T^=t<<8,t=1431655765&(S>>>1^T),T^=t,S^=t<<1,t=S<<8|T>>>20&240,S=T<<24|T<<8&16711680|T>>>8&65280|T>>>24&240,T=t;for(var I=0;I<m.length;++I){m[I]?(S=S<<2|S>>>26,T=T<<2|T>>>26):(S=S<<1|S>>>27,T=T<<1|T>>>27),S&=-15,T&=-15;var A=r[S>>>28]|a[S>>>24&15]|n[S>>>20&15]|i[S>>>16&15]|s[S>>>12&15]|o[S>>>8&15]|c[S>>>4&15],b=u[T>>>28]|l[T>>>24&15]|p[T>>>20&15]|h[T>>>16&15]|f[T>>>12&15]|d[T>>>8&15]|y[T>>>4&15];t=65535&(b>>>16^A),v[C++]=A^t,v[C++]=b^t<<16}}return v}function i(e,t,r,a){var n,i=32===e.length?3:9;n=3===i?a?[30,-2,-2]:[0,32,2]:a?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,o=t[0],g=t[1];s=252645135&(o>>>4^g),g^=s,o^=s<<4,s=65535&(o>>>16^g),g^=s,o^=s<<16,s=858993459&(g>>>2^o),o^=s,g^=s<<2,s=16711935&(g>>>8^o),o^=s,g^=s<<8,s=1431655765&(o>>>1^g),g^=s,o^=s<<1,o=o<<1|o>>>31,g=g<<1|g>>>31;for(var v=0;v<i;v+=3){for(var m=n[v+1],C=n[v+2],E=n[v];E!=m;E+=C){var S=g^e[E],T=(g>>>4|g<<28)^e[E+1];s=o,o=g,g=s^(u[S>>>24&63]|p[S>>>16&63]|f[S>>>8&63]|y[63&S]|c[T>>>24&63]|l[T>>>16&63]|h[T>>>8&63]|d[63&T])}s=o,o=g,g=s}o=o>>>1|o<<31,g=g>>>1|g<<31,s=1431655765&(o>>>1^g),g^=s,o^=s<<1,s=16711935&(g>>>8^o),o^=s,g^=s<<8,s=858993459&(g>>>2^o),o^=s,g^=s<<2,s=65535&(o>>>16^g),g^=s,o^=s<<16,s=252645135&(o>>>4^g),g^=s,o^=s<<4,r[0]=o,r[1]=g}function s(e){e=e||{};var t,r=(e.mode||"CBC").toUpperCase(),a="DES-"+r;t=e.decrypt?o.cipher.createDecipher(a,e.key):o.cipher.createCipher(a,e.key);var n=t.start;return t.start=function(e,r){var a=null;r instanceof o.util.ByteBuffer&&(a=r,r={}),r=r||{},r.output=a,r.iv=e,n.call(t,r)},t}var o=r(0);r(12),r(18),r(1),e.exports=o.des=o.des||{},o.des.startEncrypting=function(e,t,r,a){var n=s({key:e,output:r,decrypt:!1,mode:a||(null===t?"ECB":"CBC")});return n.start(t),n},o.des.createEncryptionCipher=function(e,t){return s({key:e,output:null,decrypt:!1,mode:t})},o.des.startDecrypting=function(e,t,r,a){var n=s({key:e,output:r,decrypt:!0,mode:a||(null===t?"ECB":"CBC")});return n.start(t),n},o.des.createDecryptionCipher=function(e,t){return s({key:e,output:null,decrypt:!0,mode:t})},o.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return i(r._keys,e,t,!1)},decrypt:function(e,t){return i(r._keys,e,t,!0)}}}),r._init=!1},o.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=o.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=n(t),this._init=!0}},a("DES-ECB",o.cipher.modes.ecb),a("DES-CBC",o.cipher.modes.cbc),a("DES-CFB",o.cipher.modes.cfb),a("DES-OFB",o.cipher.modes.ofb),a("DES-CTR",o.cipher.modes.ctr),a("3DES-ECB",o.cipher.modes.ecb),a("3DES-CBC",o.cipher.modes.cbc),a("3DES-CFB",o.cipher.modes.cfb),a("3DES-OFB",o.cipher.modes.ofb),a("3DES-CTR",o.cipher.modes.ctr);var c=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],u=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],l=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],p=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],h=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],y=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696]},function(e,t,r){function a(e,t,r){var a=p.util.createBuffer(),n=Math.ceil(t.n.bitLength()/8);if(e.length>n-11){var i=new Error("Message is too long for PKCS#1 v1.5 padding.");throw i.length=e.length,i.max=n-11,i}a.putByte(0),a.putByte(r);var s,o=n-3-e.length;if(0===r||1===r){s=0===r?0:255;for(var c=0;c<o;++c)a.putByte(s)}else for(;o>0;){for(var u=0,l=p.random.getBytes(o),c=0;c<o;++c)s=l.charCodeAt(c),0===s?++u:a.putByte(s);o=u}return a.putByte(0),a.putBytes(e),a}function n(e,t,r,a){var n=Math.ceil(t.n.bitLength()/8),i=p.util.createBuffer(e),s=i.getByte(),o=i.getByte();if(0!==s||r&&0!==o&&1!==o||!r&&2!=o||r&&0===o&&"undefined"==typeof a)throw new Error("Encryption block is invalid.");var c=0;if(0===o){c=n-3-a;for(var u=0;u<c;++u)if(0!==i.getByte())throw new Error("Encryption block is invalid.")}else if(1===o)for(c=0;i.length()>1;){if(255!==i.getByte()){--i.read;break}++c}else if(2===o)for(c=0;i.length()>1;){if(0===i.getByte()){--i.read;break}++c}var l=i.getByte();if(0!==l||c!==n-3-i.length())throw new Error("Encryption block is invalid.");return i.getBytes()}function i(e,t,r){function a(){n(e.pBits,function(t,a){return t?r(t):(e.p=a,null!==e.q?i(t,e.q):void n(e.qBits,i))})}function n(e,t){p.prime.generateProbablePrime(e,s,t)}function i(t,s){if(t)return r(t);if(e.q=s,e.p.compareTo(e.q)<0){var o=e.p;e.p=e.q,e.q=o}if(0!==e.p.subtract(h.ONE).gcd(e.e).compareTo(h.ONE))return e.p=null,void a();if(0!==e.q.subtract(h.ONE).gcd(e.e).compareTo(h.ONE))return e.q=null,void n(e.qBits,i);if(e.p1=e.p.subtract(h.ONE),e.q1=e.q.subtract(h.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(h.ONE))return e.p=e.q=null,void a();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void n(e.qBits,i);var c=e.e.modInverse(e.phi);e.keys={privateKey:d.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:d.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"function"==typeof t&&(r=t,t={}),t=t||{};var s={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(s.prng=t.prng),a()}function s(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=p.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0===(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128===(128&r.charCodeAt(1)))?r.substr(1):r}function o(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function c(e){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[e];
}function u(e){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[e]}function l(e){for(var t=p.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),a=0;a<t.length;++a)r[a]=t.charCodeAt(a);return r}var p=r(0);if(r(3),r(13),r(6),r(23),r(27),r(2),r(1),"undefined"==typeof h)var h=p.jsbn.BigInteger;var f=p.asn1;p.pki=p.pki||{},e.exports=p.pki.rsa=p.rsa=p.rsa||{};var d=p.pki,y=[6,4,2,4,2,4,6,2],g={name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},v={name:"RSAPrivateKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},m={name:"RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},C=p.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},E=function(e){var t;if(!(e.algorithm in d.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=d.oids[e.algorithm];var a=f.oidToDer(t).getBytes(),n=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),i=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);i.value.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,a)),i.value.push(f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,""));var s=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,e.digest().getBytes());return n.value.push(i),n.value.push(s),f.toDer(n).getBytes()},S=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(h.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(h.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var a;do a=new h(p.util.bytesToHex(p.random.getBytes(t.n.bitLength()/8)),16);while(a.compareTo(t.n)>=0||!a.gcd(t.n).equals(h.ONE));e=e.multiply(a.modPow(t.e,t.n)).mod(t.n);for(var n=e.mod(t.p).modPow(t.dP,t.p),i=e.mod(t.q).modPow(t.dQ,t.q);n.compareTo(i)<0;)n=n.add(t.p);var s=n.subtract(i).multiply(t.qInv).mod(t.p).multiply(t.q).add(i);return s=s.multiply(a.modInverse(t.n)).mod(t.n)};d.rsa.encrypt=function(e,t,r){var n,i=r,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(i=2===r,n=a(e,t,r)):(n=p.util.createBuffer(),n.putBytes(e));for(var o=new h(n.toHex(),16),c=S(o,t,i),u=c.toString(16),l=p.util.createBuffer(),f=s-Math.ceil(u.length/2);f>0;)l.putByte(0),--f;return l.putBytes(p.util.hexToBytes(u)),l.getBytes()},d.rsa.decrypt=function(e,t,r,a){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var o=new h(p.util.createBuffer(e).toHex(),16);if(o.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=S(o,t,r),u=c.toString(16),l=p.util.createBuffer(),f=i-Math.ceil(u.length/2);f>0;)l.putByte(0),--f;return l.putBytes(p.util.hexToBytes(u)),a!==!1?n(l.getBytes(),t,r):l.getBytes()},d.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048,r=r||{};var a,n=r.prng||p.random,i={nextBytes:function(e){for(var t=n.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},s=r.algorithm||"PRIMEINC";if("PRIMEINC"!==s)throw new Error("Invalid key generation algorithm: "+s);return a={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new h(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt),a},d.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new h(null);r.fromInt(30);for(var a,n=0,i=function(e,t){return e|t},s=+new Date,c=0;null===e.keys&&(t<=0||c<t);){if(0===e.state){var u=null===e.p?e.pBits:e.qBits,l=u-1;0===e.pqState?(e.num=new h(u,e.rng),e.num.testBit(l)||e.num.bitwiseTo(h.ONE.shiftLeft(l),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):1===e.pqState?e.num.bitLength()>u?e.pqState=0:e.num.isProbablePrime(o(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(y[n++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(h.ONE).gcd(e.e).compareTo(h.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(h.ONE),e.q1=e.q.subtract(h.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(h.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var p=e.e.modInverse(e.phi);e.keys={privateKey:d.rsa.setPrivateKey(e.n,e.e,p,e.p,e.q,p.mod(e.p1),p.mod(e.q1),e.q.modInverse(e.p)),publicKey:d.rsa.setPublicKey(e.n,e.e)}}a=+new Date,c+=a-s,s=a}return null!==e.keys},d.rsa.generateKeyPair=function(e,t,r,a){if(1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(a=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(a=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,a=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(a=r,r=void 0):(a=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!p.options.usePureJavaScript&&a&&e>=256&&e<=16384&&(65537===t||3===t)){if(c("generateKey")&&c("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:l(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return window.crypto.subtle.exportKey("pkcs8",e.privateKey)}).then(void 0,function(e){a(e)}).then(function(e){if(e){var t=d.privateKeyFromAsn1(f.fromDer(p.util.createBuffer(e)));a(null,{privateKey:t,publicKey:d.setRsaPublicKey(t.n,t.e)})}});if(u("generateKey")&&u("exportKey")){var n=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:l(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return n.oncomplete=function(e){var t=e.target.result,r=window.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=d.privateKeyFromAsn1(f.fromDer(p.util.createBuffer(t)));a(null,{privateKey:r,publicKey:d.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){a(e)}},void(n.onerror=function(e){a(e)})}}var s=d.rsa.createKeyPairGenerationState(e,t,r);return a?void i(s,r,a):(d.rsa.stepKeyPairGenerationState(s,0),s.keys)},d.setRsaPublicKey=d.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(e,t,n){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return a(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return p.pkcs1.encode_rsa_oaep(t,e,n)}};else if(["RAW","NONE","NULL",null].indexOf(t)!==-1)t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var i=t.encode(e,r,!0);return d.rsa.encrypt(i,r,!0)},r.verify=function(e,t,a){"string"==typeof a?a=a.toUpperCase():void 0===a&&(a="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===a?a={verify:function(e,t){t=n(t,r,!0);var a=f.fromDer(t);return e===a.value[1].value}}:"NONE"!==a&&"NULL"!==a&&null!==a||(a={verify:function(e,t){return t=n(t,r,!0),e===t}});var i=d.rsa.decrypt(t,r,!0,!1);return a.verify(e,i,r.n.bitLength())},r},d.setRsaPrivateKey=d.rsa.setPrivateKey=function(e,t,r,a,i,s,o,c){var u={n:e,e:t,d:r,p:a,q:i,dP:s,dQ:o,qInv:c};return u.decrypt=function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var a=d.rsa.decrypt(e,u,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:n};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return p.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(["RAW","NONE","NULL",null].indexOf(t)===-1)throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(a,u,!1)},u.sign=function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:E},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var a=t.encode(e,u.n.bitLength());return d.rsa.encrypt(a,u,r)},u},d.wrapRsaPrivateKey=function(e){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(d.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,f.toDer(e).getBytes())])},d.privateKeyFromAsn1=function(e){var t={},r=[];if(f.validate(e,g,t,r)&&(e=f.fromDer(p.util.createBuffer(t.privateKey))),t={},r=[],!f.validate(e,v,t,r)){var a=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw a.errors=r,a}var n,i,s,o,c,u,l,y;return n=p.util.createBuffer(t.privateKeyModulus).toHex(),i=p.util.createBuffer(t.privateKeyPublicExponent).toHex(),s=p.util.createBuffer(t.privateKeyPrivateExponent).toHex(),o=p.util.createBuffer(t.privateKeyPrime1).toHex(),c=p.util.createBuffer(t.privateKeyPrime2).toHex(),u=p.util.createBuffer(t.privateKeyExponent1).toHex(),l=p.util.createBuffer(t.privateKeyExponent2).toHex(),y=p.util.createBuffer(t.privateKeyCoefficient).toHex(),d.setRsaPrivateKey(new h(n,16),new h(i,16),new h(s,16),new h(o,16),new h(c,16),new h(u,16),new h(l,16),new h(y,16))},d.privateKeyToAsn1=d.privateKeyToRSAPrivateKey=function(e){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,s(e.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,s(e.e)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,s(e.d)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,s(e.p)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,s(e.q)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,s(e.dP)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,s(e.dQ)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,s(e.qInv))])},d.publicKeyFromAsn1=function(e){var t={},r=[];if(f.validate(e,C,t,r)){var a=f.derToOid(t.publicKeyOid);if(a!==d.oids.rsaEncryption){var n=new Error("Cannot read public key. Unknown OID.");throw n.oid=a,n}e=t.rsaPublicKey}if(r=[],!f.validate(e,m,t,r)){var n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw n.errors=r,n}var i=p.util.createBuffer(t.publicKeyModulus).toHex(),s=p.util.createBuffer(t.publicKeyExponent).toHex();return d.setRsaPublicKey(new h(i,16),new h(s,16))},d.publicKeyToAsn1=d.publicKeyToSubjectPublicKeyInfo=function(e){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(d.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,[d.publicKeyToRSAPublicKey(e)])])},d.publicKeyToRSAPublicKey=function(e){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,s(e.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,s(e.e))])}},function(e,t,r){var a=r(0);r(1),e.exports=a.cipher=a.cipher||{},a.cipher.algorithms=a.cipher.algorithms||{},a.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=a.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new a.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},a.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=a.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new a.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},a.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),a.cipher.algorithms[e]=t},a.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in a.cipher.algorithms?a.cipher.algorithms[e]:null};var n=a.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};n.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=a.util.createBuffer(),this.output=e.output||a.util.createBuffer(),this.mode.start(t)},n.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},n.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},function(e,t,r){function a(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function n(){return new a(null)}function i(e,t,r,a,n,i){for(;--i>=0;){var s=t*this.data[e++]+r.data[a]+n;n=Math.floor(s/67108864),r.data[a++]=67108863&s}return n}function s(e,t,r,a,n,i){for(var s=32767&t,o=t>>15;--i>=0;){var c=32767&this.data[e],u=this.data[e++]>>15,l=o*c+u*s;c=s*c+((32767&l)<<15)+r.data[a]+(1073741823&n),n=(c>>>30)+(l>>>15)+o*u+(n>>>30),r.data[a++]=1073741823&c}return n}function o(e,t,r,a,n,i){for(var s=16383&t,o=t>>14;--i>=0;){var c=16383&this.data[e],u=this.data[e++]>>14,l=o*c+u*s;c=s*c+((16383&l)<<14)+r.data[a]+n,n=(c>>28)+(l>>14)+o*u,r.data[a++]=268435455&c}return n}function c(e){return ct.charAt(e)}function u(e,t){var r=ut[e.charCodeAt(t)];return null==r?-1:r}function l(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function p(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function h(e){var t=n();return t.fromInt(e),t}function f(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var o=8==r?255&e[n]:u(e,n);o<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==s?this.data[this.t++]=o:s+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,s+=r,s>=this.DB&&(s-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&a.ZERO.subTo(this,this)}function d(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function y(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,a=(1<<t)-1,n=!1,i="",s=this.t,o=this.DB-s*this.DB%t;if(s-- >0)for(o<this.DB&&(r=this.data[s]>>o)>0&&(n=!0,i=c(r));s>=0;)o<t?(r=(this.data[s]&(1<<o)-1)<<t-o,r|=this.data[--s]>>(o+=this.DB-t)):(r=this.data[s]>>(o-=t)&a,o<=0&&(o+=this.DB,--s)),r>0&&(n=!0),n&&(i+=c(r));return n?i:"0"}function g(){var e=n();return a.ZERO.subTo(this,e),e}function v(){return this.s<0?this.negate():this}function m(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(t=r-e.t,0!=t)return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0}function C(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function E(){return this.t<=0?0:this.DB*(this.t-1)+C(this.data[this.t-1]^this.s&this.DM)}function S(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function T(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function I(e,t){var r,a=e%this.DB,n=this.DB-a,i=(1<<n)-1,s=Math.floor(e/this.DB),o=this.s<<a&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+s+1]=this.data[r]>>n|o,o=(this.data[r]&i)<<a;for(r=s-1;r>=0;--r)t.data[r]=0;t.data[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()}function A(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)return void(t.t=0);var a=e%this.DB,n=this.DB-a,i=(1<<a)-1;t.data[0]=this.data[r]>>a;for(var s=r+1;s<this.t;++s)t.data[s-r-1]|=(this.data[s]&i)<<n,t.data[s-r]=this.data[s]>>a;a>0&&(t.data[this.t-r-1]|=(this.s&i)<<n),t.t=this.t-r,t.clamp()}function b(e,t){for(var r=0,a=0,n=Math.min(e.t,this.t);r<n;)a+=this.data[r]-e.data[r],t.data[r++]=a&this.DM,a>>=this.DB;if(e.t<this.t){for(a-=e.s;r<this.t;)a+=this.data[r],t.data[r++]=a&this.DM,a>>=this.DB;a+=this.s}else{for(a+=this.s;r<e.t;)a-=e.data[r],t.data[r++]=a&this.DM,a>>=this.DB;a-=e.s}t.s=a<0?-1:0,a<-1?t.data[r++]=this.DV+a:a>0&&(t.data[r++]=a),t.t=r,t.clamp()}function B(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&a.ZERO.subTo(t,t)}function N(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var a=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,a,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function k(e,t,r){var i=e.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=n());var o=n(),c=this.s,u=e.s,l=this.DB-C(i.data[i.t-1]);l>0?(i.lShiftTo(l,o),s.lShiftTo(l,r)):(i.copyTo(o),s.copyTo(r));var p=o.t,h=o.data[p-1];if(0!=h){var f=h*(1<<this.F1)+(p>1?o.data[p-2]>>this.F2:0),d=this.FV/f,y=(1<<this.F1)/f,g=1<<this.F2,v=r.t,m=v-p,E=null==t?n():t;for(o.dlShiftTo(m,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),a.ONE.dlShiftTo(p,E),E.subTo(o,o);o.t<p;)o.data[o.t++]=0;for(;--m>=0;){var S=r.data[--v]==h?this.DM:Math.floor(r.data[v]*d+(r.data[v-1]+g)*y);if((r.data[v]+=o.am(0,S,r,m,0,p))<S)for(o.dlShiftTo(m,E),r.subTo(E,r);r.data[v]<--S;)r.subTo(E,r)}null!=t&&(r.drShiftTo(p,t),c!=u&&a.ZERO.subTo(t,t)),r.t=p,r.clamp(),l>0&&r.rShiftTo(l,r),c<0&&a.ZERO.subTo(r,r)}}}function R(e){var t=n();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(a.ZERO)>0&&e.subTo(t,t),t}function w(e){this.m=e}function L(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function _(e){return e}function U(e){e.divRemTo(this.m,null,e)}function D(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function P(e,t){e.squareTo(t),this.reduce(t)}function V(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function O(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function x(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(a.ZERO)>0&&this.m.subTo(t,t),t}function K(e){var t=n();return e.copyTo(t),this.reduce(t),t}function M(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],a=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,a,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function F(e,t){e.squareTo(t),this.reduce(t)}function q(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function j(){return 0==(this.t>0?1&this.data[0]:this.s)}function H(e,t){if(e>4294967295||e<1)return a.ONE;var r=n(),i=n(),s=t.convert(this),o=C(e)-1;for(s.copyTo(r);--o>=0;)if(t.sqrTo(r,i),(e&1<<o)>0)t.mulTo(i,s,r);else{var c=r;r=i,i=c}return t.revert(r)}function G(e,t){var r;return r=e<256||t.isEven()?new w(t):new O(t),this.exp(e,r)}function Q(){var e=n();return this.copyTo(e),e}function z(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function W(){return 0==this.t?this.s:this.data[0]<<24>>24}function X(){return 0==this.t?this.s:this.data[0]<<16>>16}function Y(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function Z(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1}function J(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),a=h(r),i=n(),s=n(),o="";for(this.divRemTo(a,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(a,i,s);return s.intValue().toString(e)+o}function $(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,o=0,c=0;c<e.length;++c){var l=u(e,c);l<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(o=t*o+l,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(o,0)),i&&a.ZERO.subTo(this,this)}function ee(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(a.ONE.shiftLeft(e-1),ce,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(a.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function te(){var e=this.t,t=new Array;t[0]=this.s;var r,a=this.DB-e*this.DB%8,n=0;if(e-- >0)for(a<this.DB&&(r=this.data[e]>>a)!=(this.s&this.DM)>>a&&(t[n++]=r|this.s<<this.DB-a);e>=0;)a<8?(r=(this.data[e]&(1<<a)-1)<<8-a,r|=this.data[--e]>>(a+=this.DB-8)):(r=this.data[e]>>(a-=8)&255,a<=0&&(a+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==n&&(128&this.s)!=(128&r)&&++n,(n>0||r!=this.s)&&(t[n++]=r);return t}function re(e){return 0==this.compareTo(e)}function ae(e){return this.compareTo(e)<0?this:e}function ne(e){return this.compareTo(e)>0?this:e}function ie(e,t,r){var a,n,i=Math.min(e.t,this.t);for(a=0;a<i;++a)r.data[a]=t(this.data[a],e.data[a]);if(e.t<this.t){for(n=e.s&this.DM,a=i;a<this.t;++a)r.data[a]=t(this.data[a],n);r.t=this.t}else{for(n=this.s&this.DM,a=i;a<e.t;++a)r.data[a]=t(n,e.data[a]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function se(e,t){return e&t}function oe(e){var t=n();return this.bitwiseTo(e,se,t),t}function ce(e,t){return e|t}function ue(e){var t=n();return this.bitwiseTo(e,ce,t),t}function le(e,t){return e^t}function pe(e){var t=n();return this.bitwiseTo(e,le,t),t}function he(e,t){return e&~t}function fe(e){var t=n();return this.bitwiseTo(e,he,t),t}function de(){for(var e=n(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function ye(e){var t=n();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function ge(e){var t=n();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function ve(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function me(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+ve(this.data[e]);return this.s<0?this.t*this.DB:-1}function Ce(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function Ee(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Ce(this.data[r]^t);return e}function Se(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)}function Te(e,t){var r=a.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function Ie(e){return this.changeBit(e,ce)}function Ae(e){return this.changeBit(e,he)}function be(e){return this.changeBit(e,le)}function Be(e,t){for(var r=0,a=0,n=Math.min(e.t,this.t);r<n;)a+=this.data[r]+e.data[r],t.data[r++]=a&this.DM,a>>=this.DB;if(e.t<this.t){for(a+=e.s;r<this.t;)a+=this.data[r],t.data[r++]=a&this.DM,a>>=this.DB;a+=this.s}else{for(a+=this.s;r<e.t;)a+=e.data[r],t.data[r++]=a&this.DM,a>>=this.DB;a+=e.s}t.s=a<0?-1:0,a>0?t.data[r++]=a:a<-1&&(t.data[r++]=this.DV+a),t.t=r,t.clamp()}function Ne(e){var t=n();return this.addTo(e,t),t}function ke(e){var t=n();return this.subTo(e,t),t}function Re(e){var t=n();return this.multiplyTo(e,t),t}function we(e){var t=n();return this.divRemTo(e,t,null),t}function Le(e){var t=n();return this.divRemTo(e,null,t),t}function _e(e){var t=n(),r=n();return this.divRemTo(e,t,r),new Array(t,r)}function Ue(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function De(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function Pe(){}function Ve(e){return e}function Oe(e,t,r){e.multiplyTo(t,r)}function xe(e,t){e.squareTo(t)}function Ke(e){return this.exp(e,new Pe)}function Me(e,t,r){var a=Math.min(this.t+e.t,t);for(r.s=0,r.t=a;a>0;)r.data[--a]=0;var n;for(n=r.t-this.t;a<n;++a)r.data[a+this.t]=this.am(0,e.data[a],r,a,0,this.t);for(n=Math.min(e.t,t);a<n;++a)this.am(0,e.data[a],r,a,0,t-a);r.clamp()}function Fe(e,t,r){--t;var a=r.t=this.t+e.t-t;for(r.s=0;--a>=0;)r.data[a]=0;for(a=Math.max(t-this.t,0);a<e.t;++a)r.data[this.t+a-t]=this.am(t-a,e.data[a],r,0,0,this.t+a-t);r.clamp(),r.drShiftTo(1,r)}function qe(e){this.r2=n(),this.q3=n(),a.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function je(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t}function He(e){return e}function Ge(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Qe(e,t){e.squareTo(t),this.reduce(t)}function ze(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function We(e,t){var r,a,i=e.bitLength(),s=h(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,a=i<8?new w(t):t.isEven()?new qe(t):new O(t);var o=new Array,c=3,u=r-1,l=(1<<r)-1;if(o[1]=a.convert(this),r>1){var p=n();for(a.sqrTo(o[1],p);c<=l;)o[c]=n(),a.mulTo(p,o[c-2],o[c]),c+=2}var f,d,y=e.t-1,g=!0,v=n();for(i=C(e.data[y])-1;y>=0;){for(i>=u?f=e.data[y]>>i-u&l:(f=(e.data[y]&(1<<i+1)-1)<<u-i,y>0&&(f|=e.data[y-1]>>this.DB+i-u)),c=r;0==(1&f);)f>>=1,--c;if((i-=c)<0&&(i+=this.DB,--y),g)o[f].copyTo(s),g=!1;else{for(;c>1;)a.sqrTo(s,v),a.sqrTo(v,s),c-=2;c>0?a.sqrTo(s,v):(d=s,s=v,v=d),a.mulTo(v,o[f],s)}for(;y>=0&&0==(e.data[y]&1<<i);)a.sqrTo(s,v),d=s,s=v,v=d,--i<0&&(i=this.DB-1,--y)}return a.revert(s)}function Xe(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var a=t;t=r,r=a}var n=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(n<i&&(i=n),i>0&&(t.rShiftTo(i,t),r.rShiftTo(i,r));t.signum()>0;)(n=t.getLowestSetBit())>0&&t.rShiftTo(n,t),(n=r.getLowestSetBit())>0&&r.rShiftTo(n,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r}function Ye(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var a=this.t-1;a>=0;--a)r=(t*r+this.data[a])%e;return r}function Ze(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return a.ZERO;for(var r=e.clone(),n=this.clone(),i=h(1),s=h(0),o=h(0),c=h(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&c.isEven()||(o.addTo(this,o),c.subTo(e,c)),o.rShiftTo(1,o)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(o,i),s.subTo(c,s)):(n.subTo(r,n),t&&o.subTo(i,o),c.subTo(s,c))}return 0!=n.compareTo(a.ONE)?a.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c}function Je(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=lt[lt.length-1]){for(t=0;t<lt.length;++t)if(r.data[0]==lt[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<lt.length;){for(var a=lt[t],n=t+1;n<lt.length&&a<pt;)a*=lt[n++];for(a=r.modInt(a);t<n;)if(a%lt[t++]==0)return!1}return r.millerRabin(e)}function $e(e){var t=this.subtract(a.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),s=et(),o=0;o<e;++o){do n=new a(this.bitLength(),s);while(n.compareTo(a.ONE)<=0||n.compareTo(t)>=0);var c=n.modPow(i,this);if(0!=c.compareTo(a.ONE)&&0!=c.compareTo(t)){for(var u=1;u++<r&&0!=c.compareTo(t);)if(c=c.modPowInt(2,this),0==c.compareTo(a.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0}function et(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}}}var tt=r(0);e.exports=tt.jsbn=tt.jsbn||{};var rt,at=0xdeadbeefcafe,nt=15715070==(16777215&at);tt.jsbn.BigInteger=a,"undefined"==typeof navigator?(a.prototype.am=o,rt=28):nt&&"Microsoft Internet Explorer"==navigator.appName?(a.prototype.am=s,rt=30):nt&&"Netscape"!=navigator.appName?(a.prototype.am=i,rt=26):(a.prototype.am=o,rt=28),a.prototype.DB=rt,a.prototype.DM=(1<<rt)-1,a.prototype.DV=1<<rt;var it=52;a.prototype.FV=Math.pow(2,it),a.prototype.F1=it-rt,a.prototype.F2=2*rt-it;var st,ot,ct="0123456789abcdefghijklmnopqrstuvwxyz",ut=new Array;for(st="0".charCodeAt(0),ot=0;ot<=9;++ot)ut[st++]=ot;for(st="a".charCodeAt(0),ot=10;ot<36;++ot)ut[st++]=ot;for(st="A".charCodeAt(0),ot=10;ot<36;++ot)ut[st++]=ot;w.prototype.convert=L,w.prototype.revert=_,w.prototype.reduce=U,w.prototype.mulTo=D,w.prototype.sqrTo=P,O.prototype.convert=x,O.prototype.revert=K,O.prototype.reduce=M,O.prototype.mulTo=q,O.prototype.sqrTo=F,a.prototype.copyTo=l,a.prototype.fromInt=p,
a.prototype.fromString=f,a.prototype.clamp=d,a.prototype.dlShiftTo=S,a.prototype.drShiftTo=T,a.prototype.lShiftTo=I,a.prototype.rShiftTo=A,a.prototype.subTo=b,a.prototype.multiplyTo=B,a.prototype.squareTo=N,a.prototype.divRemTo=k,a.prototype.invDigit=V,a.prototype.isEven=j,a.prototype.exp=H,a.prototype.toString=y,a.prototype.negate=g,a.prototype.abs=v,a.prototype.compareTo=m,a.prototype.bitLength=E,a.prototype.mod=R,a.prototype.modPowInt=G,a.ZERO=h(0),a.ONE=h(1),Pe.prototype.convert=Ve,Pe.prototype.revert=Ve,Pe.prototype.mulTo=Oe,Pe.prototype.sqrTo=xe,qe.prototype.convert=je,qe.prototype.revert=He,qe.prototype.reduce=Ge,qe.prototype.mulTo=ze,qe.prototype.sqrTo=Qe;var lt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],pt=(1<<26)/lt[lt.length-1];a.prototype.chunkSize=Y,a.prototype.toRadix=J,a.prototype.fromRadix=$,a.prototype.fromNumber=ee,a.prototype.bitwiseTo=ie,a.prototype.changeBit=Te,a.prototype.addTo=Be,a.prototype.dMultiply=Ue,a.prototype.dAddOffset=De,a.prototype.multiplyLowerTo=Me,a.prototype.multiplyUpperTo=Fe,a.prototype.modInt=Ye,a.prototype.millerRabin=$e,a.prototype.clone=Q,a.prototype.intValue=z,a.prototype.byteValue=W,a.prototype.shortValue=X,a.prototype.signum=Z,a.prototype.toByteArray=te,a.prototype.equals=re,a.prototype.min=ae,a.prototype.max=ne,a.prototype.and=oe,a.prototype.or=ue,a.prototype.xor=pe,a.prototype.andNot=fe,a.prototype.not=de,a.prototype.shiftLeft=ye,a.prototype.shiftRight=ge,a.prototype.getLowestSetBit=me,a.prototype.bitCount=Ee,a.prototype.testBit=Se,a.prototype.setBit=Ie,a.prototype.clearBit=Ae,a.prototype.flipBit=be,a.prototype.add=Ne,a.prototype.subtract=ke,a.prototype.multiply=Re,a.prototype.divide=we,a.prototype.remainder=Le,a.prototype.divideAndRemainder=_e,a.prototype.modPow=We,a.prototype.modInverse=Ze,a.prototype.pow=Ke,a.prototype.gcd=Xe,a.prototype.isProbablePrime=Je},function(e,t,r){function a(){o=String.fromCharCode(128),o+=i.util.fillString(String.fromCharCode(0),64),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],u=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],l=new Array(64);for(var e=0;e<64;++e)l[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));p=!0}function n(e,t,r){for(var a,n,i,s,o,p,h,f,d=r.length();d>=64;){for(n=e.h0,i=e.h1,s=e.h2,o=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),p=o^i&(s^o),a=n+p+l[f]+t[f],h=u[f],n=o,o=s,s=i,i+=a<<h|a>>>32-h;for(;f<32;++f)p=s^o&(i^s),a=n+p+l[f]+t[c[f]],h=u[f],n=o,o=s,s=i,i+=a<<h|a>>>32-h;for(;f<48;++f)p=i^s^o,a=n+p+l[f]+t[c[f]],h=u[f],n=o,o=s,s=i,i+=a<<h|a>>>32-h;for(;f<64;++f)p=s^(i|~o),a=n+p+l[f]+t[c[f]],h=u[f],n=o,o=s,s=i,i+=a<<h|a>>>32-h;e.h0=e.h0+n|0,e.h1=e.h1+i|0,e.h2=e.h2+s|0,e.h3=e.h3+o|0,d-=64}}var i=r(0);r(4),r(1);var s=e.exports=i.md5=i.md5||{};i.md.md5=i.md.algorithms.md5=s,s.create=function(){p||a();var e=null,t=i.util.createBuffer(),r=new Array(16),s={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var r=s.messageLengthSize/4,a=0;a<r;++a)s.fullMessageLength.push(0);return t=i.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},s},s.start(),s.update=function(a,o){"utf8"===o&&(a=i.util.encodeUtf8(a));var c=a.length;s.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var u=s.fullMessageLength.length-1;u>=0;--u)s.fullMessageLength[u]+=c[1],c[1]=c[0]+(s.fullMessageLength[u]/4294967296>>>0),s.fullMessageLength[u]=s.fullMessageLength[u]>>>0,c[0]=c[1]/4294967296>>>0;return t.putBytes(a),n(e,r,t),(t.read>2048||0===t.length())&&t.compact(),s},s.digest=function(){var a=i.util.createBuffer();a.putBytes(t.bytes());var c=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,u=c&s.blockLength-1;a.putBytes(o.substr(0,s.blockLength-u));for(var l,p=0,h=s.fullMessageLength.length-1;h>=0;--h)l=8*s.fullMessageLength[h]+p,p=l/4294967296>>>0,a.putInt32Le(l>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};n(f,r,a);var d=i.util.createBuffer();return d.putInt32Le(f.h0),d.putInt32Le(f.h1),d.putInt32Le(f.h2),d.putInt32Le(f.h3),d},s};var o=null,c=null,u=null,l=null,p=!1},function(e,t,r){var a=r(0);r(8),r(4),r(1);var n,i=a.pkcs5=a.pkcs5||{};a.util.isNodejs&&!a.options.usePureJavaScript&&(n=r(32)),e.exports=a.pbkdf2=i.pbkdf2=function(e,t,r,i,s,o){function c(){return C>h?o(null,m):(d.start(null,null),d.update(t),d.update(a.util.int32ToBytes(C)),y=v=d.digest().getBytes(),E=2,void u())}function u(){return E<=r?(d.start(null,null),d.update(v),g=d.digest().getBytes(),y=a.util.xorBytes(y,g,l),v=g,++E,a.util.setImmediate(u)):(m+=C<h?y:y.substr(0,f),++C,void c())}if("function"==typeof s&&(o=s,s=null),a.util.isNodejs&&!a.options.usePureJavaScript&&n.pbkdf2&&(null===s||"object"!=typeof s)&&(n.pbkdf2Sync.length>4||!s||"sha1"===s))return"string"!=typeof s&&(s="sha1"),e=new Buffer(e,"binary"),t=new Buffer(t,"binary"),o?4===n.pbkdf2Sync.length?n.pbkdf2(e,t,r,i,function(e,t){return e?o(e):void o(null,t.toString("binary"))}):n.pbkdf2(e,t,r,i,s,function(e,t){return e?o(e):void o(null,t.toString("binary"))}):4===n.pbkdf2Sync.length?n.pbkdf2Sync(e,t,r,i).toString("binary"):n.pbkdf2Sync(e,t,r,i,s).toString("binary");if("undefined"!=typeof s&&null!==s||(s="sha1"),"string"==typeof s){if(!(s in a.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=a.md[s].create()}var l=s.digestLength;if(i>4294967295*l){var p=new Error("Derived key is too long.");if(o)return o(p);throw p}var h=Math.ceil(i/l),f=i-(h-1)*l,d=a.hmac.create();d.start(s,e);var y,g,v,m="";if(!o){for(var C=1;C<=h;++C){d.start(null,null),d.update(t),d.update(a.util.int32ToBytes(C)),y=v=d.digest().getBytes();for(var E=2;E<=r;++E)d.start(null,null),d.update(v),g=d.digest().getBytes(),y=a.util.xorBytes(y,g,l),v=g;m+=C<h?y:y.substr(0,f)}return m}var E,C=1;c()}},function(e,t,r){var a=r(0);r(2),r(1);var n=e.exports=a.pss=a.pss||{};n.create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;"string"==typeof i&&(i=a.util.createBuffer(i));var s;if("saltLength"in e)s=e.saltLength;else{if(null===i)throw new Error("Salt length not specified or specific salt not given.");s=i.length()}if(null!==i&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var o=e.prng||a.random,c={};return c.encode=function(e,c){var u,l=c-1,p=Math.ceil(l/8),h=e.digest().getBytes();if(p<n+s+2)throw new Error("Message is too long to encrypt.");var f;f=null===i?o.getBytesSync(s):i.bytes();var d=new a.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(h),d.putBytes(f),t.start(),t.update(d.getBytes());var y=t.digest().getBytes(),g=new a.util.ByteBuffer;g.fillWithByte(0,p-s-n-2),g.putByte(1),g.putBytes(f);var v=g.getBytes(),m=p-n-1,C=r.generate(y,m),E="";for(u=0;u<m;u++)E+=String.fromCharCode(v.charCodeAt(u)^C.charCodeAt(u));var S=65280>>8*p-l&255;return E=String.fromCharCode(E.charCodeAt(0)&~S)+E.substr(1),E+y+String.fromCharCode(188)},c.verify=function(e,i,o){var c,u=o-1,l=Math.ceil(u/8);if(i=i.substr(-l),l<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==i.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var p=l-n-1,h=i.substr(0,p),f=i.substr(p,n),d=65280>>8*l-u&255;if(0!==(h.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var y=r.generate(f,p),g="";for(c=0;c<p;c++)g+=String.fromCharCode(h.charCodeAt(c)^y.charCodeAt(c));g=String.fromCharCode(g.charCodeAt(0)&~d)+g.substr(1);var v=l-n-s-2;for(c=0;c<v;c++)if(0!==g.charCodeAt(c))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(v))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=g.substr(-s),C=new a.util.ByteBuffer;C.fillWithByte(0,8),C.putBytes(e),C.putBytes(m),t.start(),t.update(C.getBytes());var E=t.digest().getBytes();return f===E},c}},function(e,t,r){function a(e,t){"string"==typeof t&&(t={shortName:t});for(var r,a=null,n=0;null===a&&n<e.attributes.length;++n)r=e.attributes[n],t.type&&t.type===r.type?a=r:t.name&&t.name===r.name?a=r:t.shortName&&t.shortName===r.shortName&&(a=r);return a}function n(e){for(var t,r,a=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]),n=e.attributes,i=0;i<n.length;++i){t=n[i];var s=t.value,o=l.Type.PRINTABLESTRING;"valueTagClass"in t&&(o=t.valueTagClass,o===l.Type.UTF8&&(s=u.util.encodeUtf8(s))),r=l.create(l.Class.UNIVERSAL,l.Type.SET,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(t.type).getBytes()),l.create(l.Class.UNIVERSAL,o,!1,s)])]),a.value.push(r)}return a}function i(e){for(var t,r=0;r<e.length;++r){if(t=e[r],"undefined"==typeof t.name&&(t.type&&t.type in p.oids?t.name=p.oids[t.type]:t.shortName&&t.shortName in f&&(t.name=p.oids[f[t.shortName]])),"undefined"==typeof t.type){if(!(t.name&&t.name in p.oids)){var a=new Error("Attribute type not specified.");throw a.attribute=t,a}t.type=p.oids[t.name]}if("undefined"==typeof t.shortName&&t.name&&t.name in f&&(t.shortName=f[t.name]),t.type===h.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=l.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(p.certificateExtensionToAsn1(s(t.extensions[n])))}if("undefined"==typeof t.value){var a=new Error("Attribute value not specified.");throw a.attribute=t,a}}}function s(e,t){if(t=t||{},"undefined"==typeof e.name&&e.id&&e.id in p.oids&&(e.name=p.oids[e.id]),"undefined"==typeof e.id){if(!(e.name&&e.name in p.oids)){var r=new Error("Extension ID not specified.");throw r.extension=e,r}e.id=p.oids[e.name]}if("undefined"!=typeof e.value)return e;if("keyUsage"===e.name){var a=0,i=0,s=0;e.digitalSignature&&(i|=128,a=7),e.nonRepudiation&&(i|=64,a=6),e.keyEncipherment&&(i|=32,a=5),e.dataEncipherment&&(i|=16,a=4),e.keyAgreement&&(i|=8,a=3),e.keyCertSign&&(i|=4,a=2),e.cRLSign&&(i|=2,a=1),e.encipherOnly&&(i|=1,a=0),e.decipherOnly&&(s|=128,a=7);var o=String.fromCharCode(a);0!==s?o+=String.fromCharCode(i)+String.fromCharCode(s):0!==i&&(o+=String.fromCharCode(i)),e.value=l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,o)}else if("basicConstraints"===e.name)e.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(l.create(l.Class.UNIVERSAL,l.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);var c=e.value.value;for(var f in e)e[f]===!0&&(f in h?c.push(l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h[f]).getBytes())):f.indexOf(".")!==-1&&c.push(l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(f).getBytes())))}else if("nsCertType"===e.name){var a=0,i=0;e.client&&(i|=128,a=7),e.server&&(i|=64,a=6),e.email&&(i|=32,a=5),e.objsign&&(i|=16,a=4),e.reserved&&(i|=8,a=3),e.sslCA&&(i|=4,a=2),e.emailCA&&(i|=2,a=1),e.objCA&&(i|=1,a=0);var o=String.fromCharCode(a);0!==i&&(o+=String.fromCharCode(i)),e.value=l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,o)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);for(var d,y=0;y<e.altNames.length;++y){d=e.altNames[y];var o=d.value;if(7===d.type&&d.ip){if(o=u.util.bytesFromIP(d.ip),null===o){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else 8===d.type&&(o=d.oid?l.oidToDer(l.oidToDer(d.oid)):l.oidToDer(o));e.value.value.push(l.create(l.Class.CONTEXT_SPECIFIC,d.type,!1,o))}}else if("subjectKeyIdentifier"===e.name&&t.cert){var g=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=g.toHex(),e.value=l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,g.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);var c=e.value.value;if(e.keyIdentifier){var v=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;c.push(l.create(l.Class.CONTEXT_SPECIFIC,0,!1,v))}if(e.authorityCertIssuer){var m=[l.create(l.Class.CONTEXT_SPECIFIC,4,!0,[n(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];c.push(l.create(l.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var C=u.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);c.push(l.create(l.Class.CONTEXT_SPECIFIC,2,!1,C))}}else if("cRLDistributionPoints"===e.name){e.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);for(var d,c=e.value.value,E=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]),S=l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[]),y=0;y<e.altNames.length;++y){d=e.altNames[y];var o=d.value;if(7===d.type&&d.ip){if(o=u.util.bytesFromIP(d.ip),null===o){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else 8===d.type&&(o=d.oid?l.oidToDer(l.oidToDer(d.oid)):l.oidToDer(o));S.value.push(l.create(l.Class.CONTEXT_SPECIFIC,d.type,!1,o))}E.value.push(l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[S])),c.push(E)}if("undefined"==typeof e.value){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}function o(e,t){switch(e){case h["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(t.hash.algorithmOid).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(l.create(l.Class.CONTEXT_SPECIFIC,1,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(t.mgf.algorithmOid).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(t.mgf.hash.algorithmOid).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(l.create(l.Class.CONTEXT_SPECIFIC,2,!0,[l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(t.saltLength).getBytes())])),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,r);default:return l.create(l.Class.UNIVERSAL,l.Type.NULL,!1,"")}}function c(e){var t=l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,a=0;a<r.length;++a){var n=r[a],i=n.value,s=l.Type.UTF8;"valueTagClass"in n&&(s=n.valueTagClass),s===l.Type.UTF8&&(i=u.util.encodeUtf8(i));var o=!1;"valueConstructed"in n&&(o=n.valueConstructed);var c=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(n.type).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SET,!0,[l.create(l.Class.UNIVERSAL,s,o,i)])]);t.value.push(c)}return t}var u=r(0);r(5),r(3),r(10),r(4),r(37),r(6),r(7),r(16),r(11),r(1);var l=u.asn1,p=e.exports=u.pki=u.pki||{},h=p.oids,f={};f.CN=h.commonName,f.commonName="CN",f.C=h.countryName,f.countryName="C",f.L=h.localityName,f.localityName="L",f.ST=h.stateOrProvinceName,f.stateOrProvinceName="ST",f.O=h.organizationName,f.organizationName="O",f.OU=h.organizationalUnitName,f.organizationalUnitName="OU",f.E=h.emailAddress,f.emailAddress="E";var d=u.pki.rsa.publicKeyValidator,y={name:"Certificate",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:l.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:l.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:l.Class.UNIVERSAL,type:l.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:l.Class.UNIVERSAL,type:l.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:l.Class.UNIVERSAL,type:l.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:l.Class.UNIVERSAL,type:l.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},d,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:l.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:l.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:l.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:l.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},g={name:"rsapss",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:l.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:l.Class.UNIVERSAL,type:l.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:l.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:l.Class.UNIVERSAL,type:l.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:l.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:l.Class.UNIVERSAL,type:l.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:l.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:l.Class.UNIVERSAL,type:l.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},v={name:"CertificationRequestInfo",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},d,{name:"CertificationRequestInfo.attributes",tagClass:l.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:l.Class.UNIVERSAL,type:l.Type.SET,constructed:!0}]}]}]},m={name:"CertificationRequest",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[v,{name:"CertificationRequest.signatureAlgorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:l.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};p.RDNAttributesAsArray=function(e,t){for(var r,a,n,i=[],s=0;s<e.value.length;++s){r=e.value[s];for(var o=0;o<r.value.length;++o)n={},a=r.value[o],n.type=l.derToOid(a.value[0].value),n.value=a.value[1].value,n.valueTagClass=a.value[1].type,n.type in h&&(n.name=h[n.type],n.name in f&&(n.shortName=f[n.name])),t&&(t.update(n.type),t.update(n.value)),i.push(n)}return i},p.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var a=e[r],n=l.derToOid(a.value[0].value),i=a.value[1].value,s=0;s<i.length;++s){var o={};if(o.type=n,o.value=i[s].value,o.valueTagClass=i[s].type,o.type in h&&(o.name=h[o.type],o.name in f&&(o.shortName=f[o.name])),o.type===h.extensionRequest){o.extensions=[];for(var c=0;c<o.value.length;++c)o.extensions.push(p.certificateExtensionFromAsn1(o.value[c]))}t.push(o)}return t};var C=function(e,t,r){var a={};if(e!==h["RSASSA-PSS"])return a;r&&(a={hash:{algorithmOid:h.sha1},mgf:{algorithmOid:h.mgf1,hash:{algorithmOid:h.sha1}},saltLength:20});var n={},i=[];if(!l.validate(t,g,n,i)){var s=new Error("Cannot read RSASSA-PSS parameter block.");throw s.errors=i,s}return void 0!==n.hashOid&&(a.hash=a.hash||{},a.hash.algorithmOid=l.derToOid(n.hashOid)),void 0!==n.maskGenOid&&(a.mgf=a.mgf||{},a.mgf.algorithmOid=l.derToOid(n.maskGenOid),a.mgf.hash=a.mgf.hash||{},a.mgf.hash.algorithmOid=l.derToOid(n.maskGenHashOid)),void 0!==n.saltLength&&(a.saltLength=n.saltLength.charCodeAt(0)),a};p.certificateFromPem=function(e,t,r){var a=u.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var n=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw n.headerType=a.type,n}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var i=l.fromDer(a.body,r);return p.certificateFromAsn1(i,t)},p.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:l.toDer(p.certificateToAsn1(e)).getBytes()};return u.pem.encode(r,{maxline:t})},p.publicKeyFromPem=function(e){var t=u.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=l.fromDer(t.body);return p.publicKeyFromAsn1(a)},p.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:l.toDer(p.publicKeyToAsn1(e)).getBytes()};return u.pem.encode(r,{maxline:t})},p.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:l.toDer(p.publicKeyToRSAPublicKey(e)).getBytes()};return u.pem.encode(r,{maxline:t})},p.getPublicKeyFingerprint=function(e,t){t=t||{};var r,a=t.md||u.md.sha1.create(),n=t.type||"RSAPublicKey";switch(n){case"RSAPublicKey":r=l.toDer(p.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=l.toDer(p.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(r);var i=a.digest();if("hex"===t.encoding){var s=i.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}if("binary"===t.encoding)return i.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return i},p.certificationRequestFromPem=function(e,t,r){var a=u.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var n=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw n.headerType=a.type,n}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var i=l.fromDer(a.body,r);return p.certificationRequestFromAsn1(i,t)},p.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:l.toDer(p.certificationRequestToAsn1(e)).getBytes()};return u.pem.encode(r,{maxline:t})},p.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return a(e.issuer,t)},e.issuer.addField=function(t){i([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return a(e.subject,t)},e.subject.addField=function(t){i([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){i(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){i(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)s(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,a=null,n=0;null===a&&n<e.extensions.length;++n)r=e.extensions[n],t.id&&r.id===t.id?a=r:t.name&&r.name===t.name&&(a=r);return a},e.sign=function(t,r){e.md=r||u.md.sha1.create();var a=h[e.md.algorithm+"WithRSAEncryption"];if(!a){var n=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw n.algorithm=e.md.algorithm,n}e.signatureOid=e.siginfo.algorithmOid=a,e.tbsCertificate=p.getTBSCertificate(e);var i=l.toDer(e.tbsCertificate);e.md.update(i.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var a=t.issuer,n=e.subject,i=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw i.expectedIssuer=a.attributes,i.actualIssuer=n.attributes,i}var s=t.md;if(null===s){if(t.signatureOid in h){var o=h[t.signatureOid];switch(o){case"sha1WithRSAEncryption":s=u.md.sha1.create();break;case"md5WithRSAEncryption":s=u.md.md5.create();break;case"sha256WithRSAEncryption":s=u.md.sha256.create();break;case"sha512WithRSAEncryption":s=u.md.sha512.create();break;case"RSASSA-PSS":s=u.md.sha256.create()}}if(null===s){var i=new Error("Could not compute certificate digest. Unknown signature OID.");throw i.signatureOid=t.signatureOid,i}var c=t.tbsCertificate||p.getTBSCertificate(t),f=l.toDer(c);s.update(f.getBytes())}if(null!==s){var d;switch(t.signatureOid){case h.sha1WithRSAEncryption:d=void 0;break;case h["RSASSA-PSS"]:var y,g;if(y=h[t.signatureParameters.mgf.hash.algorithmOid],void 0===y||void 0===u.md[y]){var i=new Error("Unsupported MGF hash function.");throw i.oid=t.signatureParameters.mgf.hash.algorithmOid,i.name=y,i}if(g=h[t.signatureParameters.mgf.algorithmOid],void 0===g||void 0===u.mgf[g]){var i=new Error("Unsupported MGF function.");throw i.oid=t.signatureParameters.mgf.algorithmOid,i.name=g,i}if(g=u.mgf[g].create(u.md[y].create()),y=h[t.signatureParameters.hash.algorithmOid],void 0===y||void 0===u.md[y])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:y};d=u.pss.create(u.md[y].create(),g,t.signatureParameters.saltLength)}r=e.publicKey.verify(s.digest().getBytes(),t.signature,d)}return r},e.isIssuer=function(t){var r=!1,a=e.issuer,n=t.subject;if(a.hash&&n.hash)r=a.hash===n.hash;else if(a.attributes.length===n.attributes.length){r=!0;for(var i,s,o=0;r&&o<a.attributes.length;++o)i=a.attributes[o],s=n.attributes[o],i.type===s.type&&i.value===s.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return p.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=h.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var a=e.extensions[r];if(a.id===t){var n=e.generateSubjectKeyIdentifier().getBytes();return u.util.hexToBytes(a.subjectKeyIdentifier)===n}}return!1},e},p.certificateFromAsn1=function(e,t){var r={},n=[];if(!l.validate(e,y,r,n)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=n,s}var o=l.derToOid(r.publicKeyOid);if(o!==p.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=p.createCertificate();c.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=u.util.createBuffer(r.certSerialNumber);c.serialNumber=f.toHex(),c.signatureOid=u.asn1.derToOid(r.certSignatureOid),c.signatureParameters=C(c.signatureOid,r.certSignatureParams,!0),c.siginfo.algorithmOid=u.asn1.derToOid(r.certinfoSignatureOid),c.siginfo.parameters=C(c.siginfo.algorithmOid,r.certinfoSignatureParams,!1),c.signature=r.certSignature;var d=[];if(void 0!==r.certValidity1UTCTime&&d.push(l.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&d.push(l.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&d.push(l.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&d.push(l.generalizedTimeToDate(r.certValidity4GeneralizedTime)),d.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(d.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=d[0],c.validity.notAfter=d[1],c.tbsCertificate=r.tbsCertificate,t){if(c.md=null,c.signatureOid in h){var o=h[c.signatureOid];switch(o){case"sha1WithRSAEncryption":c.md=u.md.sha1.create();break;case"md5WithRSAEncryption":c.md=u.md.md5.create();break;case"sha256WithRSAEncryption":c.md=u.md.sha256.create();break;case"sha512WithRSAEncryption":c.md=u.md.sha512.create();break;case"RSASSA-PSS":c.md=u.md.sha256.create()}}if(null===c.md){var s=new Error("Could not compute certificate digest. Unknown signature OID.");
throw s.signatureOid=c.signatureOid,s}var g=l.toDer(c.tbsCertificate);c.md.update(g.getBytes())}var v=u.md.sha1.create();c.issuer.getField=function(e){return a(c.issuer,e)},c.issuer.addField=function(e){i([e]),c.issuer.attributes.push(e)},c.issuer.attributes=p.RDNAttributesAsArray(r.certIssuer,v),r.certIssuerUniqueId&&(c.issuer.uniqueId=r.certIssuerUniqueId),c.issuer.hash=v.digest().toHex();var m=u.md.sha1.create();return c.subject.getField=function(e){return a(c.subject,e)},c.subject.addField=function(e){i([e]),c.subject.attributes.push(e)},c.subject.attributes=p.RDNAttributesAsArray(r.certSubject,m),r.certSubjectUniqueId&&(c.subject.uniqueId=r.certSubjectUniqueId),c.subject.hash=m.digest().toHex(),r.certExtensions?c.extensions=p.certificateExtensionsFromAsn1(r.certExtensions):c.extensions=[],c.publicKey=p.publicKeyFromAsn1(r.subjectPublicKeyInfo),c},p.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var a=e.value[r],n=0;n<a.value.length;++n)t.push(p.certificateExtensionFromAsn1(a.value[n]));return t},p.certificateExtensionFromAsn1=function(e){var t={};if(t.id=l.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===l.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in h)if(t.name=h[t.id],"keyUsage"===t.name){var r=l.fromDer(t.value),a=0,n=0;r.value.length>1&&(a=r.value.charCodeAt(1),n=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=128===(128&a),t.nonRepudiation=64===(64&a),t.keyEncipherment=32===(32&a),t.dataEncipherment=16===(16&a),t.keyAgreement=8===(8&a),t.keyCertSign=4===(4&a),t.cRLSign=2===(2&a),t.encipherOnly=1===(1&a),t.decipherOnly=128===(128&n)}else if("basicConstraints"===t.name){var r=l.fromDer(t.value);r.value.length>0&&r.value[0].type===l.Type.BOOLEAN?t.cA=0!==r.value[0].value.charCodeAt(0):t.cA=!1;var i=null;r.value.length>0&&r.value[0].type===l.Type.INTEGER?i=r.value[0].value:r.value.length>1&&(i=r.value[1].value),null!==i&&(t.pathLenConstraint=l.derToInteger(i))}else if("extKeyUsage"===t.name)for(var r=l.fromDer(t.value),s=0;s<r.value.length;++s){var o=l.derToOid(r.value[s].value);o in h?t[h[o]]=!0:t[o]=!0}else if("nsCertType"===t.name){var r=l.fromDer(t.value),a=0;r.value.length>1&&(a=r.value.charCodeAt(1)),t.client=128===(128&a),t.server=64===(64&a),t.email=32===(32&a),t.objsign=16===(16&a),t.reserved=8===(8&a),t.sslCA=4===(4&a),t.emailCA=2===(2&a),t.objCA=1===(1&a)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.altNames=[];for(var c,r=l.fromDer(t.value),p=0;p<r.value.length;++p){c=r.value[p];var f={type:c.type,value:c.value};switch(t.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=u.util.bytesToIP(c.value);break;case 8:f.oid=l.derToOid(c.value)}}}else if("subjectKeyIdentifier"===t.name){var r=l.fromDer(t.value);t.subjectKeyIdentifier=u.util.bytesToHex(r.value)}return t},p.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!l.validate(e,m,r,n)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=n,s}var o=l.derToOid(r.publicKeyOid);if(o!==p.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=p.createCertificationRequest();if(c.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,c.signatureOid=u.asn1.derToOid(r.csrSignatureOid),c.signatureParameters=C(c.signatureOid,r.csrSignatureParams,!0),c.siginfo.algorithmOid=u.asn1.derToOid(r.csrSignatureOid),c.siginfo.parameters=C(c.siginfo.algorithmOid,r.csrSignatureParams,!1),c.signature=r.csrSignature,c.certificationRequestInfo=r.certificationRequestInfo,t){if(c.md=null,c.signatureOid in h){var o=h[c.signatureOid];switch(o){case"sha1WithRSAEncryption":c.md=u.md.sha1.create();break;case"md5WithRSAEncryption":c.md=u.md.md5.create();break;case"sha256WithRSAEncryption":c.md=u.md.sha256.create();break;case"sha512WithRSAEncryption":c.md=u.md.sha512.create();break;case"RSASSA-PSS":c.md=u.md.sha256.create()}}if(null===c.md){var s=new Error("Could not compute certification request digest. Unknown signature OID.");throw s.signatureOid=c.signatureOid,s}var f=l.toDer(c.certificationRequestInfo);c.md.update(f.getBytes())}var d=u.md.sha1.create();return c.subject.getField=function(e){return a(c.subject,e)},c.subject.addField=function(e){i([e]),c.subject.attributes.push(e)},c.subject.attributes=p.RDNAttributesAsArray(r.certificationRequestInfoSubject,d),c.subject.hash=d.digest().toHex(),c.publicKey=p.publicKeyFromAsn1(r.subjectPublicKeyInfo),c.getAttribute=function(e){return a(c,e)},c.addAttribute=function(e){i([e]),c.attributes.push(e)},c.attributes=p.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),c},p.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return a(e.subject,t)},e.subject.addField=function(t){i([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return a(e,t)},e.addAttribute=function(t){i([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){i(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){i(t),e.attributes=t},e.sign=function(t,r){e.md=r||u.md.sha1.create();var a=h[e.md.algorithm+"WithRSAEncryption"];if(!a){var n=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw n.algorithm=e.md.algorithm,n}e.signatureOid=e.siginfo.algorithmOid=a,e.certificationRequestInfo=p.getCertificationRequestInfo(e);var i=l.toDer(e.certificationRequestInfo);e.md.update(i.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){if(e.signatureOid in h){var a=h[e.signatureOid];switch(a){case"sha1WithRSAEncryption":r=u.md.sha1.create();break;case"md5WithRSAEncryption":r=u.md.md5.create();break;case"sha256WithRSAEncryption":r=u.md.sha256.create();break;case"sha512WithRSAEncryption":r=u.md.sha512.create();break;case"RSASSA-PSS":r=u.md.sha256.create()}}if(null===r){var n=new Error("Could not compute certification request digest. Unknown signature OID.");throw n.signatureOid=e.signatureOid,n}var i=e.certificationRequestInfo||p.getCertificationRequestInfo(e),s=l.toDer(i);r.update(s.getBytes())}if(null!==r){var o;switch(e.signatureOid){case h.sha1WithRSAEncryption:break;case h["RSASSA-PSS"]:var c,f;if(c=h[e.signatureParameters.mgf.hash.algorithmOid],void 0===c||void 0===u.md[c]){var n=new Error("Unsupported MGF hash function.");throw n.oid=e.signatureParameters.mgf.hash.algorithmOid,n.name=c,n}if(f=h[e.signatureParameters.mgf.algorithmOid],void 0===f||void 0===u.mgf[f]){var n=new Error("Unsupported MGF function.");throw n.oid=e.signatureParameters.mgf.algorithmOid,n.name=f,n}if(f=u.mgf[f].create(u.md[c].create()),c=h[e.signatureParameters.hash.algorithmOid],void 0===c||void 0===u.md[c]){var n=new Error("Unsupported RSASSA-PSS hash function.");throw n.oid=e.signatureParameters.hash.algorithmOid,n.name=c,n}o=u.pss.create(u.md[c].create(),f,e.signatureParameters.saltLength)}t=e.publicKey.verify(r.digest().getBytes(),e.signature,o)}return t},e},p.getTBSCertificate=function(e){var t=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(e.version).getBytes())]),l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,u.util.hexToBytes(e.serialNumber)),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(e.siginfo.algorithmOid).getBytes()),o(e.siginfo.algorithmOid,e.siginfo.parameters)]),n(e.issuer),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.UTCTIME,!1,l.dateToUtcTime(e.validity.notBefore)),l.create(l.Class.UNIVERSAL,l.Type.UTCTIME,!1,l.dateToUtcTime(e.validity.notAfter))]),n(e.subject),p.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&t.value.push(l.create(l.Class.CONTEXT_SPECIFIC,1,!0,[l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&t.value.push(l.create(l.Class.CONTEXT_SPECIFIC,2,!0,[l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&t.value.push(p.certificateExtensionsToAsn1(e.extensions)),t},p.getCertificationRequestInfo=function(e){var t=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(e.version).getBytes()),n(e.subject),p.publicKeyToAsn1(e.publicKey),c(e)]);return t},p.distinguishedNameToAsn1=function(e){return n(e)},p.certificateToAsn1=function(e){var t=e.tbsCertificate||p.getTBSCertificate(e);return l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[t,l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(e.signatureOid).getBytes()),o(e.signatureOid,e.signatureParameters)]),l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},p.certificateExtensionsToAsn1=function(e){var t=l.create(l.Class.CONTEXT_SPECIFIC,3,!0,[]),r=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);t.value.push(r);for(var a=0;a<e.length;++a)r.value.push(p.certificateExtensionToAsn1(e[a]));return t},p.certificateExtensionToAsn1=function(e){var t=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);t.value.push(l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(e.id).getBytes())),e.critical&&t.value.push(l.create(l.Class.UNIVERSAL,l.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=l.toDer(r).getBytes()),t.value.push(l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,r)),t},p.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||p.getCertificationRequestInfo(e);return l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[t,l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(e.signatureOid).getBytes()),o(e.signatureOid,e.signatureParameters)]),l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},p.createCaStore=function(e){function t(e){return r(e),a.certs[e.hash]||null}function r(e){if(!e.hash){var t=u.md.sha1.create();e.attributes=p.RDNAttributesAsArray(n(e),t),e.hash=t.digest().toHex()}}var a={certs:{}};if(a.getIssuer=function(e){var r=t(e.issuer);return r},a.addCertificate=function(e){if("string"==typeof e&&(e=u.pki.certificateFromPem(e)),r(e.subject),!a.hasCertificate(e))if(e.subject.hash in a.certs){var t=a.certs[e.subject.hash];u.util.isArray(t)||(t=[t]),t.push(e),a.certs[e.subject.hash]=t}else a.certs[e.subject.hash]=e},a.hasCertificate=function(e){"string"==typeof e&&(e=u.pki.certificateFromPem(e));var r=t(e.subject);if(!r)return!1;u.util.isArray(r)||(r=[r]);for(var a=l.toDer(p.certificateToAsn1(e)).getBytes(),n=0;n<r.length;++n){var i=l.toDer(p.certificateToAsn1(r[n])).getBytes();if(a===i)return!0}return!1},a.listAllCertificates=function(){var e=[];for(var t in a.certs)if(a.certs.hasOwnProperty(t)){var r=a.certs[t];if(u.util.isArray(r))for(var n=0;n<r.length;++n)e.push(r[n]);else e.push(r)}return e},a.removeCertificate=function(e){var n;if("string"==typeof e&&(e=u.pki.certificateFromPem(e)),r(e.subject),!a.hasCertificate(e))return null;var i=t(e.subject);if(!u.util.isArray(i))return n=a.certs[e.subject.hash],delete a.certs[e.subject.hash],n;for(var s=l.toDer(p.certificateToAsn1(e)).getBytes(),o=0;o<i.length;++o){var c=l.toDer(p.certificateToAsn1(i[o])).getBytes();s===c&&(n=i[o],i.splice(o,1))}return 0===i.length&&delete a.certs[e.subject.hash],n},e)for(var i=0;i<e.length;++i){var s=e[i];a.addCertificate(s)}return a},p.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},p.verifyCertificateChain=function(e,t,r){t=t.slice(0);var a=t.slice(0),n=new Date,i=!0,s=null,o=0;do{var c=t.shift(),l=null,h=!1;if((n<c.validity.notBefore||n>c.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:p.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:n}),null===s){if(l=t[0]||e.getIssuer(c),null===l&&c.isIssuer(c)&&(h=!0,l=c),l){var f=l;u.util.isArray(f)||(f=[f]);for(var d=!1;!d&&f.length>0;){l=f.shift();try{d=l.verify(c)}catch(e){}}d||(s={message:"Certificate signature is invalid.",error:p.certificateError.bad_certificate})}null!==s||l&&!h||e.hasCertificate(c)||(s={message:"Certificate is not trusted.",error:p.certificateError.unknown_ca})}if(null===s&&l&&!c.isIssuer(l)&&(s={message:"Certificate issuer is invalid.",error:p.certificateError.bad_certificate}),null===s)for(var y={keyUsage:!0,basicConstraints:!0},g=0;null===s&&g<c.extensions.length;++g){var v=c.extensions[g];!v.critical||v.name in y||(s={message:"Certificate has an unsupported critical extension.",error:p.certificateError.unsupported_certificate})}if(null===s&&(!i||0===t.length&&(!l||h))){var m=c.getExtension("basicConstraints"),C=c.getExtension("keyUsage");if(null!==C&&(C.keyCertSign&&null!==m||(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:p.certificateError.bad_certificate})),null!==s||null===m||m.cA||(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:p.certificateError.bad_certificate}),null===s&&null!==C&&"pathLenConstraint"in m){var E=o-1;E>m.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:p.certificateError.bad_certificate})}}var S=null===s||s.error,T=r?r(S,o,a):S;if(T!==!0)throw S===!0&&(s={message:"The application rejected the certificate.",error:p.certificateError.bad_certificate}),(T||0===T)&&("object"!=typeof T||u.util.isArray(T)?"string"==typeof T&&(s.error=T):(T.message&&(s.message=T.message),T.error&&(s.error=T.error))),s;s=null,i=!1,++o}while(t.length>0);return!0}},function(e,t,r){function a(e){if("string"==typeof e&&(e=s.util.createBuffer(e)),s.util.isArray(e)&&e.length>4){var t=e;e=s.util.createBuffer();for(var r=0;r<t.length;++r)e.putByte(t[r])}return s.util.isArray(e)||(e=[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]),e}function n(e){e[e.length-1]=e[e.length-1]+1&4294967295}function i(e){return[e/4294967296|0,4294967295&e]}var s=r(0);r(1),s.cipher=s.cipher||{};var o=e.exports=s.cipher.modes=s.cipher.modes||{};o.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},o.ecb.prototype.start=function(e){},o.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a])},o.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a])},o.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},o.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),a=e.at(r-1);return!(a>this.blockSize<<2)&&(e.truncate(a),!0)},o.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},o.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._prev=this._iv.slice(0)}},o.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=this._prev[a]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a]);this._prev=this._outBlock},o.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._prev[a]^this._outBlock[a]);this._prev=this._inBlock.slice(0)},o.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},o.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),a=e.at(r-1);return!(a>this.blockSize<<2)&&(e.truncate(a),!0)},o.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},o.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.cfb.prototype.encrypt=function(e,t,r){var a=e.length();if(0===a)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&a>=this.blockSize)for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32()^this._outBlock[n],t.putInt32(this._inBlock[n]);else{var i=(this.blockSize-a)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=e.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(i>0)e.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}},o.cfb.prototype.decrypt=function(e,t,r){var a=e.length();if(0===a)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&a>=this.blockSize)for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32(),t.putInt32(this._inBlock[n]^this._outBlock[n]);else{var i=(this.blockSize-a)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(i>0)e.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}},o.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},o.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.ofb.prototype.encrypt=function(e,t,r){var a=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&a>=this.blockSize)for(var n=0;n<this._ints;++n)t.putInt32(e.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];else{var i=(this.blockSize-a)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(e.getInt32()^this._outBlock[n]);if(i>0)e.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}},o.ofb.prototype.decrypt=o.ofb.prototype.encrypt,o.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},o.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.ctr.prototype.encrypt=function(e,t,r){var a=e.length();if(0===a)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&a>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-a)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}n(this._inBlock)},o.ctr.prototype.decrypt=o.ctr.prototype.encrypt,o.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0,this._R=3774873600},o.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=s.util.createBuffer(e.iv);this._cipherLength=0;var r;if(r="additionalData"in e?s.util.createBuffer(e.additionalData):s.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=s.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var a=t.length();if(12===a)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(i(8*a)))}this._inBlock=this._j0.slice(0),n(this._inBlock),this._partialBytes=0,r=s.util.createBuffer(r),this._aDataLength=i(8*r.length());var o=r.length()%this.blockSize;for(o&&r.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])},o.gcm.prototype.encrypt=function(e,t,r){var a=e.length();if(0===a)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&a>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-a)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(0===s||r){if(r){var o=a%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),n(this._inBlock)},o.gcm.prototype.decrypt=function(e,t,r){var a=e.length();if(a<this.blockSize&&!(r&&a>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),n(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);a<this.blockSize?this._cipherLength+=a%this.blockSize:this._cipherLength+=this.blockSize},o.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=s.util.createBuffer();var a=this._aDataLength.concat(i(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,a);var n=[];this.cipher.encrypt(this._j0,n);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^n[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},o.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],a=t.slice(0),n=0;n<128;++n){var i=e[n/32|0]&1<<31-n%32;i&&(r[0]^=a[0],r[1]^=a[1],r[2]^=a[2],r[3]^=a[3]),this.pow(a,a)}return r},o.gcm.prototype.pow=function(e,t){for(var r=1&e[3],a=3;a>0;--a)t[a]=e[a]>>>1|(1&e[a-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},o.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var a=r/8|0,n=e[a]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},o.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},o.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,a=4*r,n=16*r,i=new Array(n),s=0;s<n;++s){var o=[0,0,0,0],c=s/a|0,u=(a-1-s%a)*t;o[c]=1<<t-1<<u,i[s]=this.generateSubHashTable(this.multiply(o,e),t)}return i},o.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,a=r>>>1,n=new Array(r);n[a]=e.slice(0);for(var i=a>>>1;i>0;)this.pow(n[2*i],n[i]=[]),i>>=1;for(i=2;i<a;){for(var s=1;s<i;++s){var o=n[i],c=n[s];n[i+s]=[o[0]^c[0],o[1]^c[1],o[2]^c[2],o[3]^c[3]]}i*=2}for(n[0]=[0,0,0,0],i=a+1;i<r;++i){var u=n[i^a];n[i]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return n}},function(e,t,r){var a=r(0);e.exports=a.debug=a.debug||{},a.debug.storage={},a.debug.get=function(e,t){var r;return"undefined"==typeof e?r=a.debug.storage:e in a.debug.storage&&(r="undefined"==typeof t?a.debug.storage[e]:a.debug.storage[e][t]),r},a.debug.set=function(e,t,r){e in a.debug.storage||(a.debug.storage[e]={}),a.debug.storage[e][t]=r},a.debug.clear=function(e,t){"undefined"==typeof e?a.debug.storage={}:e in a.debug.storage&&("undefined"==typeof t?delete a.debug.storage[e]:delete a.debug.storage[e][t])}},function(e,t,r){var a=r(0);r(1),e.exports=a.log=a.log||{},a.log.levels=["none","error","warning","info","debug","verbose","max"];var n={},i=[],s=null;a.log.LEVEL_LOCKED=2,a.log.NO_LEVEL_CHECK=4,a.log.INTERPOLATE=8;for(var o=0;o<a.log.levels.length;++o){var c=a.log.levels[o];n[c]={index:o,name:c.toUpperCase()}}a.log.logMessage=function(e){for(var t=n[e.level].index,r=0;r<i.length;++r){var s=i[r];if(s.flags&a.log.NO_LEVEL_CHECK)s.f(e);else{var o=n[s.level].index;t<=o&&s.f(s,e)}}},a.log.prepareStandard=function(e){"standard"in e||(e.standard=n[e.level].name+" ["+e.category+"] "+e.message)},a.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||e.arguments),e.full=a.util.format.apply(this,t)}},a.log.prepareStandardFull=function(e){"standardFull"in e||(a.log.prepareStandard(e),e.standardFull=e.standard)};for(var u=["error","warning","info","debug","verbose"],o=0;o<u.length;++o)!function(e){a.log[e]=function(t,r){var n=Array.prototype.slice.call(arguments).slice(2),i={timestamp:new Date,level:e,category:t,message:r,arguments:n};a.log.logMessage(i)}}(u[o]);if(a.log.makeLogger=function(e){var t={flags:0,f:e};return a.log.setLevel(t,"none"),t},a.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&a.log.LEVEL_LOCKED))for(var n=0;n<a.log.levels.length;++n){var i=a.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r},a.log.lock=function(e,t){"undefined"==typeof t||t?e.flags|=a.log.LEVEL_LOCKED:e.flags&=~a.log.LEVEL_LOCKED},a.log.addLogger=function(e){i.push(e)},"undefined"!=typeof console&&"log"in console){var l;if(console.error&&console.warn&&console.info&&console.debug){var p={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},h=function(e,t){a.log.prepareStandard(t);var r=p[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)};l=a.log.makeLogger(h)}else{var h=function(e,t){a.log.prepareStandardFull(t),console.log(t.standardFull)};l=a.log.makeLogger(h)}a.log.setLevel(l,"debug"),a.log.addLogger(l),s=l}else console={log:function(){}};if(null!==s){var f=a.util.getQueryVariables();if("console.level"in f&&a.log.setLevel(s,f["console.level"].slice(-1)[0]),"console.lock"in f){var d=f["console.lock"].slice(-1)[0];"true"==d&&a.log.lock(s)}}a.log.consoleLogger=s},function(e,t,r){var a=r(0);r(1),a.mgf=a.mgf||{};var n=e.exports=a.mgf.mgf1=a.mgf1=a.mgf1||{};n.create=function(e){var t={generate:function(t,r){for(var n=new a.util.ByteBuffer,i=Math.ceil(r/e.digestLength),s=0;s<i;s++){var o=new a.util.ByteBuffer;o.putInt32(s),e.start(),e.update(t+o.getBytes()),n.putBuffer(e.digest())}return n.truncate(n.length()-r),n.getBytes()}};return t}},function(e,t,r){function a(e,t){return e.start().update(t).digest().getBytes()}function n(e){var t;if(e){if(t=l.oids[u.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return i(t)}function i(e){var t=o.md;switch(e){case"hmacWithSHA224":t=o.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!(t&&e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function s(e,t,r,a){var n=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,e),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,t.getBytes())]);return"hmacWithSHA1"!==a&&n.value.push(u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,o.util.hexToBytes(r.toString(16))),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.oids[a]).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")])),n}var o=r(0);if(r(5),r(3),r(10),r(4),r(6),r(15),r(7),r(2),r(29),r(11),r(1),"undefined"==typeof c)var c=o.jsbn.BigInteger;var u=o.asn1,l=o.pki=o.pki||{};e.exports=l.pbe=o.pbe=o.pbe||{};var p=l.oids,h={name:"EncryptedPrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},f={name:"PBES2Algorithms",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,
value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},d={name:"pkcs-12PbeParams",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"iterations"}]};l.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var a,n,c,h=o.random.getBytesSync(r.saltSize),f=r.count,d=u.integerToDer(f);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var y,g,v;switch(r.algorithm){case"aes128":a=16,y=16,g=p["aes128-CBC"],v=o.aes.createEncryptionCipher;break;case"aes192":a=24,y=16,g=p["aes192-CBC"],v=o.aes.createEncryptionCipher;break;case"aes256":a=32,y=16,g=p["aes256-CBC"],v=o.aes.createEncryptionCipher;break;case"des":a=8,y=8,g=p.desCBC,v=o.des.createEncryptionCipher;break;default:var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw m.algorithm=r.algorithm,m}var C="hmacWith"+r.prfAlgorithm.toUpperCase(),E=i(C),S=o.pkcs5.pbkdf2(t,h,f,a,E),T=o.random.getBytesSync(y),I=v(S);I.start(T),I.update(u.toDer(e)),I.finish(),c=I.output.getBytes();var A=s(h,d,a,C);n=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.pkcs5PBES2).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p.pkcs5PBKDF2).getBytes()),A]),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(g).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,T)])])])}else{if("3des"!==r.algorithm){var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw m.algorithm=r.algorithm,m}a=24;var b=new o.util.ByteBuffer(h),S=l.pbe.generatePkcs12Key(t,b,1,f,a),T=l.pbe.generatePkcs12Key(t,b,2,f,a),I=o.des.createEncryptionCipher(S);I.start(T),I.update(u.toDer(e)),I.finish(),c=I.output.getBytes(),n=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(p["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,h),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,d.getBytes())])])}var B=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[n,u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,c)]);return B},l.decryptPrivateKeyInfo=function(e,t){var r=null,a={},n=[];if(!u.validate(e,h,a,n)){var i=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw i.errors=n,i}var s=u.derToOid(a.encryptionOid),c=l.pbe.getCipher(s,a.encryptionParams,t),p=o.util.createBuffer(a.encryptedData);return c.update(p),c.finish()&&(r=u.fromDer(c.output)),r},l.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:u.toDer(e).getBytes()};return o.pem.encode(r,{maxline:t})},l.encryptedPrivateKeyFromPem=function(e){var t=o.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return u.fromDer(t.body)},l.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var a=l.wrapRsaPrivateKey(l.privateKeyToAsn1(e));return a=l.encryptPrivateKeyInfo(a,t,r),l.encryptedPrivateKeyToPem(a)}var n,i,s,c;switch(r.algorithm){case"aes128":n="AES-128-CBC",s=16,i=o.random.getBytesSync(16),c=o.aes.createEncryptionCipher;break;case"aes192":n="AES-192-CBC",s=24,i=o.random.getBytesSync(16),c=o.aes.createEncryptionCipher;break;case"aes256":n="AES-256-CBC",s=32,i=o.random.getBytesSync(16),c=o.aes.createEncryptionCipher;break;case"3des":n="DES-EDE3-CBC",s=24,i=o.random.getBytesSync(8),c=o.des.createEncryptionCipher;break;case"des":n="DES-CBC",s=8,i=o.random.getBytesSync(8),c=o.des.createEncryptionCipher;break;default:var p=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw p.algorithm=r.algorithm,p}var h=o.pbe.opensslDeriveBytes(t,i.substr(0,8),s),f=c(h);f.start(i),f.update(u.toDer(l.privateKeyToAsn1(e))),f.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:n,parameters:o.util.bytesToHex(i).toUpperCase()},body:f.output.getBytes()};return o.pem.encode(d)},l.decryptRsaPrivateKey=function(e,t){var r=null,a=o.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==a.type&&"PRIVATE KEY"!==a.type&&"RSA PRIVATE KEY"!==a.type){var n=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw n.headerType=n,n}if(a.procType&&"ENCRYPTED"===a.procType.type){var i,s;switch(a.dekInfo.algorithm){case"DES-CBC":i=8,s=o.des.createDecryptionCipher;break;case"DES-EDE3-CBC":i=24,s=o.des.createDecryptionCipher;break;case"AES-128-CBC":i=16,s=o.aes.createDecryptionCipher;break;case"AES-192-CBC":i=24,s=o.aes.createDecryptionCipher;break;case"AES-256-CBC":i=32,s=o.aes.createDecryptionCipher;break;case"RC2-40-CBC":i=5,s=function(e){return o.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":i=8,s=function(e){return o.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":i=16,s=function(e){return o.rc2.createDecryptionCipher(e,128)};break;default:var n=new Error('Could not decrypt private key; unsupported encryption algorithm "'+a.dekInfo.algorithm+'".');throw n.algorithm=a.dekInfo.algorithm,n}var c=o.util.hexToBytes(a.dekInfo.parameters),p=o.pbe.opensslDeriveBytes(t,c.substr(0,8),i),h=s(p);if(h.start(c),h.update(o.util.createBuffer(a.body)),!h.finish())return r;r=h.output.getBytes()}else r=a.body;return r="ENCRYPTED PRIVATE KEY"===a.type?l.decryptPrivateKeyInfo(u.fromDer(r),t):u.fromDer(r),null!==r&&(r=l.privateKeyFromAsn1(r)),r},l.pbe.generatePkcs12Key=function(e,t,r,a,n,i){var s,c;if("undefined"==typeof i||null===i){if(!("sha1"in o.md))throw new Error('"sha1" hash algorithm unavailable.');i=o.md.sha1.create()}var u=i.digestLength,l=i.blockLength,p=new o.util.ByteBuffer,h=new o.util.ByteBuffer;if(null!==e&&void 0!==e){for(c=0;c<e.length;c++)h.putInt16(e.charCodeAt(c));h.putInt16(0)}var f=h.length(),d=t.length(),y=new o.util.ByteBuffer;y.fillWithByte(r,l);var g=l*Math.ceil(d/l),v=new o.util.ByteBuffer;for(c=0;c<g;c++)v.putByte(t.at(c%d));var m=l*Math.ceil(f/l),C=new o.util.ByteBuffer;for(c=0;c<m;c++)C.putByte(h.at(c%f));var E=v;E.putBuffer(C);for(var S=Math.ceil(n/u),T=1;T<=S;T++){var I=new o.util.ByteBuffer;I.putBytes(y.bytes()),I.putBytes(E.bytes());for(var A=0;A<a;A++)i.start(),i.update(I.getBytes()),I=i.digest();var b=new o.util.ByteBuffer;for(c=0;c<l;c++)b.putByte(I.at(c%u));var B=Math.ceil(d/l)+Math.ceil(f/l),N=new o.util.ByteBuffer;for(s=0;s<B;s++){var k=new o.util.ByteBuffer(E.getBytes(l)),R=511;for(c=b.length()-1;c>=0;c--)R>>=8,R+=b.at(c)+k.at(c),k.setAt(c,255&R);N.putBuffer(k)}E=N,p.putBuffer(I)}return p.truncate(p.length()-n),p},l.pbe.getCipher=function(e,t,r){switch(e){case l.oids.pkcs5PBES2:return l.pbe.getCipherForPBES2(e,t,r);case l.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case l.oids["pbewithSHAAnd40BitRC2-CBC"]:return l.pbe.getCipherForPKCS12PBE(e,t,r);default:var a=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw a.oid=e,a.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],a}},l.pbe.getCipherForPBES2=function(e,t,r){var a={},i=[];if(!u.validate(t,f,a,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=u.derToOid(a.kdfOid),e!==l.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=u.derToOid(a.encOid),e!==l.oids["aes128-CBC"]&&e!==l.oids["aes192-CBC"]&&e!==l.oids["aes256-CBC"]&&e!==l.oids["des-EDE3-CBC"]&&e!==l.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var c=a.kdfSalt,p=o.util.createBuffer(a.kdfIterationCount);p=p.getInt(p.length()<<3);var h,d;switch(l.oids[e]){case"aes128-CBC":h=16,d=o.aes.createDecryptionCipher;break;case"aes192-CBC":h=24,d=o.aes.createDecryptionCipher;break;case"aes256-CBC":h=32,d=o.aes.createDecryptionCipher;break;case"des-EDE3-CBC":h=24,d=o.des.createDecryptionCipher;break;case"desCBC":h=8,d=o.des.createDecryptionCipher}var y=n(a.prfOid),g=o.pkcs5.pbkdf2(r,c,p,h,y),v=a.encIv,m=d(g);return m.start(v),m},l.pbe.getCipherForPKCS12PBE=function(e,t,r){var a={},i=[];if(!u.validate(t,d,a,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var c=o.util.createBuffer(a.salt),p=o.util.createBuffer(a.iterations);p=p.getInt(p.length()<<3);var h,f,y;switch(e){case l.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:h=24,f=8,y=o.des.startDecrypting;break;case l.oids["pbewithSHAAnd40BitRC2-CBC"]:h=5,f=8,y=function(e,t){var r=o.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var g=n(a.prfOid),v=l.pbe.generatePkcs12Key(r,c,1,p,h,g);g.start();var m=l.pbe.generatePkcs12Key(r,c,2,p,f,g);return y(v,m)},l.pbe.opensslDeriveBytes=function(e,t,r,n){if("undefined"==typeof n||null===n){if(!("md5"in o.md))throw new Error('"md5" hash algorithm unavailable.');n=o.md.md5.create()}null===t&&(t="");for(var i=[a(n,e+t)],s=16,c=1;s<r;++c,s+=16)i.push(a(n,i[c-1]+e+t));return i.join("").substr(0,r)}},function(e,t,r){function a(e,t,r){r||(r=n.md.sha1.create());for(var a="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);r.start(),r.update(e+o),a+=r.digest().getBytes()}return a.substring(0,t)}var n=r(0);r(1),r(2),r(9);var i=e.exports=n.pkcs1=n.pkcs1||{};i.encode_rsa_oaep=function(e,t,r){var i,s,o,c;"string"==typeof r?(i=r,s=arguments[3]||void 0,o=arguments[4]||void 0):r&&(i=r.label||void 0,s=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(c=r.mgf1.md)),o?o.start():o=n.md.sha1.create(),c||(c=o);var u=Math.ceil(e.n.bitLength()/8),l=u-2*o.digestLength-2;if(t.length>l){var p=new Error("RSAES-OAEP input message length is too long.");throw p.length=t.length,p.maxLength=l,p}i||(i=""),o.update(i,"raw");for(var h=o.digest(),f="",d=l-t.length,y=0;y<d;y++)f+="\0";var g=h.getBytes()+f+""+t;if(s){if(s.length!==o.digestLength){var p=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw p.seedLength=s.length,p.digestLength=o.digestLength,p}}else s=n.random.getBytes(o.digestLength);var v=a(s,u-o.digestLength-1,c),m=n.util.xorBytes(g,v,g.length),C=a(m,o.digestLength,c),E=n.util.xorBytes(s,C,s.length);return"\0"+E+m},i.decode_rsa_oaep=function(e,t,r){var i,s,o;"string"==typeof r?(i=r,s=arguments[3]||void 0):r&&(i=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var c=Math.ceil(e.n.bitLength()/8);if(t.length!==c){var u=new Error("RSAES-OAEP encoded message length is invalid.");throw u.length=t.length,u.expectedLength=c,u}if(void 0===s?s=n.md.sha1.create():s.start(),o||(o=s),c<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),s.update(i,"raw");for(var l=s.digest().getBytes(),p=t.charAt(0),h=t.substring(1,s.digestLength+1),f=t.substring(1+s.digestLength),d=a(f,s.digestLength,o),y=n.util.xorBytes(h,d,h.length),g=a(y,c-s.digestLength-1,o),v=n.util.xorBytes(f,g,f.length),m=v.substring(0,s.digestLength),u="\0"!==p,C=0;C<s.digestLength;++C)u|=l.charAt(C)!==m.charAt(C);for(var E=1,S=s.digestLength,T=s.digestLength;T<v.length;T++){var I=v.charCodeAt(T),A=1&I^1,b=E?65534:0;u|=I&b,E&=A,S+=E}if(u||1!==v.charCodeAt(S))throw new Error("Invalid RSAES-OAEP padding.");return v.substring(S+1)}},function(e,t,r){function a(e,t,r,a){for(var n=[],i=0;i<e.length;i++)for(var s=0;s<e[i].safeBags.length;s++){var o=e[i].safeBags[s];void 0!==a&&o.type!==a||(null!==t?void 0!==o.attributes[t]&&o.attributes[t].indexOf(r)>=0&&n.push(o):n.push(o))}return n}function n(e){if(e.composed||e.constructed){for(var t=u.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function i(e,t,r,a){if(t=l.fromDer(t,r),t.tagClass!==l.Class.UNIVERSAL||t.type!==l.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var c=t.value[i],u={},h=[];if(!l.validate(c,f,u,h)){var d=new Error("Cannot read ContentInfo.");throw d.errors=h,d}var y={encrypted:!1},g=null,v=u.content.value[0];switch(l.derToOid(u.contentType)){case p.oids.data:if(v.tagClass!==l.Class.UNIVERSAL||v.type!==l.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");g=n(v).value;break;case p.oids.encryptedData:g=s(v,a),y.encrypted=!0;break;default:var d=new Error("Unsupported PKCS#12 contentType.");throw d.contentType=l.derToOid(u.contentType),d}y.safeBags=o(g,r,a),e.safeContents.push(y)}}function s(e,t){var r={},a=[];if(!l.validate(e,u.pkcs7.asn1.encryptedDataValidator,r,a)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=a,i}var s=l.derToOid(r.contentType);if(s!==p.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=l.derToOid(r.encAlgorithm);var o=p.pbe.getCipher(s,r.encParameter,t),c=n(r.encryptedContentAsn1),h=u.util.createBuffer(c.value);if(o.update(h),!o.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return o.output.getBytes()}function o(e,t,r){if(!t&&0===e.length)return[];if(e=l.fromDer(e,t),e.tagClass!==l.Class.UNIVERSAL||e.type!==l.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var a=[],n=0;n<e.value.length;n++){var i=e.value[n],s={},o=[];if(!l.validate(i,y,s,o)){var u=new Error("Cannot read SafeBag.");throw u.errors=o,u}var h={type:l.derToOid(s.bagId),attributes:c(s.bagAttributes)};a.push(h);var f,d,g=s.bagValue.value[0];switch(h.type){case p.oids.pkcs8ShroudedKeyBag:if(g=p.decryptPrivateKeyInfo(g,r),null===g)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case p.oids.keyBag:try{h.key=p.privateKeyFromAsn1(g)}catch(e){h.key=null,h.asn1=g}continue;case p.oids.certBag:f=v,d=function(){if(l.derToOid(s.certId)!==p.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=l.derToOid(s.certId),e}var r=l.fromDer(s.cert,t);try{h.cert=p.certificateFromAsn1(r,!0)}catch(e){h.cert=null,h.asn1=r}};break;default:var u=new Error("Unsupported PKCS#12 SafeBag type.");throw u.oid=h.type,u}if(void 0!==f&&!l.validate(g,f,s,o)){var u=new Error("Cannot read PKCS#12 "+f.name);throw u.errors=o,u}d()}return a}function c(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var a={},n=[];if(!l.validate(e[r],g,a,n)){var i=new Error("Cannot read PKCS#12 BagAttribute.");throw i.errors=n,i}var s=l.derToOid(a.oid);if(void 0!==p.oids[s]){t[p.oids[s]]=[];for(var o=0;o<a.values.length;++o)t[p.oids[s]].push(a.values[o].value)}}return t}var u=r(0);r(3),r(8),r(6),r(25),r(22),r(2),r(11),r(9),r(1),r(17);var l=u.asn1,p=u.pki,h=e.exports=u.pkcs12=u.pkcs12||{},f={name:"ContentInfo",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:l.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},d={name:"PFX",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"version"},f,{name:"PFX.macData",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:l.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:l.Class.UNIVERSAL,type:l.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:l.Class.UNIVERSAL,type:l.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},y={name:"SafeBag",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:l.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:l.Class.UNIVERSAL,type:l.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},g={name:"Attribute",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:l.Class.UNIVERSAL,type:l.Type.SET,constructed:!0,capture:"values"}]},v={name:"CertBag",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:l.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:l.Class.UNIVERSAL,type:l.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};h.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var s={},o=[];if(!l.validate(e,d,s,o)){var c=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw c.errors=c,c}var f={version:s.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=u.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=a(f.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=a(f.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=a(f.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return a(f.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return a(f.safeContents,"localKeyId",e,t)}};if(3!==s.version.charCodeAt(0)){var c=new Error("PKCS#12 PFX of version other than 3 not supported.");throw c.version=s.version.charCodeAt(0),c}if(l.derToOid(s.contentType)!==p.oids.data){var c=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw c.oid=l.derToOid(s.contentType),c}var y=s.content.value[0];if(y.tagClass!==l.Class.UNIVERSAL||y.type!==l.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(y=n(y),s.mac){var g=null,v=0,m=l.derToOid(s.macAlgorithm);switch(m){case p.oids.sha1:g=u.md.sha1.create(),v=20;break;case p.oids.sha256:g=u.md.sha256.create(),v=32;break;case p.oids.sha384:g=u.md.sha384.create(),v=48;break;case p.oids.sha512:g=u.md.sha512.create(),v=64;break;case p.oids.md5:g=u.md.md5.create(),v=16}if(null===g)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+m);var C=new u.util.ByteBuffer(s.macSalt),E="macIterations"in s?parseInt(u.util.bytesToHex(s.macIterations),16):1,S=h.generateKey(r,C,3,E,v,g),T=u.hmac.create();T.start(g,S),T.update(y.value);var I=T.getMac();if(I.getBytes()!==s.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return i(f,y.value,t,r),f},h.toPkcs12Asn1=function(e,t,r,a){a=a||{},a.saltSize=a.saltSize||8,a.count=a.count||2048,a.algorithm=a.algorithm||a.encAlgorithm||"aes128","useMac"in a||(a.useMac=!0),"localKeyId"in a||(a.localKeyId=null),"generateLocalKeyId"in a||(a.generateLocalKeyId=!0);var n,i=a.localKeyId;if(null!==i)i=u.util.hexToBytes(i);else if(a.generateLocalKeyId)if(t){var s=u.util.isArray(t)?t[0]:t;"string"==typeof s&&(s=p.certificateFromPem(s));var o=u.md.sha1.create();o.update(l.toDer(p.certificateToAsn1(s)).getBytes()),i=o.digest().getBytes()}else i=u.random.getBytes(20);var c=[];null!==i&&c.push(l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p.oids.localKeyId).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SET,!0,[l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,i)])])),"friendlyName"in a&&c.push(l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p.oids.friendlyName).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SET,!0,[l.create(l.Class.UNIVERSAL,l.Type.BMPSTRING,!1,a.friendlyName)])])),c.length>0&&(n=l.create(l.Class.UNIVERSAL,l.Type.SET,!0,c));var f=[],d=[];null!==t&&(d=u.util.isArray(t)?t:[t]);for(var y=[],g=0;g<d.length;++g){t=d[g],"string"==typeof t&&(t=p.certificateFromPem(t));var v=0===g?n:void 0,m=p.certificateToAsn1(t),C=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p.oids.certBag).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p.oids.x509Certificate).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,l.toDer(m).getBytes())])])]),v]);y.push(C)}if(y.length>0){var E=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,y),S=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p.oids.data).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,l.toDer(E).getBytes())])]);f.push(S)}var T=null;if(null!==e){var I=p.wrapRsaPrivateKey(p.privateKeyToAsn1(e));T=null===r?l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p.oids.keyBag).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[I]),n]):l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p.oids.pkcs8ShroudedKeyBag).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[p.encryptPrivateKeyInfo(I,r,a)]),n]);var A=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[T]),b=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p.oids.data).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,l.toDer(A).getBytes())])]);f.push(b)}var B,N=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,f);if(a.useMac){var o=u.md.sha1.create(),k=new u.util.ByteBuffer(u.random.getBytes(a.saltSize)),R=a.count,e=h.generateKey(r,k,3,R,20),w=u.hmac.create();w.start(o,e),w.update(l.toDer(N).getBytes());var L=w.getMac();B=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p.oids.sha1).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.NULL,!1,"")]),l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,L.getBytes())]),l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,k.getBytes()),l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(R).getBytes())])}return l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(3).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p.oids.data).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,l.toDer(N).getBytes())])]),B])},h.generateKey=u.pbe.generatePkcs12Key},function(e,t,r){var a=r(0);r(3),r(1);var n=a.asn1,i=e.exports=a.pkcs7asn1=a.pkcs7asn1||{};a.pkcs7=a.pkcs7||{},a.pkcs7.asn1=i;var s={name:"ContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=s;var o={name:"EncryptedContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},i.encryptedDataValidator={name:"EncryptedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var c={name:"SignerInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};i.signedDataValidator={name:"SignedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},s,{name:"SignedData.Certificates",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(e,t,r){var a=r(0);r(3),r(6),r(22),r(7),r(15),r(24),r(16),r(11),r(1),r(17);var n=a.asn1,i=e.exports=a.pki=a.pki||{};i.pemToDer=function(e){var t=a.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return a.util.createBuffer(t.body)},i.privateKeyFromPem=function(e){var t=a.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var s=n.fromDer(t.body);return i.privateKeyFromAsn1(s)},i.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:n.toDer(i.privateKeyToAsn1(e)).getBytes()};return a.pem.encode(r,{maxline:t})},i.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:n.toDer(e).getBytes()};return a.pem.encode(r,{maxline:t})}},function(e,t,r){var a=r(0);r(1),r(13),r(2),function(){function t(e,t,a,n){return"workers"in a?i(e,t,a,n):r(e,t,a,n)}function r(e,t,r,a){var i=s(e,t),c=0,u=o(i.bitLength());"millerRabinTests"in r&&(u=r.millerRabinTests);var l=10;
"maxBlockTime"in r&&(l=r.maxBlockTime),n(i,e,t,c,u,l,a)}function n(e,t,r,i,o,c,u){var p=+new Date;do{if(e.bitLength()>t&&(e=s(t,r)),e.isProbablePrime(o))return u(null,e);e.dAddOffset(l[i++%8],0)}while(c<0||+new Date-p<c);a.util.setImmediate(function(){n(e,t,r,i,o,c,u)})}function i(e,t,n,i){function o(){function r(r){if(!d){--o;var n=r.data;if(n.found){for(var l=0;l<a.length;++l)a[l].terminate();return d=!0,i(null,new u(n.prime,16))}c.bitLength()>e&&(c=s(e,t));var f=c.toString(16);r.target.postMessage({hex:f,workLoad:p}),c.dAddOffset(h,0)}}l=Math.max(1,l);for(var a=[],n=0;n<l;++n)a[n]=new Worker(f);for(var o=l,n=0;n<l;++n)a[n].addEventListener("message",r);var d=!1}if("undefined"==typeof Worker)return r(e,t,n,i);var c=s(e,t),l=n.workers,p=n.workLoad||100,h=30*p/8,f=n.workerScript||"forge/prime.worker.js";return l===-1?a.util.estimateCores(function(e,t){e&&(t=2),l=t-1,o()}):void o()}function s(e,t){var r=new u(e,t),a=e-1;return r.testBit(a)||r.bitwiseTo(u.ONE.shiftLeft(a),h,r),r.dAddOffset(31-r.mod(p).byteValue(),0),r}function o(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}if(a.prime)return void(e.exports=a.prime);var c=e.exports=a.prime=a.prime||{},u=a.jsbn.BigInteger,l=[6,4,2,4,2,4,6,2],p=new u(null);p.fromInt(30);var h=function(e,t){return e|t};c.generateProbablePrime=function(e,r,n){"function"==typeof r&&(n=r,r={}),r=r||{};var i=r.algorithm||"PRIMEINC";"string"==typeof i&&(i={name:i}),i.options=i.options||{};var s=r.prng||a.random,o={nextBytes:function(e){for(var t=s.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===i.name)return t(e,o,i.options,n);throw new Error("Invalid prime generation algorithm: "+i.name)}}()},function(e,t,r){var a=r(0);r(1);var n=null;!a.util.isNodejs||a.options.usePureJavaScript||process.versions["node-webkit"]||(n=r(32));var i=e.exports=a.prng=a.prng||{};i.create=function(e){function t(e){if(o.pools[0].messageLength>=32)return i(),e();var t=32-o.pools[0].messageLength<<5;o.seedFile(t,function(t,r){return t?e(t):(o.collect(r),i(),void e())})}function r(){if(o.pools[0].messageLength>=32)return i();var e=32-o.pools[0].messageLength<<5;o.collect(o.seedFileSync(e)),i()}function i(){var e=o.plugin.md.create();e.update(o.pools[0].digest().getBytes()),o.pools[0].start();for(var t=1,r=1;r<32;++r)t=31===t?2147483648:t<<2,t%o.reseeds===0&&(e.update(o.pools[r].digest().getBytes()),o.pools[r].start());var a=e.digest().getBytes();e.start(),e.update(a);var n=e.digest().getBytes();o.key=o.plugin.formatKey(a),o.seed=o.plugin.formatSeed(n),o.reseeds=4294967295===o.reseeds?0:o.reseeds+1,o.generated=0}function s(e){var t=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(t=function(e){return r.getRandomValues(e)})}var n=a.util.createBuffer();if(t)for(;n.length()<e;){var i=Math.max(1,Math.min(e-n.length(),65536)/4),s=new Uint32Array(Math.floor(i));try{t(s);for(var o=0;o<s.length;++o)n.putInt32(s[o])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(n.length()<e)for(var c,u,l,p=Math.floor(65536*Math.random());n.length()<e;){u=16807*(65535&p),c=16807*(p>>16),u+=(32767&c)<<16,u+=c>>15,u=(2147483647&u)+(u>>31),p=4294967295&u;for(var o=0;o<3;++o)l=p>>>(o<<3),l^=Math.floor(256*Math.random()),n.putByte(String.fromCharCode(255&l))}return n.getBytes(e)}for(var o={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0},c=e.md,u=new Array(32),l=0;l<32;++l)u[l]=c.create();return o.pools=u,o.pool=0,o.generate=function(e,r){function n(p){if(p)return r(p);if(l.length()>=e)return r(null,l.getBytes(e));if(o.generated>1048575&&(o.key=null),null===o.key)return a.util.nextTick(function(){t(n)});var h=i(o.key,o.seed);o.generated+=h.length,l.putBytes(h),o.key=c(i(o.key,s(o.seed))),o.seed=u(i(o.key,o.seed)),a.util.setImmediate(n)}if(!r)return o.generateSync(e);var i=o.plugin.cipher,s=o.plugin.increment,c=o.plugin.formatKey,u=o.plugin.formatSeed,l=a.util.createBuffer();o.key=null,n()},o.generateSync=function(e){var t=o.plugin.cipher,n=o.plugin.increment,i=o.plugin.formatKey,s=o.plugin.formatSeed;o.key=null;for(var c=a.util.createBuffer();c.length()<e;){o.generated>1048575&&(o.key=null),null===o.key&&r();var u=t(o.key,o.seed);o.generated+=u.length,c.putBytes(u),o.key=i(t(o.key,n(o.seed))),o.seed=s(t(o.key,o.seed))}return c.getBytes(e)},n?(o.seedFile=function(e,t){n.randomBytes(e,function(e,r){return e?t(e):void t(null,r.toString())})},o.seedFileSync=function(e){return n.randomBytes(e).toString()}):(o.seedFile=function(e,t){try{t(null,s(e))}catch(e){t(e)}},o.seedFileSync=s),o.collect=function(e){for(var t=e.length,r=0;r<t;++r)o.pools[o.pool].update(e.substr(r,1)),o.pool=31===o.pool?0:o.pool+1},o.collectInt=function(e,t){for(var r="",a=0;a<t;a+=8)r+=String.fromCharCode(e>>a&255);o.collect(r)},o.registerWorker=function(e){if(e===self)o.seedFile=function(e,t){function r(e){var a=e.data;a.forge&&a.forge.prng&&(self.removeEventListener("message",r),t(a.forge.prng.err,a.forge.prng.bytes))}self.addEventListener("message",r),self.postMessage({forge:{prng:{needed:e}}})};else{var t=function(t){var r=t.data;r.forge&&r.forge.prng&&o.seedFile(r.forge.prng.needed,function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})})};e.addEventListener("message",t)}},o}},function(e,t,r){var a=r(0);r(1);var n=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],s=function(e,t){return e<<t&65535|(65535&e)>>16-t},o=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=a.rc2=a.rc2||{},a.rc2.expandKey=function(e,t){"string"==typeof e&&(e=a.util.createBuffer(e)),t=t||128;var r,i=e,s=e.length(),o=t,c=Math.ceil(o/8),u=255>>(7&o);for(r=s;r<128;r++)i.putByte(n[i.at(r-1)+i.at(r-s)&255]);for(i.setAt(128-c,n[i.at(128-c)&u]),r=127-c;r>=0;r--)i.setAt(r,n[i.at(r+1)^i.at(r+c)]);return i};var c=function(e,t,r){var n,c,u,l,p=!1,h=null,f=null,d=null,y=[];for(e=a.rc2.expandKey(e,t),u=0;u<64;u++)y.push(e.getInt16Le());r?(n=function(e){for(u=0;u<4;u++)e[u]+=y[l]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]),e[u]=s(e[u],i[u]),l++},c=function(e){for(u=0;u<4;u++)e[u]+=y[63&e[(u+3)%4]]}):(n=function(e){for(u=3;u>=0;u--)e[u]=o(e[u],i[u]),e[u]-=y[l]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]),l--},c=function(e){for(u=3;u>=0;u--)e[u]-=y[63&e[(u+3)%4]]});var g=function(e){var t=[];for(u=0;u<4;u++){var a=h.getInt16Le();null!==d&&(r?a^=d.getInt16Le():d.putInt16Le(a)),t.push(65535&a)}l=r?0:63;for(var n=0;n<e.length;n++)for(var i=0;i<e[n][0];i++)e[n][1](t);for(u=0;u<4;u++)null!==d&&(r?d.putInt16Le(t[u]):t[u]^=d.getInt16Le()),f.putInt16Le(t[u])},v=null;return v={start:function(e,t){e&&"string"==typeof e&&(e=a.util.createBuffer(e)),p=!1,h=a.util.createBuffer(),f=t||new a.util.createBuffer,d=e,v.output=f},update:function(e){for(p||h.putBuffer(e);h.length()>=8;)g([[5,n],[1,c],[6,n],[1,c],[5,n]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,h,!r);else{var a=8===h.length()?8:8-h.length();h.fillWithByte(a,a)}if(t&&(p=!0,v.update()),!r&&(t=0===h.length()))if(e)t=e(8,f,!r);else{var n=f.length(),i=f.at(n-1);i>n?t=!1:f.truncate(i)}return t}}};a.rc2.startEncrypting=function(e,t,r){var n=a.rc2.createEncryptionCipher(e,128);return n.start(t,r),n},a.rc2.createEncryptionCipher=function(e,t){return c(e,t,!0)},a.rc2.startDecrypting=function(e,t,r){var n=a.rc2.createDecryptionCipher(e,128);return n.start(t,r),n},a.rc2.createDecryptionCipher=function(e,t){return c(e,t,!1)}},function(e,t,r){function a(){o=String.fromCharCode(128),o+=i.util.fillString(String.fromCharCode(0),64),u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=!0}function n(e,t,r){for(var a,n,i,s,o,c,l,p,h,f,d,y,g,v,m,C=r.length();C>=64;){for(l=0;l<16;++l)t[l]=r.getInt32();for(;l<64;++l)a=t[l-2],a=(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10,n=t[l-15],n=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,t[l]=a+t[l-7]+n+t[l-16]|0;for(p=e.h0,h=e.h1,f=e.h2,d=e.h3,y=e.h4,g=e.h5,v=e.h6,m=e.h7,l=0;l<64;++l)s=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),o=v^y&(g^v),i=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),c=p&h|f&(p^h),a=m+s+o+u[l]+t[l],n=i+c,m=v,v=g,g=y,y=d+a>>>0,d=f,f=h,h=p,p=a+n>>>0;e.h0=e.h0+p|0,e.h1=e.h1+h|0,e.h2=e.h2+f|0,e.h3=e.h3+d|0,e.h4=e.h4+y|0,e.h5=e.h5+g|0,e.h6=e.h6+v|0,e.h7=e.h7+m|0,C-=64}}var i=r(0);r(4),r(1);var s=e.exports=i.sha256=i.sha256||{};i.md.sha256=i.md.algorithms.sha256=s,s.create=function(){c||a();var e=null,t=i.util.createBuffer(),r=new Array(64),s={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var r=s.messageLengthSize/4,a=0;a<r;++a)s.fullMessageLength.push(0);return t=i.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},s},s.start(),s.update=function(a,o){"utf8"===o&&(a=i.util.encodeUtf8(a));var c=a.length;s.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var u=s.fullMessageLength.length-1;u>=0;--u)s.fullMessageLength[u]+=c[1],c[1]=c[0]+(s.fullMessageLength[u]/4294967296>>>0),s.fullMessageLength[u]=s.fullMessageLength[u]>>>0,c[0]=c[1]/4294967296>>>0;return t.putBytes(a),n(e,r,t),(t.read>2048||0===t.length())&&t.compact(),s},s.digest=function(){var a=i.util.createBuffer();a.putBytes(t.bytes());var c=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,u=c&s.blockLength-1;a.putBytes(o.substr(0,s.blockLength-u));for(var l,p,h=8*s.fullMessageLength[0],f=0;f<s.fullMessageLength.length-1;++f)l=8*s.fullMessageLength[f+1],p=l/4294967296>>>0,h+=p,a.putInt32(h>>>0),h=l>>>0;a.putInt32(h);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};n(d,r,a);var y=i.util.createBuffer();return y.putInt32(d.h0),y.putInt32(d.h1),y.putInt32(d.h2),y.putInt32(d.h3),y.putInt32(d.h4),y.putInt32(d.h5),y.putInt32(d.h6),y.putInt32(d.h7),y},s};var o=null,c=!1,u=null},function(e,t,r){var a=r(0);r(3),r(8),r(14),r(7),r(26),r(2),r(9),r(1);var n=function(e,t,r,n){var i=a.util.createBuffer(),s=e.length>>1,o=s+(1&e.length),c=e.substr(0,o),u=e.substr(s,o),l=a.util.createBuffer(),p=a.hmac.create();r=t+r;var h=Math.ceil(n/16),f=Math.ceil(n/20);p.start("MD5",c);var d=a.util.createBuffer();l.putBytes(r);for(var y=0;y<h;++y)p.start(null,null),p.update(l.getBytes()),l.putBuffer(p.digest()),p.start(null,null),p.update(l.bytes()+r),d.putBuffer(p.digest());p.start("SHA1",u);var g=a.util.createBuffer();l.clear(),l.putBytes(r);for(var y=0;y<f;++y)p.start(null,null),p.update(l.getBytes()),l.putBuffer(p.digest()),p.start(null,null),p.update(l.bytes()+r),g.putBuffer(p.digest());return i.putBytes(a.util.xorBytes(d.getBytes(),g.getBytes(),n)),i},i=function(e,t,r){var n=a.hmac.create();n.start("SHA1",e);var i=a.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},s=function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=a.util.createBuffer(i),t.length=i.length,n=!0}catch(e){}return n},o=function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=a.util.createBuffer(i),t.length=i.length,n=!0}catch(e){}return n},c=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return a.util.createBuffer(e.getBytes(r))},u=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},l={};l.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},l.SupportedVersions=[l.Versions.TLS_1_1,l.Versions.TLS_1_0],l.Version=l.SupportedVersions[0],l.MaxFragment=15360,l.ConnectionEnd={server:0,client:1},l.PRFAlgorithm={tls_prf_sha256:0},l.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},l.CipherType={stream:0,block:1,aead:2},l.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},l.CompressionMethod={none:0,deflate:1},l.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},l.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},l.Alert={},l.Alert.Level={warning:1,fatal:2},l.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},l.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},l.CipherSuites={},l.getCipherSuite=function(e){var t=null;for(var r in l.CipherSuites){var a=l.CipherSuites[r];if(a.id[0]===e.charCodeAt(0)&&a.id[1]===e.charCodeAt(1)){t=a;break}}return t},l.handleUnexpected=function(e,t){var r=!e.open&&e.entity===l.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})},l.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(l.queue(e,l.createAlert(e,{level:l.Alert.Level.warning,description:l.Alert.Description.no_renegotiation})),l.flush(e)),e.process()},l.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===l.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});else{var s=t.fragment,o=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:a.util.createBuffer(s.getBytes(32)),session_id:c(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=c(s,2),n.compression_methods=c(s,1)),o=r-(o-s.length()),o>0){for(var u=c(s,2);u.length()>0;)n.extensions.push({type:[u.getByte(),u.getByte()],data:c(u,2)});if(!i)for(var p=0;p<n.extensions.length;++p){var h=n.extensions[p];if(0===h.type[0]&&0===h.type[1])for(var f=c(h.data,2);f.length()>0;){var d=f.getByte();if(0!==d)break;e.session.extensions.server_name.serverNameList.push(c(f,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=l.getCipherSuite(n.cipher_suite);else for(var y=a.util.createBuffer(n.cipher_suites.bytes());y.length()>0&&(e.session.cipherSuite=l.getCipherSuite(y.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure},cipherSuite:a.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=l.CompressionMethod.none}return n},l.createSecurityParameters=function(e,t){var r=e.entity===l.ConnectionEnd.client,a=t.random.bytes(),n=r?e.session.sp.client_random:a,i=r?a:l.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:l.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:n,server_random:i}},l.handleServerHello=function(e,t,r){var a=l.parseHelloMessage(e,t,r);if(!e.fail){if(!(a.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});e.version.minor=a.version.minor,e.session.version=e.version;var n=a.session_id.bytes();n.length>0&&n===e.session.id?(e.expect=g,e.session.resuming=!0,e.session.sp.server_random=a.random.bytes()):(e.expect=h,e.session.resuming=!1,l.createSecurityParameters(e,a)),e.session.id=n,e.process()}},l.handleClientHello=function(e,t,r){var n=l.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),s=null;if(e.sessionCache&&(s=e.sessionCache.getSession(i),null===s?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),0===i.length&&(i=a.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var o,c=1;c<l.SupportedVersions.length&&(o=l.SupportedVersions[c],!(o.minor<=n.version.minor));++c);e.version={major:o.major,minor:o.minor},e.session.version=e.version}null!==s?(e.expect=A,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?S:T,e.session.resuming=!1,l.createSecurityParameters(e,n)),e.open=!0,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerHello(e)})),e.session.resuming?(l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.pending=l.createConnectionState(e),e.state.current.write=e.state.pending.write,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)}))):(l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificate(e)})),e.fail||(l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerKeyExchange(e)})),e.verifyClient!==!1&&l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificateRequest(e)})),l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerHelloDone(e)})))),l.flush(e),e.process()}},l.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var n,i,s=t.fragment,o={certificate_list:c(s,3)},u=[];try{for(;o.certificate_list.length()>0;)n=c(o.certificate_list,3),i=a.asn1.fromDer(n),n=a.pki.certificateFromAsn1(i,!0),u.push(n)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var p=e.entity===l.ConnectionEnd.client;!p&&e.verifyClient!==!0||0!==u.length?0===u.length?e.expect=p?f:T:(p?e.session.serverCertificate=u[0]:e.session.clientCertificate=u[0],l.verifyCertificateChain(e,u)&&(e.expect=p?f:T)):e.error(e,{message:p?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}}),e.process()},l.handleServerKeyExchange=function(e,t,r){return r>0?e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}}):(e.expect=d,void e.process())},l.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:c(n,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=a.pki.privateKeyFromPem(s)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}if(null===s)return e.error(e,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}});try{var o=e.session.sp;o.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var u=e.session.clientHelloVersion;if(u.major!==o.pre_master_secret.charCodeAt(0)||u.minor!==o.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){o.pre_master_secret=a.random.getBytes(48)}e.expect=A,null!==e.session.clientCertificate&&(e.expect=I),e.process()},l.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var a=t.fragment,n={certificate_types:c(a,1),certificate_authorities:c(a,2)};e.session.certificateRequest=n,e.expect=y,e.process()},l.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:c(n,2).getBytes()},o=a.util.createBuffer();o.putBuffer(e.session.md5.digest()),o.putBuffer(e.session.sha1.digest()),o=o.getBytes();try{var u=e.session.clientCertificate;if(!u.publicKey.verify(o,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure}})}e.expect=A,e.process()},l.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.record_overflow}});if(null===e.serverCertificate){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.insufficient_security}},i=0,s=e.verify(e,n.alert.description,i,[]);if(s!==!0)return(s||0===s)&&("object"!=typeof s||a.util.isArray(s)?"number"==typeof s&&(n.alert.description=s):(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert))),e.error(e,n)}null!==e.session.certificateRequest&&(t=l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificate(e)}),l.queue(e,t)),t=l.createRecord(e,{type:l.ContentType.handshake,data:l.createClientKeyExchange(e)}),l.queue(e,t),e.expect=C;var o=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificateVerify(e,t)})),l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.pending=l.createConnectionState(e),e.state.current.write=e.state.pending.write,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)})),e.expect=g,l.flush(e),e.process()};return null===e.session.certificateRequest||null===e.session.clientCertificate?o(e,null):void l.getClientSignature(e,o)},l.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var r=e.entity===l.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=l.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?v:b,e.process()},l.handleFinished=function(e,t,r){var i=t.fragment;i.read-=4;var s=i.bytes();i.read+=4;var o=t.fragment.getBytes();i=a.util.createBuffer(),i.putBuffer(e.session.md5.digest()),i.putBuffer(e.session.sha1.digest());var c=e.entity===l.ConnectionEnd.client,u=c?"server finished":"client finished",p=e.session.sp,h=12,f=n;return i=f(p.master_secret,u,i.getBytes(),h),i.getBytes()!==o?e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decrypt_error}}):(e.session.md5.update(s),e.session.sha1.update(s),(e.session.resuming&&c||!e.session.resuming&&!c)&&(l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)}))),e.expect=c?m:B,e.handshaking=!1,++e.handshakes,e.peerCertificate=c?e.session.serverCertificate:e.session.clientCertificate,l.flush(e),e.isConnected=!0,e.connected(e),void e.process())},l.handleAlert=function(e,t){var r,a=t.fragment,n={level:a.getByte(),description:a.getByte()};switch(n.description){case l.Alert.Description.close_notify:r="Connection closed.";break;case l.Alert.Description.unexpected_message:r="Unexpected message.";break;case l.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case l.Alert.Description.decryption_failed:r="Decryption failed.";break;case l.Alert.Description.record_overflow:r="Record overflow.";break;case l.Alert.Description.decompression_failure:r="Decompression failed.";break;case l.Alert.Description.handshake_failure:r="Handshake failure.";break;case l.Alert.Description.bad_certificate:r="Bad certificate.";break;case l.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case l.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case l.Alert.Description.certificate_expired:r="Certificate expired.";break;case l.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case l.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case l.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case l.Alert.Description.access_denied:r="Access denied.";break;case l.Alert.Description.decode_error:r="Decode error.";break;case l.Alert.Description.decrypt_error:r="Decrypt error.";break;case l.Alert.Description.export_restriction:r="Export restriction.";break;case l.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case l.Alert.Description.insufficient_security:r="Insufficient security.";break;case l.Alert.Description.internal_error:r="Internal error.";break;case l.Alert.Description.user_canceled:r="User canceled.";break;case l.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}return n.description===l.Alert.Description.close_notify?e.close():(e.error(e,{message:r,send:!1,origin:e.entity===l.ConnectionEnd.client?"server":"client",alert:n}),void e.process())},l.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=a.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in F[e.entity][e.expect]?(e.entity!==l.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:a.md.md5.create(),sha1:a.md.sha1.create()}),n!==l.HandshakeType.hello_request&&n!==l.HandshakeType.certificate_verify&&n!==l.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),F[e.entity][e.expect][n](e,t,i)):l.handleUnexpected(e,t)},l.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},l.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===l.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>s.length)return e.process();l.queue(e,l.createRecord(e,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_response,s)})),l.flush(e)}else if(n===l.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,a.util.createBuffer(s))}e.process()};var p=0,h=1,f=2,d=3,y=4,g=5,v=6,m=7,C=8,E=0,S=1,T=2,I=3,A=4,b=5,B=6,N=l.handleUnexpected,k=l.handleChangeCipherSpec,R=l.handleAlert,w=l.handleHandshake,L=l.handleApplicationData,_=l.handleHeartbeat,U=[];U[l.ConnectionEnd.client]=[[N,R,w,N,_],[N,R,w,N,_],[N,R,w,N,_],[N,R,w,N,_],[N,R,w,N,_],[k,R,N,N,_],[N,R,w,N,_],[N,R,w,L,_],[N,R,w,N,_]],U[l.ConnectionEnd.server]=[[N,R,w,N,_],[N,R,w,N,_],[N,R,w,N,_],[N,R,w,N,_],[k,R,N,N,_],[N,R,w,N,_],[N,R,w,L,_],[N,R,w,N,_]];var D=l.handleHelloRequest,P=l.handleServerHello,V=l.handleCertificate,O=l.handleServerKeyExchange,x=l.handleCertificateRequest,K=l.handleServerHelloDone,M=l.handleFinished,F=[];F[l.ConnectionEnd.client]=[[N,N,P,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[D,N,N,N,N,N,N,N,N,N,N,V,O,x,K,N,N,N,N,N,N],[D,N,N,N,N,N,N,N,N,N,N,N,O,x,K,N,N,N,N,N,N],[D,N,N,N,N,N,N,N,N,N,N,N,N,x,K,N,N,N,N,N,N],[D,N,N,N,N,N,N,N,N,N,N,N,N,N,K,N,N,N,N,N,N],[D,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[D,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,M],[D,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[D,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N]];var q=l.handleClientHello,j=l.handleClientKeyExchange,H=l.handleCertificateVerify;F[l.ConnectionEnd.server]=[[N,q,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,V,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,j,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,H,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,M],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],[N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N]],l.generateKeys=function(e,t){var r=n,a=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",a,48).bytes(),t.pre_master_secret=null),a=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===l.Versions.TLS_1_0.major&&e.version.minor===l.Versions.TLS_1_0.minor;s&&(i+=2*t.fixed_iv_length);var o=r(t.master_secret,"key expansion",a,i),c={client_write_MAC_key:o.getBytes(t.mac_key_length),server_write_MAC_key:o.getBytes(t.mac_key_length),client_write_key:o.getBytes(t.enc_key_length),server_write_key:o.getBytes(t.enc_key_length)};return s&&(c.client_write_IV=o.getBytes(t.fixed_iv_length),c.server_write_IV=o.getBytes(t.fixed_iv_length)),c},l.createConnectionState=function(e){var t=e.entity===l.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){
4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},a={read:r(),write:r()};if(a.read.update=function(e,t){return a.read.cipherFunction(t,a.read)?a.read.compressFunction(e,t,a.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_record_mac}}),!e.fail},a.write.update=function(e,t){return a.write.compressFunction(e,t,a.write)?a.write.cipherFunction(t,a.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}),!e.fail},e.session){var n=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(n),n.keys=l.generateKeys(e,n),a.read.macKey=t?n.keys.server_write_MAC_key:n.keys.client_write_MAC_key,a.write.macKey=t?n.keys.client_write_MAC_key:n.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(a,e,n),n.compression_algorithm){case l.CompressionMethod.none:break;case l.CompressionMethod.deflate:a.read.compressFunction=o,a.write.compressFunction=s;break;default:throw new Error("Unsupported compression algorithm.")}}return a},l.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=a.util.createBuffer();return r.putInt32(t),r.putBytes(a.random.getBytes(28)),r},l.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r},l.createAlert=function(e,t){var r=a.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),l.createRecord(e,{type:l.ContentType.alert,data:r})},l.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=a.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),s=a.util.createBuffer();s.putByte(l.CompressionMethod.none);var o=s.length(),c=a.util.createBuffer();if(e.virtualHost){var p=a.util.createBuffer();p.putByte(0),p.putByte(0);var h=a.util.createBuffer();h.putByte(0),u(h,2,a.util.createBuffer(e.virtualHost));var f=a.util.createBuffer();u(f,2,h),u(p,2,f),c.putBuffer(p)}var d=c.length();d>0&&(d+=2);var y=e.session.id,g=y.length+1+2+4+28+2+i+1+o+d,v=a.util.createBuffer();return v.putByte(l.HandshakeType.client_hello),v.putInt24(g),v.putByte(e.version.major),v.putByte(e.version.minor),v.putBytes(e.session.sp.client_random),u(v,1,a.util.createBuffer(y)),u(v,2,t),u(v,1,s),d>0&&u(v,2,c),v},l.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=a.util.createBuffer();return n.putByte(l.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),u(n,1,a.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n},l.createCertificate=function(e){var t=e.entity===l.ConnectionEnd.client,r=null;if(e.getCertificate){var n;n=t?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=a.util.createBuffer();if(null!==r)try{a.util.isArray(r)||(r=[r]);for(var s=null,o=0;o<r.length;++o){var c=a.pem.decode(r[o])[0];if("CERTIFICATE"!==c.type&&"X509 CERTIFICATE"!==c.type&&"TRUSTED CERTIFICATE"!==c.type){var p=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw p.headerType=c.type,p}if(c.procType&&"ENCRYPTED"===c.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var h=a.util.createBuffer(c.body);null===s&&(s=a.asn1.fromDer(h.bytes(),!1));var f=a.util.createBuffer();u(f,3,h),i.putBuffer(f)}r=a.pki.certificateFromAsn1(s),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var d=3+i.length(),y=a.util.createBuffer();return y.putByte(l.HandshakeType.certificate),y.putInt24(d),u(y,3,i),y},l.createClientKeyExchange=function(e){var t=a.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(a.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,s=a.util.createBuffer();return s.putByte(l.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s},l.createServerKeyExchange=function(e){var t=0,r=a.util.createBuffer();return t>0&&(r.putByte(l.HandshakeType.server_key_exchange),r.putInt24(t)),r},l.getClientSignature=function(e,t){var r=a.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var n=null;if(e.getPrivateKey)try{n=e.getPrivateKey(e,e.session.clientCertificate),n=a.pki.privateKeyFromPem(n)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}null===n?e.error(e,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):t=n.sign(t,null),r(e,t)},e.getSignature(e,r,t)},l.createCertificateVerify=function(e,t){var r=t.length+2,n=a.util.createBuffer();return n.putByte(l.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n},l.createCertificateRequest=function(e){var t=a.util.createBuffer();t.putByte(1);var r=a.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],s=a.pki.distinguishedNameToAsn1(i.subject),o=a.asn1.toDer(s);r.putInt16(o.length()),r.putBuffer(o)}var c=1+t.length()+2+r.length(),p=a.util.createBuffer();return p.putByte(l.HandshakeType.certificate_request),p.putInt24(c),u(p,1,t),u(p,2,r),p},l.createServerHelloDone=function(e){var t=a.util.createBuffer();return t.putByte(l.HandshakeType.server_hello_done),t.putInt24(0),t},l.createChangeCipherSpec=function(){var e=a.util.createBuffer();return e.putByte(1),e},l.createFinished=function(e){var t=a.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===l.ConnectionEnd.client,i=e.session.sp,s=12,o=n,c=r?"client finished":"server finished";t=o(i.master_secret,c,t.getBytes(),s);var u=a.util.createBuffer();return u.putByte(l.HandshakeType.finished),u.putInt24(t.length()),u.putBuffer(t),u},l.createHeartbeat=function(e,t,r){"undefined"==typeof r&&(r=t.length);var n=a.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(a.random.getBytes(s)),n},l.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==l.ContentType.handshake&&t.type!==l.ContentType.alert&&t.type!==l.ContentType.change_cipher_spec)){if(t.type===l.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=l.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>l.MaxFragment;)n.push(l.createRecord(e,{type:t.type,data:a.util.createBuffer(i.slice(0,l.MaxFragment))})),i=i.slice(l.MaxFragment);i.length>0&&n.push(l.createRecord(e,{type:t.type,data:a.util.createBuffer(i)}))}for(var s=0;s<n.length&&!e.fail;++s){var o=n[s],c=e.state.current.write;c.update(e,o)&&e.records.push(o)}}},l.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var G=function(e){switch(e){case!0:return!0;case a.pki.certificateError.bad_certificate:return l.Alert.Description.bad_certificate;case a.pki.certificateError.unsupported_certificate:return l.Alert.Description.unsupported_certificate;case a.pki.certificateError.certificate_revoked:return l.Alert.Description.certificate_revoked;case a.pki.certificateError.certificate_expired:return l.Alert.Description.certificate_expired;case a.pki.certificateError.certificate_unknown:return l.Alert.Description.certificate_unknown;case a.pki.certificateError.unknown_ca:return l.Alert.Description.unknown_ca;default:return l.Alert.Description.bad_certificate}},Q=function(e){switch(e){case!0:return!0;case l.Alert.Description.bad_certificate:return a.pki.certificateError.bad_certificate;case l.Alert.Description.unsupported_certificate:return a.pki.certificateError.unsupported_certificate;case l.Alert.Description.certificate_revoked:return a.pki.certificateError.certificate_revoked;case l.Alert.Description.certificate_expired:return a.pki.certificateError.certificate_expired;case l.Alert.Description.certificate_unknown:return a.pki.certificateError.certificate_unknown;case l.Alert.Description.unknown_ca:return a.pki.certificateError.unknown_ca;default:return a.pki.certificateError.bad_certificate}};l.verifyCertificateChain=function(e,t){try{a.pki.verifyCertificateChain(e.caStore,t,function(t,r,n){var i=(G(t),e.verify(e,t,r,n));if(i!==!0){if("object"==typeof i&&!a.util.isArray(i)){var s=new Error("The application rejected the certificate.");throw s.send=!0,s.alert={level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate},i.message&&(s.message=i.message),i.alert&&(s.alert.description=i.alert),s}i!==t&&(i=Q(i))}return i})}catch(t){var r=t;("object"!=typeof r||a.util.isArray(r))&&(r={send:!0,alert:{level:l.Alert.Level.fatal,description:G(t)}}),"send"in r||(r.send=!0),"alert"in r||(r.alert={level:l.Alert.Level.fatal,description:G(r.error)}),e.error(e,r)}return!e.fail},l.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(e){var t=null,n=null;if(e?n=a.util.bytesToHex(e):r.order.length>0&&(n=r.order[0]),null!==n&&n in r.cache){t=r.cache[n],delete r.cache[n];for(var i in r.order)if(r.order[i]===n){r.order.splice(i,1);break}}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var n=r.order.shift();delete r.cache[n]}var n=a.util.bytesToHex(e);r.order.push(n),r.cache[n]=t}}return r},l.createConnection=function(e){var t=null;t=e.caStore?a.util.isArray(e.caStore)?a.pki.createCaStore(e.caStore):e.caStore:a.pki.createCaStore();var r=e.cipherSuites||null;if(null===r){r=[];for(var n in l.CipherSuites)r.push(l.CipherSuites[n])}var i=e.server?l.ConnectionEnd.server:l.ConnectionEnd.client,s=e.sessionCache?l.createSessionCache(e.sessionCache):null,o={version:{major:l.Version.major,minor:l.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,a){return t},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:a.util.createBuffer(),tlsData:a.util.createBuffer(),data:a.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===l.ConnectionEnd.client?"client":"server"),r.send&&(l.queue(t,l.createAlert(t,r.alert)),l.flush(t));var a=r.fatal!==!1;a&&(t.fail=!0),e.error(t,r),a&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};o.reset=function(e){o.version={major:l.Version.major,minor:l.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=o.entity===l.ConnectionEnd.client?p:E,o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(e||"undefined"==typeof e),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=l.createConnectionState(o)},o.reset();var c=function(e,t){var r=t.type-l.ContentType.change_cipher_spec,a=U[e.entity][e.expect];r in a?a[r](e,t):l.handleUnexpected(e,t)},u=function(e){var t=0,r=e.input,n=r.length();if(n<5)t=5-n;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:a.util.createBuffer(),ready:!1};var i=e.record.version.major===e.version.major;i&&e.session&&e.session.version&&(i=e.record.version.minor===e.version.minor),i||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}})}return t},h=function(e){var t=0,r=e.input,a=r.length();if(a<e.record.length)t=e.record.length-a;else{e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact();var n=e.state.current.read;n.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})),e.record.ready=!0)}return t};return o.handshake=function(e){if(o.entity!==l.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&0===o.handshakes&&(o.fail=!1),o.handshaking=!0,e=e||"";var t=null;e.length>0&&(o.sessionCache&&(t=o.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&o.sessionCache&&(t=o.sessionCache.getSession(),null!==t&&(e=t.id)),o.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:a.md.md5.create(),sha1:a.md.sha1.create()},t&&(o.version=t.version,o.session.sp=t.sp),o.session.sp.client_random=l.createRandom().getBytes(),o.open=!0,l.queue(o,l.createRecord(o,{type:l.ContentType.handshake,data:l.createClientHello(o)})),l.flush(o)}},o.process=function(e){var t=0;return e&&o.input.putBytes(e),o.fail||(null!==o.record&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),null===o.record&&(t=u(o)),o.fail||null===o.record||o.record.ready||(t=h(o)),!o.fail&&null!==o.record&&o.record.ready&&c(o,o.record)),t},o.prepare=function(e){return l.queue(o,l.createRecord(o,{type:l.ContentType.application_data,data:a.util.createBuffer(e)})),l.flush(o)},o.prepareHeartbeatRequest=function(e,t){return e instanceof a.util.ByteBuffer&&(e=e.bytes()),"undefined"==typeof t&&(t=e.length),o.expectedHeartbeatPayload=e,l.queue(o,l.createRecord(o,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_request,e,t)})),l.flush(o)},o.close=function(e){if(!o.fail&&o.sessionCache&&o.session){var t={id:o.session.id,version:o.session.version,sp:o.session.sp};t.sp.keys=null,o.sessionCache.setSession(t.id,t)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,l.queue(o,l.createAlert(o,{level:l.Alert.Level.warning,description:l.Alert.Description.close_notify})),l.flush(o)),o.closed(o)),o.reset(e)},o},e.exports=a.tls=a.tls||{};for(var z in l)"function"!=typeof l[z]&&(a.tls[z]=l[z]);a.tls.prf_tls1=n,a.tls.hmac_sha1=i,a.tls.createSessionCache=l.createSessionCache,a.tls.createConnection=l.createConnection},function(e,t){},function(e,t,r){e.exports=r(0),r(5),r(34),r(3),r(12),r(19),r(10),r(8),r(35),r(20),r(36),r(21),r(15),r(7),r(23),r(24),r(38),r(26),r(27),r(28),r(16),r(2),r(29),r(40),r(41),r(31),r(1)},function(e,t,r){function a(e,t,r){var a=t.entity===u.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:u.cipher.createDecipher("AES-CBC",a?r.keys.server_write_key:r.keys.client_write_key),iv:a?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:u.cipher.createCipher("AES-CBC",a?r.keys.client_write_key:r.keys.server_write_key),iv:a?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=o,e.write.cipherFunction=n,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=l.hmac_sha1}function n(e,t){var r=!1,a=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(a),t.updateSequenceNumber();var n;n=e.version.minor===l.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:u.random.getBytesSync(16),t.cipherState.init=!0;var s=t.cipherState.cipher;return s.start({iv:n}),e.version.minor>=l.Versions.TLS_1_1.minor&&s.output.putBytes(n),s.update(e.fragment),s.finish(i)&&(e.fragment=s.output,e.length=e.fragment.length(),r=!0),r}function i(e,t,r){if(!r){var a=e-t.length()%e;t.fillWithByte(a-1,a)}return!0}function s(e,t,r){var a=!0;if(r){for(var n=t.length(),i=t.last(),s=n-1-i;s<n-1;++s)a=a&&t.at(s)==i;a&&t.truncate(i+1)}return a}function o(e,t){var r=!1;++p;var a;a=e.version.minor===l.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var n=t.cipherState.cipher;n.start({iv:a}),n.update(e.fragment),r=n.finish(s);var i=t.macLength,o=u.random.getBytesSync(i),h=n.output.length();h>=i?(e.fragment=n.output.getBytes(h-i),o=n.output.getBytes(i)):e.fragment=n.output.getBytes(),e.fragment=u.util.createBuffer(e.fragment),e.length=e.fragment.length();var f=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=c(t.macKey,o,f)&&r}function c(e,t,r){var a=u.hmac.create();return a.start("SHA1",e),a.update(t),t=a.digest().getBytes(),a.start(null,null),a.update(r),r=a.digest().getBytes(),t===r}var u=r(0);r(5),r(31);var l=e.exports=u.tls;l.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=l.BulkCipherAlgorithm.aes,e.cipher_type=l.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=l.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:a},l.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=l.BulkCipherAlgorithm.aes,e.cipher_type=l.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=l.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:a};var p=0},function(e,t,r){function a(e,t,r,a){e.generate=function(e,i){for(var s=new n.util.ByteBuffer,o=Math.ceil(i/a)+r,c=new n.util.ByteBuffer,u=r;u<o;++u){c.putInt32(u),t.start(),t.update(e+c.getBytes());var l=t.digest();s.putBytes(l.getBytes(a))}return s.truncate(s.length()-i),s.getBytes()}}var n=r(0);r(1),r(2),r(13),e.exports=n.kem=n.kem||{};var i=n.jsbn.BigInteger;n.kem.rsa={},n.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||n.random,a={};return a.encrypt=function(t,a){var s,o=Math.ceil(t.n.bitLength()/8);do s=new i(n.util.bytesToHex(r.getBytesSync(o)),16).mod(t.n);while(s.equals(i.ZERO));s=n.util.hexToBytes(s.toString(16));var c=o-s.length;c>0&&(s=n.util.fillString(String.fromCharCode(0),c)+s);var u=t.encrypt(s,"NONE"),l=e.generate(s,a);return{encapsulation:u,key:l}},a.decrypt=function(t,r,a){var n=t.decrypt(r,"NONE");return e.generate(n,a)},a},n.kem.kdf1=function(e,t){a(this,e,0,t||e.digestLength)},n.kem.kdf2=function(e,t){a(this,e,1,t||e.digestLength)}},function(e,t,r){e.exports=r(4),r(14),r(9),r(30),r(39)},function(e,t,r){var a=r(0);r(21),e.exports=a.mgf=a.mgf||{},a.mgf.mgf1=a.mgf1},function(e,t,r){function a(e){var t={},r=[];if(!d.validate(e,y.asn1.recipientInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=r,a}return{version:t.version.charCodeAt(0),issuer:f.pki.RDNAttributesAsArray(t.issuer),serialNumber:f.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:d.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function n(e){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(e.version).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[f.pki.distinguishedNameToAsn1({attributes:e.issuer}),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,f.util.hexToBytes(e.serialNumber))]),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.encryptedContent.algorithm).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]),d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function i(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}function s(e){for(var t=[],r=0;r<e.length;++r)t.push(n(e[r]));return t}function o(e){var t=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(e.version).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[f.pki.distinguishedNameToAsn1({attributes:e.issuer}),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,f.util.hexToBytes(e.serialNumber))]),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.digestAlgorithm).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.signatureAlgorithm).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")])),t.value.push(d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=d.create(d.Class.CONTEXT_SPECIFIC,1,!0,[]),a=0;a<e.unauthenticatedAttributes.length;++a){var n=e.unauthenticatedAttributes[a];r.values.push(u(n))}t.value.push(r)}return t}function c(e){for(var t=[],r=0;r<e.length;++r)t.push(o(e[r]));return t}function u(e){var t;if(e.type===f.pki.oids.contentType)t=d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.value).getBytes());else if(e.type===f.pki.oids.messageDigest)t=d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===f.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),a=new Date("2050-01-01T00:00:00Z"),n=e.value;if("string"==typeof n){var i=Date.parse(n);n=isNaN(i)?13===n.length?d.utcTimeToDate(n):d.generalizedTimeToDate(n):new Date(i)}t=n>=r&&n<a?d.create(d.Class.UNIVERSAL,d.Type.UTCTIME,!1,d.dateToUtcTime(n)):d.create(d.Class.UNIVERSAL,d.Type.GENERALIZEDTIME,!1,d.dateToGeneralizedTime(n))}return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.type).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SET,!0,[t])])}function l(e){return[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(f.pki.oids.data).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.algorithm).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.parameter.getBytes())]),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e.content.getBytes())])]}function p(e,t,r){var a={},n=[];if(!d.validate(t,r,a,n)){var i=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw i.errors=i,i}var s=d.derToOid(a.contentType);if(s!==f.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(a.encryptedContent){var o="";if(f.util.isArray(a.encryptedContent))for(var c=0;c<a.encryptedContent.length;++c){if(a.encryptedContent[c].type!==d.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=a.encryptedContent[c].value}else o=a.encryptedContent;e.encryptedContent={algorithm:d.derToOid(a.encAlgorithm),parameter:f.util.createBuffer(a.encParameter.value),content:f.util.createBuffer(o)}}if(a.content){var o="";if(f.util.isArray(a.content))for(var c=0;c<a.content.length;++c){if(a.content[c].type!==d.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=a.content[c].value}else o=a.content;e.content=f.util.createBuffer(o)}return e.version=a.version.charCodeAt(0),e.rawCapture=a,a}function h(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case f.pki.oids["aes128-CBC"]:case f.pki.oids["aes192-CBC"]:case f.pki.oids["aes256-CBC"]:t=f.aes.createDecryptionCipher(e.encryptedContent.key);break;case f.pki.oids.desCBC:case f.pki.oids["des-EDE3-CBC"]:t=f.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}var f=r(0);r(5),r(3),r(10),r(6),r(7),r(25),r(2),r(1),r(17);var d=f.asn1,y=e.exports=f.pkcs7=f.pkcs7||{};y.messageFromPem=function(e){var t=f.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=d.fromDer(t.body);return y.messageFromAsn1(a)},y.messageToPem=function(e,t){var r={type:"PKCS7",body:d.toDer(e.toAsn1()).getBytes()};return f.pem.encode(r,{maxline:t})},y.messageFromAsn1=function(e){var t={},r=[];if(!d.validate(e,y.asn1.contentInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=r,a}var n,i=d.derToOid(t.contentType);switch(i){case f.pki.oids.envelopedData:n=y.createEnvelopedData();break;case f.pki.oids.encryptedData:n=y.createEncryptedData();break;case f.pki.oids.signedData:n=y.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return n.fromAsn1(t.content.value[0]),n},y.createSignedData=function(){function e(){for(var e={},t=0;t<r.signers.length;++t){var a=r.signers[t],n=a.digestAlgorithm;n in e||(e[n]=f.md[f.pki.oids[n]].create()),0===a.authenticatedAttributes.length?a.md=e[n]:a.md=f.md[f.pki.oids[n]].create()}r.digestAlgorithmIdentifiers=[];for(var n in e)r.digestAlgorithmIdentifiers.push(d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(n).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]));return e}function t(e){if(r.contentInfo.value.length<2)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var t=d.derToOid(r.contentInfo.value[0].value),a=r.contentInfo.value[1];a=a.value[0];var n=d.toDer(a);n.getByte(),d.getBerValueLength(n),n=n.getBytes();for(var i in e)e[i].start().update(n);for(var s=new Date,o=0;o<r.signers.length;++o){var l=r.signers[o];if(0===l.authenticatedAttributes.length){if(t!==f.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{l.authenticatedAttributesAsn1=d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=d.create(d.Class.UNIVERSAL,d.Type.SET,!0,[]),h=0;h<l.authenticatedAttributes.length;++h){var y=l.authenticatedAttributes[h];y.type===f.pki.oids.messageDigest?y.value=e[l.digestAlgorithm].digest():y.type===f.pki.oids.signingTime&&(y.value||(y.value=s)),p.value.push(u(y)),l.authenticatedAttributesAsn1.value.push(u(y))}n=d.toDer(p).getBytes(),l.md.start().update(n)}l.signature=l.key.sign(l.md,"RSASSA-PKCS1-V1_5")}r.signerInfos=c(r.signers)}var r=null;return r={type:f.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(e){p(r,e,y.asn1.signedDataValidator),r.certificates=[],r.crls=[],r.digestAlgorithmIdentifiers=[],r.contentInfo=null,r.signerInfos=[];for(var t=r.rawCapture.certificates.value,a=0;a<t.length;++a)r.certificates.push(f.pki.certificateFromAsn1(t[a]))},toAsn1:function(){r.contentInfo||r.sign();for(var e=[],t=0;t<r.certificates.length;++t)e.push(f.pki.certificateToAsn1(r.certificates[t]));var a=[],n=d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(r.version).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SET,!0,r.digestAlgorithmIdentifiers),r.contentInfo])]);return e.length>0&&n.value[0].value.push(d.create(d.Class.CONTEXT_SPECIFIC,0,!0,e)),a.length>0&&n.value[0].value.push(d.create(d.Class.CONTEXT_SPECIFIC,1,!0,a)),n.value[0].value.push(d.create(d.Class.UNIVERSAL,d.Type.SET,!0,r.signerInfos)),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(r.type).getBytes()),n])},addSigner:function(e){var t=e.issuer,a=e.serialNumber;if(e.certificate){var n=e.certificate;"string"==typeof n&&(n=f.pki.certificateFromPem(n)),t=n.issuer.attributes,a=n.serialNumber}var i=e.key;if(!i)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof i&&(i=f.pki.privateKeyFromPem(i));var s=e.digestAlgorithm||f.pki.oids.sha1;switch(s){case f.pki.oids.sha1:case f.pki.oids.sha256:case f.pki.oids.sha384:case f.pki.oids.sha512:case f.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var o=e.authenticatedAttributes||[];if(o.length>0){for(var c=!1,u=!1,l=0;l<o.length;++l){var p=o[l];if(c||p.type!==f.pki.oids.contentType){if(u||p.type!==f.pki.oids.messageDigest);else if(u=!0,c)break}else if(c=!0,u)break}if(!c||!u)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}r.signers.push({key:i,version:1,issuer:t,serialNumber:a,digestAlgorithm:s,signatureAlgorithm:f.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:o,unauthenticatedAttributes:[]})},sign:function(){if(("object"!=typeof r.content||null===r.contentInfo)&&(r.contentInfo=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(f.pki.oids.data).getBytes())]),"content"in r)){var a;r.content instanceof f.util.ByteBuffer?a=r.content.bytes():"string"==typeof r.content&&(a=f.util.encodeUtf8(r.content)),r.contentInfo.value.push(d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,a)]))}if(0!==r.signers.length){var n=e();t(n)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(e){"string"==typeof e&&(e=f.pki.certificateFromPem(e)),r.certificates.push(e)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},y.createEncryptedData=function(){var e=null;return e={type:f.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:f.pki.oids["aes256-CBC"]},fromAsn1:function(t){p(e,t,y.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),h(e)}}},y.createEnvelopedData=function(){var e=null;return e={type:f.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:f.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=p(e,t,y.asn1.envelopedDataValidator);e.recipients=i(r.recipientInfos.value)},toAsn1:function(){return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(e.type).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(e.version).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SET,!0,s(e.recipients)),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,l(e.encryptedContent))])])]);
},findRecipient:function(t){for(var r=t.issuer.attributes,a=0;a<e.recipients.length;++a){var n=e.recipients[a],i=n.issuer;if(n.serialNumber===t.serialNumber&&i.length===r.length){for(var s=!0,o=0;o<r.length;++o)if(i[o].type!==r[o].type||i[o].value!==r[o].value){s=!1;break}if(s)return n}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case f.pki.oids.rsaEncryption:case f.pki.oids.desCBC:var a=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=f.util.createBuffer(a);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}h(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:f.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var a,n,i;switch(r){case f.pki.oids["aes128-CBC"]:a=16,n=16,i=f.aes.createEncryptionCipher;break;case f.pki.oids["aes192-CBC"]:a=24,n=16,i=f.aes.createEncryptionCipher;break;case f.pki.oids["aes256-CBC"]:a=32,n=16,i=f.aes.createEncryptionCipher;break;case f.pki.oids["des-EDE3-CBC"]:a=24,n=8,i=f.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=f.util.createBuffer(f.random.getBytes(a));else if(t.length()!=a)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+a+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=f.util.createBuffer(f.random.getBytes(n));var s=i(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var o=0;o<e.recipients.length;++o){var c=e.recipients[o];if(void 0===c.encryptedContent.content)switch(c.encryptedContent.algorithm){case f.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}}}},function(e,t,r){function a(){c=String.fromCharCode(128),c+=i.util.fillString(String.fromCharCode(0),128),l=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],p={},p["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],p["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],p["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],p["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],u=!0}function n(e,t,r){for(var a,n,i,s,o,c,u,p,h,f,d,y,g,v,m,C,E,S,T,I,A,b,B,N,k,R,w,L,_,U,D,P,V,O,x,K=r.length();K>=128;){for(_=0;_<16;++_)t[_][0]=r.getInt32()>>>0,t[_][1]=r.getInt32()>>>0;for(;_<80;++_)P=t[_-2],U=P[0],D=P[1],a=((U>>>19|D<<13)^(D>>>29|U<<3)^U>>>6)>>>0,n=((U<<13|D>>>19)^(D<<3|U>>>29)^(U<<26|D>>>6))>>>0,O=t[_-15],U=O[0],D=O[1],i=((U>>>1|D<<31)^(U>>>8|D<<24)^U>>>7)>>>0,s=((U<<31|D>>>1)^(U<<24|D>>>8)^(U<<25|D>>>7))>>>0,V=t[_-7],x=t[_-16],D=n+V[1]+s+x[1],t[_][0]=a+V[0]+i+x[0]+(D/4294967296>>>0)>>>0,t[_][1]=D>>>0;for(g=e[0][0],v=e[0][1],m=e[1][0],C=e[1][1],E=e[2][0],S=e[2][1],T=e[3][0],I=e[3][1],A=e[4][0],b=e[4][1],B=e[5][0],N=e[5][1],k=e[6][0],R=e[6][1],w=e[7][0],L=e[7][1],_=0;_<80;++_)u=((A>>>14|b<<18)^(A>>>18|b<<14)^(b>>>9|A<<23))>>>0,p=((A<<18|b>>>14)^(A<<14|b>>>18)^(b<<23|A>>>9))>>>0,h=(k^A&(B^k))>>>0,f=(R^b&(N^R))>>>0,o=((g>>>28|v<<4)^(v>>>2|g<<30)^(v>>>7|g<<25))>>>0,c=((g<<4|v>>>28)^(v<<30|g>>>2)^(v<<25|g>>>7))>>>0,d=(g&m|E&(g^m))>>>0,y=(v&C|S&(v^C))>>>0,D=L+p+f+l[_][1]+t[_][1],a=w+u+h+l[_][0]+t[_][0]+(D/4294967296>>>0)>>>0,n=D>>>0,D=c+y,i=o+d+(D/4294967296>>>0)>>>0,s=D>>>0,w=k,L=R,k=B,R=N,B=A,N=b,D=I+n,A=T+a+(D/4294967296>>>0)>>>0,b=D>>>0,T=E,I=S,E=m,S=C,m=g,C=v,D=n+s,g=a+i+(D/4294967296>>>0)>>>0,v=D>>>0;D=e[0][1]+v,e[0][0]=e[0][0]+g+(D/4294967296>>>0)>>>0,e[0][1]=D>>>0,D=e[1][1]+C,e[1][0]=e[1][0]+m+(D/4294967296>>>0)>>>0,e[1][1]=D>>>0,D=e[2][1]+S,e[2][0]=e[2][0]+E+(D/4294967296>>>0)>>>0,e[2][1]=D>>>0,D=e[3][1]+I,e[3][0]=e[3][0]+T+(D/4294967296>>>0)>>>0,e[3][1]=D>>>0,D=e[4][1]+b,e[4][0]=e[4][0]+A+(D/4294967296>>>0)>>>0,e[4][1]=D>>>0,D=e[5][1]+N,e[5][0]=e[5][0]+B+(D/4294967296>>>0)>>>0,e[5][1]=D>>>0,D=e[6][1]+R,e[6][0]=e[6][0]+k+(D/4294967296>>>0)>>>0,e[6][1]=D>>>0,D=e[7][1]+L,e[7][0]=e[7][0]+w+(D/4294967296>>>0)>>>0,e[7][1]=D>>>0,K-=128}}var i=r(0);r(4),r(1);var s=e.exports=i.sha512=i.sha512||{};i.md.sha512=i.md.algorithms.sha512=s;var o=i.sha384=i.sha512.sha384=i.sha512.sha384||{};o.create=function(){return s.create("SHA-384")},i.md.sha384=i.md.algorithms.sha384=o,i.sha512.sha256=i.sha512.sha256||{create:function(){return s.create("SHA-512/256")}},i.md["sha512/256"]=i.md.algorithms["sha512/256"]=i.sha512.sha256,i.sha512.sha224=i.sha512.sha224||{create:function(){return s.create("SHA-512/224")}},i.md["sha512/224"]=i.md.algorithms["sha512/224"]=i.sha512.sha224,s.create=function(e){if(u||a(),"undefined"==typeof e&&(e="SHA-512"),!(e in p))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=p[e],r=null,s=i.util.createBuffer(),o=new Array(80),l=0;l<80;++l)o[l]=new Array(2);var h={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:64,messageLength:0,fullMessageLength:null,messageLengthSize:16};return h.start=function(){h.messageLength=0,h.fullMessageLength=h.messageLength128=[];for(var e=h.messageLengthSize/4,a=0;a<e;++a)h.fullMessageLength.push(0);s=i.util.createBuffer(),r=new Array(t.length);for(var a=0;a<t.length;++a)r[a]=t[a].slice(0);return h},h.start(),h.update=function(e,t){"utf8"===t&&(e=i.util.encodeUtf8(e));var a=e.length;h.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=h.fullMessageLength.length-1;c>=0;--c)h.fullMessageLength[c]+=a[1],a[1]=a[0]+(h.fullMessageLength[c]/4294967296>>>0),h.fullMessageLength[c]=h.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return s.putBytes(e),n(r,o,s),(s.read>2048||0===s.length())&&s.compact(),h},h.digest=function(){var t=i.util.createBuffer();t.putBytes(s.bytes());var a=h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize,u=a&h.blockLength-1;t.putBytes(c.substr(0,h.blockLength-u));for(var l,p,f=8*h.fullMessageLength[0],d=0;d<h.fullMessageLength.length-1;++d)l=8*h.fullMessageLength[d+1],p=l/4294967296>>>0,f+=p,t.putInt32(f>>>0),f=l>>>0;t.putInt32(f);for(var y=new Array(r.length),d=0;d<r.length;++d)y[d]=r[d].slice(0);n(y,o,t);var g,v=i.util.createBuffer();g="SHA-512"===e?y.length:"SHA-384"===e?y.length-2:y.length-4;for(var d=0;d<g;++d)v.putInt32(y[d][0]),d===g-1&&"SHA-512/224"===e||v.putInt32(y[d][1]);return v},h};var c=null,u=!1,l=null,p=null},function(e,t,r){function a(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var a=s.util.hexToBytes(r);e.putInt32(a.length),e.putBytes(a)}function n(e,t){e.putInt32(t.length),e.putString(t)}function i(){for(var e=s.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}var s=r(0);r(5),r(8),r(14),r(9),r(1);var o=e.exports=s.ssh=s.ssh||{};o.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var o="ssh-rsa",c=""===t?"none":"aes256-cbc",u="PuTTY-User-Key-File-2: "+o+"\r\n";u+="Encryption: "+c+"\r\n",u+="Comment: "+r+"\r\n";var l=s.util.createBuffer();n(l,o),a(l,e.e),a(l,e.n);var p=s.util.encode64(l.bytes(),64),h=Math.floor(p.length/66)+1;u+="Public-Lines: "+h+"\r\n",u+=p;var f=s.util.createBuffer();a(f,e.d),a(f,e.p),a(f,e.q),a(f,e.qInv);var d;if(t){var y=f.length()+16-1;y-=y%16;var g=i(f.bytes());g.truncate(g.length()-y+f.length()),f.putBuffer(g);var v=s.util.createBuffer();v.putBuffer(i("\0\0\0\0",t)),v.putBuffer(i("\0\0\0",t));var m=s.aes.createEncryptionCipher(v.truncate(8),"CBC");m.start(s.util.createBuffer().fillWithByte(0,16)),m.update(f.copy()),m.finish();var C=m.output;C.truncate(16),d=s.util.encode64(C.bytes(),64)}else d=s.util.encode64(f.bytes(),64);h=Math.floor(d.length/66)+1,u+="\r\nPrivate-Lines: "+h+"\r\n",u+=d;var E=i("putty-private-key-file-mac-key",t),S=s.util.createBuffer();n(S,o),n(S,c),n(S,r),S.putInt32(l.length()),S.putBuffer(l),S.putInt32(f.length()),S.putBuffer(f);var T=s.hmac.create();return T.start("sha1",E),T.update(S.bytes()),u+="\r\nPrivate-MAC: "+T.digest().toHex()+"\r\n"},o.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var i=s.util.createBuffer();return n(i,r),a(i,e.e),a(i,e.n),r+" "+s.util.encode64(i.bytes())+" "+t},o.privateKeyToOpenSSH=function(e,t){return t?s.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):s.pki.privateKeyToPem(e)},o.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||s.md.md5.create(),i="ssh-rsa",o=s.util.createBuffer();n(o,i),a(o,e.e),a(o,e.n),r.start(),r.update(o.getBytes());var c=r.digest();if("hex"===t.encoding){var u=c.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return c.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return c}},function(e,t,r){var a=r(0);r(19),r(20),r(1);var n="forge.task",i=0,s={},o=0;a.debug.set(n,"tasks",s);var c={};a.debug.set(n,"queues",c);var u="?",l=30,p=20,h="ready",f="running",d="blocked",y="sleeping",g="done",v="error",m="stop",C="start",E="block",S="unblock",T="sleep",I="wakeup",A="cancel",b="fail",B={};B[h]={},B[h][m]=h,B[h][C]=f,B[h][A]=g,B[h][b]=v,B[f]={},B[f][m]=h,B[f][C]=f,B[f][E]=d,B[f][S]=f,B[f][T]=y,B[f][I]=f,B[f][A]=g,B[f][b]=v,B[d]={},B[d][m]=d,B[d][C]=d,B[d][E]=d,B[d][S]=d,B[d][T]=d,B[d][I]=d,B[d][A]=g,B[d][b]=v,B[y]={},B[y][m]=y,B[y][C]=y,B[y][E]=y,B[y][S]=y,B[y][T]=y,B[y][I]=y,B[y][A]=g,B[y][b]=v,B[g]={},B[g][m]=g,B[g][C]=g,B[g][E]=g,B[g][S]=g,B[g][T]=g,B[g][I]=g,B[g][A]=g,B[g][b]=v,B[v]={},B[v][m]=v,B[v][C]=v,B[v][E]=v,B[v][S]=v,B[v][T]=v,B[v][I]=v,B[v][A]=v,B[v][b]=v;var N=function(e){this.id=-1,this.name=e.name||u,this.parent=e.parent||null,this.run=e.run,this.subtasks=[],this.error=!1,this.state=h,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=o++,s[this.id]=this,i>=1&&a.log.verbose(n,"[%s][%s] init",this.id,this.name,this)};N.prototype.debug=function(e){e=e||"",a.log.debug(n,e,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",c)},N.prototype.next=function(e,t){"function"==typeof e&&(t=e,e=this.name);var r=new N({run:t,name:e,parent:this});return r.state=f,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},N.prototype.parallel=function(e,t){return a.util.isArray(e)&&(t=e,e=this.name),this.next(e,function(r){var n=r;n.block(t.length);for(var i=function(e,r){a.task.start({type:e,run:function(e){t[r](e)},success:function(e){n.unblock()},failure:function(e){n.unblock()}})},s=0;s<t.length;s++){var o=e+"__parallel-"+r.id+"-"+s,c=s;i(o,c)}})},N.prototype.stop=function(){this.state=B[this.state][m]},N.prototype.start=function(){this.error=!1,this.state=B[this.state][C],this.state===f&&(this.start=new Date,this.run(this),R(this,0))},N.prototype.block=function(e){e="undefined"==typeof e?1:e,this.blocks+=e,this.blocks>0&&(this.state=B[this.state][E])},N.prototype.unblock=function(e){return e="undefined"==typeof e?1:e,this.blocks-=e,0===this.blocks&&this.state!==g&&(this.state=f,R(this,0)),this.blocks},N.prototype.sleep=function(e){e="undefined"==typeof e?0:e,this.state=B[this.state][T];var t=this;this.timeoutId=setTimeout(function(){t.timeoutId=null,t.state=f,R(t,0)},e)},N.prototype.wait=function(e){e.wait(this)},N.prototype.wakeup=function(){this.state===y&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=f,R(this,0))},N.prototype.cancel=function(){this.state=B[this.state][A],this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},N.prototype.fail=function(e){if(this.error=!0,w(this,!0),e)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,R(e,0);else{if(null!==this.parent){for(var t=this.parent;null!==t.parent;)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,t=t.parent;w(t,!0)}this.failureCallback&&this.failureCallback(this)}};var k=function(e){e.error=!1,e.state=B[e.state][C],setTimeout(function(){e.state===f&&(e.swapTime=+new Date,e.run(e),R(e,0))},0)},R=function(e,t){var r=t>l||+new Date-e.swapTime>p,a=function(t){if(t++,e.state===f)if(r&&(e.swapTime=+new Date),e.subtasks.length>0){var a=e.subtasks.shift();a.error=e.error,a.swapTime=e.swapTime,a.userData=e.userData,a.run(a),a.error||R(a,t)}else w(e),e.error||null!==e.parent&&(e.parent.error=e.error,e.parent.swapTime=e.swapTime,e.parent.userData=e.userData,R(e.parent,t))};r?setTimeout(a,0):a(t)},w=function(e,t){e.state=g,delete s[e.id],i>=1&&a.log.verbose(n,"[%s][%s] finish",e.id,e.name,e),null===e.parent&&(e.type in c?0===c[e.type].length?a.log.error(n,"[%s][%s] task queue empty [%s]",e.id,e.name,e.type):c[e.type][0]!==e?a.log.error(n,"[%s][%s] task not first in queue [%s]",e.id,e.name,e.type):(c[e.type].shift(),0===c[e.type].length?(i>=1&&a.log.verbose(n,"[%s][%s] delete queue [%s]",e.id,e.name,e.type),delete c[e.type]):(i>=1&&a.log.verbose(n,"[%s][%s] queue start next [%s] remain:%s",e.id,e.name,e.type,c[e.type].length),c[e.type][0].start())):a.log.error(n,"[%s][%s] task queue missing [%s]",e.id,e.name,e.type),t||(e.error&&e.failureCallback?e.failureCallback(e):!e.error&&e.successCallback&&e.successCallback(e)))};e.exports=a.task=a.task||{},a.task.start=function(e){var t=new N({run:e.run,name:e.name||u});t.type=e.type,t.successCallback=e.success||null,t.failureCallback=e.failure||null,t.type in c?c[e.type].push(t):(i>=1&&a.log.verbose(n,"[%s][%s] create queue [%s]",t.id,t.name,t.type),c[t.type]=[t],k(t))},a.task.cancel=function(e){e in c&&(c[e]=[c[e][0]])},a.task.createCondition=function(){var e={tasks:{}};return e.wait=function(t){t.id in e.tasks||(t.block(),e.tasks[t.id]=t)},e.notify=function(){var t=e.tasks;e.tasks={};for(var r in t)t[r].unblock()},e}},function(e,t,r){e.exports=r(33)}])});
//# sourceMappingURL=forge.min.js.map
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(4).setImmediate, __webpack_require__(7).Buffer))

/***/ }),
/* 2 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

const forge = __webpack_require__(1);
const ApnsCertificate = __webpack_require__(11).ApnsCertificate;

function stripBase64Mime (base64) {
  return base64.substr(base64.indexOf(',') + 1, base64.length)
}

window.fileChangeEvent = function (files) {
  let reader = new FileReader()
  reader.onload = () => {
    try {
      const settings = new ApnsCertificate(
        stripBase64Mime(reader.result),
        prompt('Does the certificate require a password?')
      )

      Object.keys(settings).forEach(key => {
        const elm = document.getElementById(key);
        if (elm) {
          elm.value = JSON.stringify(settings[key]);
        }
      })

    } catch (err) {
      alert(err.message)
    }
  }

  reader.readAsDataURL(files[0])
}

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(window, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(5);
var global = __webpack_require__(6);
exports.setImmediate = global.setImmediate;
exports.clearImmediate = global.clearImmediate;


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 68
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(2)))

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var win;

if (typeof window !== "undefined") {
    win = window;
} else if (typeof global !== "undefined") {
    win = global;
} else if (typeof self !== "undefined"){
    win = self;
} else {
    win = {};
}

module.exports = win;

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(8)
var ieee754 = __webpack_require__(9)
var isArray = __webpack_require__(10)

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function placeHoldersCount (b64) {
  var len = b64.length
  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // the number of equal signs (place holders)
  // if there are two placeholders, than the two characters before it
  // represent one byte
  // if there is only one, then the three characters before it represent 2 bytes
  // this is just a cheap hack to not do indexOf twice
  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0
}

function byteLength (b64) {
  // base64 is 4/3 + up to two characters of the original data
  return (b64.length * 3 / 4) - placeHoldersCount(b64)
}

function toByteArray (b64) {
  var i, l, tmp, placeHolders, arr
  var len = b64.length
  placeHolders = placeHoldersCount(b64)

  arr = new Arr((len * 3 / 4) - placeHolders)

  // if there are placeholders, only get up to the last complete 4 chars
  l = placeHolders > 0 ? len - 4 : len

  var L = 0

  for (i = 0; i < l; i += 4) {
    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]
    arr[L++] = (tmp >> 16) & 0xFF
    arr[L++] = (tmp >> 8) & 0xFF
    arr[L++] = tmp & 0xFF
  }

  if (placeHolders === 2) {
    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[L++] = tmp & 0xFF
  } else if (placeHolders === 1) {
    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[L++] = (tmp >> 8) & 0xFF
    arr[L++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var output = ''
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    output += lookup[tmp >> 2]
    output += lookup[(tmp << 4) & 0x3F]
    output += '=='
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])
    output += lookup[tmp >> 10]
    output += lookup[(tmp >> 4) & 0x3F]
    output += lookup[(tmp << 2) & 0x3F]
    output += '='
  }

  parts.push(output)

  return parts.join('')
}


/***/ }),
/* 9 */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),
/* 10 */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const apns_certificate_1 = __webpack_require__(12);
exports.ApnsCertificate = apns_certificate_1.ApnsCertificate;
//# sourceMappingURL=index.js.map

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const forge = __webpack_require__(1);
const apns_oids_1 = __webpack_require__(13);
const errors_1 = __webpack_require__(14);
class ApnsCertificate {
    constructor(bytes, passphrase) {
        const p12 = this.decryptPkcs12(bytes, passphrase);
        this.passphrase = passphrase;
        const privateKey = this.getPrivateKey(p12);
        this.key = privateKey.key;
        const certificate = this.getCertificate(p12);
        this.cert = certificate.cert;
        this.topic = certificate.topic;
        this.environment = certificate.environment;
        this.expires = certificate.expires;
    }
    decryptPkcs12(bytes, passphrase) {
        try {
            const p12Asn1 = forge.asn1.fromDer(forge.util.decode64(bytes), false);
            let p12;
            try {
                p12 = forge.pkcs12.pkcs12FromAsn1(p12Asn1, false, passphrase);
            }
            catch (err) {
                if (passphrase != null) {
                    throw err;
                }
                p12 = forge.pkcs12.pkcs12FromAsn1(p12Asn1, false, '');
            }
            return p12;
        }
        catch (ex) {
            const err = ex;
            if (err.message.match('Invalid password') !== null) {
                throw new errors_1.InvalidPassphraseError();
            }
            else {
                throw new errors_1.InvalidFileError();
            }
        }
    }
    getPrivateKey(p12) {
        const keyBags = p12.getBags({ bagType: forge.pki.oids.pkcs8ShroudedKeyBag });
        const pkcs8ShroudedKeyBag = keyBags[forge.pki.oids.pkcs8ShroudedKeyBag];
        if (pkcs8ShroudedKeyBag === undefined ||
            pkcs8ShroudedKeyBag[0] === undefined) {
            throw new errors_1.InvalidPrivateKeyError();
        }
        const keyBag = pkcs8ShroudedKeyBag[0];
        if (keyBag === null ||
            keyBag.key === null ||
            keyBag.key.n === null ||
            keyBag.key.e === null) {
            throw new errors_1.InvalidPrivateKeyError();
        }
        return {
            key: forge.pki.privateKeyToPem(keyBag.key)
        };
    }
    getCertEnvironment(cert) {
        const environment = { sandbox: false, production: false };
        if (cert.getExtension({ id: apns_oids_1.APNS_OIDS.development }) != null) {
            environment.sandbox = true;
        }
        if (cert.getExtension({ id: apns_oids_1.APNS_OIDS.production }) != null) {
            environment.production = true;
        }
        if (environment.sandbox === false &&
            environment.production === false) {
            throw new errors_1.InvalidCertificateEnvError();
        }
        return environment;
    }
    getCertificate(cert) {
        const bags = cert.getBags({ bagType: forge.pki.oids.certBag });
        const certBags = bags[forge.pki.oids.certBag];
        if (certBags === undefined ||
            certBags[0] === undefined) {
            throw new errors_1.InvalidCertificateError();
        }
        const certBag = certBags[0];
        if (certBag === null ||
            certBag.cert === undefined ||
            certBag.cert.publicKey === undefined ||
            certBag.cert.validity === undefined ||
            certBag.cert.subject === undefined) {
            throw new errors_1.InvalidCertificateError();
        }
        const topic = certBag.cert.subject.attributes[0].value;
        const expires = new Date(certBag.cert.validity.notAfter.getTime());
        return {
            cert: forge.pki.certificateToPem(certBag.cert),
            environment: this.getCertEnvironment(certBag.cert),
            topic,
            expires
        };
    }
}
exports.ApnsCertificate = ApnsCertificate;
//# sourceMappingURL=apns-certificate.js.map

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var APNS_OIDS;
(function (APNS_OIDS) {
    APNS_OIDS.development = '1.2.840.113635.100.6.3.1';
    APNS_OIDS.production = '1.2.840.113635.100.6.3.2';
})(APNS_OIDS = exports.APNS_OIDS || (exports.APNS_OIDS = {}));
//# sourceMappingURL=apns-oids.js.map

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const invalid_certificate_1 = __webpack_require__(15);
exports.InvalidCertificateError = invalid_certificate_1.InvalidCertificateError;
const invalid_certificate_env_1 = __webpack_require__(16);
exports.InvalidCertificateEnvError = invalid_certificate_env_1.InvalidCertificateEnvError;
const invalid_file_1 = __webpack_require__(17);
exports.InvalidFileError = invalid_file_1.InvalidFileError;
const invalid_passphrase_1 = __webpack_require__(18);
exports.InvalidPassphraseError = invalid_passphrase_1.InvalidPassphraseError;
const invalid_private_key_1 = __webpack_require__(19);
exports.InvalidPrivateKeyError = invalid_private_key_1.InvalidPrivateKeyError;
//# sourceMappingURL=index.js.map

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class InvalidCertificateError extends Error {
    constructor() {
        super('certificate is invalid');
        this.name = this.constructor.name;
    }
}
exports.InvalidCertificateError = InvalidCertificateError;
//# sourceMappingURL=invalid-certificate.js.map

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class InvalidCertificateEnvError extends Error {
    constructor() {
        super('certificate is neither production or development');
        this.name = this.constructor.name;
    }
}
exports.InvalidCertificateEnvError = InvalidCertificateEnvError;
//# sourceMappingURL=invalid-certificate-env.js.map

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class InvalidFileError extends Error {
    constructor() {
        super('unable to parse credentials, not a PFX/P12 file');
        this.name = this.constructor.name;
    }
}
exports.InvalidFileError = InvalidFileError;
//# sourceMappingURL=invalid-file.js.map

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class InvalidPassphraseError extends Error {
    constructor() {
        super('unable to parse credentials, incorrect passphrase');
        this.name = this.constructor.name;
    }
}
exports.InvalidPassphraseError = InvalidPassphraseError;
//# sourceMappingURL=invalid-passphrase.js.map

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class InvalidPrivateKeyError extends Error {
    constructor() {
        super('private key is invalid');
        this.name = this.constructor.name;
    }
}
exports.InvalidPrivateKeyError = InvalidPrivateKeyError;
//# sourceMappingURL=invalid-private-key.js.map

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMzViOGM4OTIwOTQ2ZWQ3N2ZkZDMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9mb3JnZS5taW4uanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NjcmlwdHMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL2RjbWFjL2dpdC9naXRodWIvdXctcHVzaC1saWJyYXJ5L25vZGVfbW9kdWxlcy9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovLy8vVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvbm9kZV9tb2R1bGVzL2dsb2JhbC93aW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL2RjbWFjL2dpdC9naXRodWIvdXctcHVzaC1saWJyYXJ5L25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9idWlsZC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9idWlsZC9zcmMvbGliL2FwcGxlL2FwbnMtY2VydGlmaWNhdGUuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9idWlsZC9zcmMvbGliL2FwcGxlL2FwbnMtb2lkcy5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL2RjbWFjL2dpdC9naXRodWIvdXctcHVzaC1saWJyYXJ5L2J1aWxkL3NyYy9saWIvYXBwbGUvZXJyb3JzL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvYnVpbGQvc3JjL2xpYi9hcHBsZS9lcnJvcnMvaW52YWxpZC1jZXJ0aWZpY2F0ZS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL2RjbWFjL2dpdC9naXRodWIvdXctcHVzaC1saWJyYXJ5L2J1aWxkL3NyYy9saWIvYXBwbGUvZXJyb3JzL2ludmFsaWQtY2VydGlmaWNhdGUtZW52LmpzIiwid2VicGFjazovLy8vVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvYnVpbGQvc3JjL2xpYi9hcHBsZS9lcnJvcnMvaW52YWxpZC1maWxlLmpzIiwid2VicGFjazovLy8vVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvYnVpbGQvc3JjL2xpYi9hcHBsZS9lcnJvcnMvaW52YWxpZC1wYXNzcGhyYXNlLmpzIiwid2VicGFjazovLy8vVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvYnVpbGQvc3JjL2xpYi9hcHBsZS9lcnJvcnMvaW52YWxpZC1wcml2YXRlLWtleS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUM7O0FBRXJDO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVU7Ozs7Ozs7QUN2THRDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVAsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEM7Ozs7OztBQzdCQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNyREE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlCQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMENBQTBDLHNCQUFzQixFQUFFO0FBQ2xFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7OztBQ3pMRDs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7Ozs7Ozs7OztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFtRDtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSx1Q0FBdUMsU0FBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsaUJBQWlCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxFQUFFO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdCQUF3QixRQUFRO0FBQ2hDO0FBQ0EscUJBQXFCLGVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0JBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxPQUFPO0FBQzlEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjtBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsU0FBUztBQUM1QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsWUFBWTtBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVB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QTtBQUNBLENBQUMsMERBQTBEO0FBQzNELHFDOzs7Ozs7O0FDUEE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDOzs7Ozs7O0FDWkE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDOzs7Ozs7O0FDVEE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EOzs7Ozs7O0FDVEE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDOzs7Ozs7O0FDVEE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDOzs7Ozs7O0FDVEE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMzViOGM4OTIwOTQ2ZWQ3N2ZkZDMiLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5mb3JnZT10KCk6ZS5mb3JnZT10KCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChhKXtpZihyW2FdKXJldHVybiByW2FdLmV4cG9ydHM7dmFyIG49clthXT17aTphLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbYV0uY2FsbChuLmV4cG9ydHMsbixuLmV4cG9ydHMsdCksbi5sPSEwLG4uZXhwb3J0c312YXIgcj17fTtyZXR1cm4gdC5tPWUsdC5jPXIsdC5pPWZ1bmN0aW9uKGUpe3JldHVybiBlfSx0LmQ9ZnVuY3Rpb24oZSxyLGEpe3QubyhlLHIpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6YX0pfSx0Lm49ZnVuY3Rpb24oZSl7dmFyIHI9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHQuZChyLFwiYVwiLHIpLHJ9LHQubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sdC5wPVwiXCIsdCh0LnM9NDIpfShbZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e29wdGlvbnM6e3VzZVB1cmVKYXZhU2NyaXB0OiExfX19LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBhKGUpe2lmKDghPT1lJiYxNiE9PWUmJjI0IT09ZSYmMzIhPT1lKXRocm93IG5ldyBFcnJvcihcIk9ubHkgOCwgMTYsIDI0LCBvciAzMiBiaXRzIHN1cHBvcnRlZDogXCIrZSl9ZnVuY3Rpb24gbihlKXtpZih0aGlzLmRhdGE9XCJcIix0aGlzLnJlYWQ9MCxcInN0cmluZ1wiPT10eXBlb2YgZSl0aGlzLmRhdGE9ZTtlbHNlIGlmKG8uaXNBcnJheUJ1ZmZlcihlKXx8by5pc0FycmF5QnVmZmVyVmlldyhlKSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZSk7dHJ5e3RoaXMuZGF0YT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsdCl9Y2F0Y2goZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3IpdGhpcy5wdXRCeXRlKHRbcl0pfX1lbHNlKGUgaW5zdGFuY2VvZiBufHxcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZGF0YSYmXCJudW1iZXJcIj09dHlwZW9mIGUucmVhZCkmJih0aGlzLmRhdGE9ZS5kYXRhLHRoaXMucmVhZD1lLnJlYWQpO3RoaXMuX2NvbnN0cnVjdGVkU3RyaW5nTGVuZ3RoPTB9ZnVuY3Rpb24gaShlLHQpe3Q9dHx8e30sdGhpcy5yZWFkPXQucmVhZE9mZnNldHx8MCx0aGlzLmdyb3dTaXplPXQuZ3Jvd1NpemV8fDEwMjQ7dmFyIHI9by5pc0FycmF5QnVmZmVyKGUpLGE9by5pc0FycmF5QnVmZmVyVmlldyhlKTtyZXR1cm4gcnx8YT8ocj90aGlzLmRhdGE9bmV3IERhdGFWaWV3KGUpOnRoaXMuZGF0YT1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksdm9pZCh0aGlzLndyaXRlPVwid3JpdGVPZmZzZXRcImluIHQ/dC53cml0ZU9mZnNldDp0aGlzLmRhdGEuYnl0ZUxlbmd0aCkpOih0aGlzLmRhdGE9bmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigwKSksdGhpcy53cml0ZT0wLG51bGwhPT1lJiZ2b2lkIDAhPT1lJiZ0aGlzLnB1dEJ5dGVzKGUpLHZvaWQoXCJ3cml0ZU9mZnNldFwiaW4gdCYmKHRoaXMud3JpdGU9dC53cml0ZU9mZnNldCkpKX12YXIgcz1yKDApLG89ZS5leHBvcnRzPXMudXRpbD1zLnV0aWx8fHt9OyFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoZS5zb3VyY2U9PT13aW5kb3cmJmUuZGF0YT09PXQpe2Uuc3RvcFByb3BhZ2F0aW9uKCk7dmFyIGE9ci5zbGljZSgpO3IubGVuZ3RoPTAsYS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UoKX0pfX1pZihcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmcHJvY2Vzcy5uZXh0VGljaylyZXR1cm4gby5uZXh0VGljaz1wcm9jZXNzLm5leHRUaWNrLHZvaWQoXCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0SW1tZWRpYXRlP28uc2V0SW1tZWRpYXRlPXNldEltbWVkaWF0ZTpvLnNldEltbWVkaWF0ZT1vLm5leHRUaWNrKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRJbW1lZGlhdGUpcmV0dXJuIG8uc2V0SW1tZWRpYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHNldEltbWVkaWF0ZS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sdm9pZChvLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3JldHVybiBzZXRJbW1lZGlhdGUoZSl9KTtpZihvLnNldEltbWVkaWF0ZT1mdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5wb3N0TWVzc2FnZSl7dmFyIHQ9XCJmb3JnZS5zZXRJbW1lZGlhdGVcIixyPVtdO28uc2V0SW1tZWRpYXRlPWZ1bmN0aW9uKGUpe3IucHVzaChlKSwxPT09ci5sZW5ndGgmJndpbmRvdy5wb3N0TWVzc2FnZSh0LFwiKlwiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZSwhMCl9aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIpe3ZhciBhPURhdGUubm93KCksbj0hMCxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscj1bXTtuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe3ZhciBlPXIuc2xpY2UoKTtyLmxlbmd0aD0wLGUuZm9yRWFjaChmdW5jdGlvbihlKXtlKCl9KX0pLm9ic2VydmUoaSx7YXR0cmlidXRlczohMH0pO3ZhciBzPW8uc2V0SW1tZWRpYXRlO28uc2V0SW1tZWRpYXRlPWZ1bmN0aW9uKGUpe0RhdGUubm93KCktYT4xNT8oYT1EYXRlLm5vdygpLHMoZSkpOihyLnB1c2goZSksMT09PXIubGVuZ3RoJiZpLnNldEF0dHJpYnV0ZShcImFcIixuPSFuKSl9fW8ubmV4dFRpY2s9by5zZXRJbW1lZGlhdGV9KCksby5pc05vZGVqcz1cInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmcHJvY2Vzcy52ZXJzaW9ucyYmcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLG8uaXNBcnJheT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LG8uaXNBcnJheUJ1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJmUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn0sby5pc0FycmF5QnVmZmVyVmlldz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmby5pc0FycmF5QnVmZmVyKGUuYnVmZmVyKSYmdm9pZCAwIT09ZS5ieXRlTGVuZ3RofSxvLkJ5dGVCdWZmZXI9bixvLkJ5dGVTdHJpbmdCdWZmZXI9bjt2YXIgYz00MDk2O28uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUuX29wdGltaXplQ29uc3RydWN0ZWRTdHJpbmc9ZnVuY3Rpb24oZSl7dGhpcy5fY29uc3RydWN0ZWRTdHJpbmdMZW5ndGgrPWUsdGhpcy5fY29uc3RydWN0ZWRTdHJpbmdMZW5ndGg+YyYmKHRoaXMuZGF0YS5zdWJzdHIoMCwxKSx0aGlzLl9jb25zdHJ1Y3RlZFN0cmluZ0xlbmd0aD0wKX0sby5CeXRlU3RyaW5nQnVmZmVyLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aC10aGlzLnJlYWR9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aCgpPD0wfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLnB1dEJ5dGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHV0Qnl0ZXMoU3RyaW5nLmZyb21DaGFyQ29kZShlKSl9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUuZmlsbFdpdGhCeXRlPWZ1bmN0aW9uKGUsdCl7ZT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpO2Zvcih2YXIgcj10aGlzLmRhdGE7dD4wOykxJnQmJihyKz1lKSx0Pj4+PTEsdD4wJiYoZSs9ZSk7cmV0dXJuIHRoaXMuZGF0YT1yLHRoaXMuX29wdGltaXplQ29uc3RydWN0ZWRTdHJpbmcodCksdGhpc30sby5CeXRlU3RyaW5nQnVmZmVyLnByb3RvdHlwZS5wdXRCeXRlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhKz1lLHRoaXMuX29wdGltaXplQ29uc3RydWN0ZWRTdHJpbmcoZS5sZW5ndGgpLHRoaXN9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUucHV0U3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1dEJ5dGVzKG8uZW5jb2RlVXRmOChlKSl9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUucHV0SW50MTY9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHV0Qnl0ZXMoU3RyaW5nLmZyb21DaGFyQ29kZShlPj44JjI1NSkrU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmZSkpfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLnB1dEludDI0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1dEJ5dGVzKFN0cmluZy5mcm9tQ2hhckNvZGUoZT4+MTYmMjU1KStTdHJpbmcuZnJvbUNoYXJDb2RlKGU+PjgmMjU1KStTdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZlKSl9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUucHV0SW50MzI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHV0Qnl0ZXMoU3RyaW5nLmZyb21DaGFyQ29kZShlPj4yNCYyNTUpK1N0cmluZy5mcm9tQ2hhckNvZGUoZT4+MTYmMjU1KStTdHJpbmcuZnJvbUNoYXJDb2RlKGU+PjgmMjU1KStTdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZlKSl9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUucHV0SW50MTZMZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXRCeXRlcyhTdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZlKStTdHJpbmcuZnJvbUNoYXJDb2RlKGU+PjgmMjU1KSl9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUucHV0SW50MjRMZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXRCeXRlcyhTdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZlKStTdHJpbmcuZnJvbUNoYXJDb2RlKGU+PjgmMjU1KStTdHJpbmcuZnJvbUNoYXJDb2RlKGU+PjE2JjI1NSkpfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLnB1dEludDMyTGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHV0Qnl0ZXMoU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmZSkrU3RyaW5nLmZyb21DaGFyQ29kZShlPj44JjI1NSkrU3RyaW5nLmZyb21DaGFyQ29kZShlPj4xNiYyNTUpK1N0cmluZy5mcm9tQ2hhckNvZGUoZT4+MjQmMjU1KSl9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUucHV0SW50PWZ1bmN0aW9uKGUsdCl7YSh0KTt2YXIgcj1cIlwiO2RvIHQtPTgscis9U3RyaW5nLmZyb21DaGFyQ29kZShlPj50JjI1NSk7d2hpbGUodD4wKTtyZXR1cm4gdGhpcy5wdXRCeXRlcyhyKX0sby5CeXRlU3RyaW5nQnVmZmVyLnByb3RvdHlwZS5wdXRTaWduZWRJbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTwwJiYoZSs9Mjw8dC0xKSx0aGlzLnB1dEludChlLHQpfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLnB1dEJ1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXRCeXRlcyhlLmdldEJ5dGVzKCkpfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLmdldEJ5dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmNoYXJDb2RlQXQodGhpcy5yZWFkKyspfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLmdldEludDE2PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhLmNoYXJDb2RlQXQodGhpcy5yZWFkKTw8OF50aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnJlYWQrMSk7cmV0dXJuIHRoaXMucmVhZCs9MixlfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLmdldEludDI0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhLmNoYXJDb2RlQXQodGhpcy5yZWFkKTw8MTZedGhpcy5kYXRhLmNoYXJDb2RlQXQodGhpcy5yZWFkKzEpPDw4XnRoaXMuZGF0YS5jaGFyQ29kZUF0KHRoaXMucmVhZCsyKTtyZXR1cm4gdGhpcy5yZWFkKz0zLGV9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUuZ2V0SW50MzI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnJlYWQpPDwyNF50aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnJlYWQrMSk8PDE2XnRoaXMuZGF0YS5jaGFyQ29kZUF0KHRoaXMucmVhZCsyKTw8OF50aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnJlYWQrMyk7cmV0dXJuIHRoaXMucmVhZCs9NCxlfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLmdldEludDE2TGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnJlYWQpXnRoaXMuZGF0YS5jaGFyQ29kZUF0KHRoaXMucmVhZCsxKTw8ODtyZXR1cm4gdGhpcy5yZWFkKz0yLGV9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUuZ2V0SW50MjRMZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YS5jaGFyQ29kZUF0KHRoaXMucmVhZCledGhpcy5kYXRhLmNoYXJDb2RlQXQodGhpcy5yZWFkKzEpPDw4XnRoaXMuZGF0YS5jaGFyQ29kZUF0KHRoaXMucmVhZCsyKTw8MTY7cmV0dXJuIHRoaXMucmVhZCs9MyxlfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLmdldEludDMyTGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnJlYWQpXnRoaXMuZGF0YS5jaGFyQ29kZUF0KHRoaXMucmVhZCsxKTw8OF50aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnJlYWQrMik8PDE2XnRoaXMuZGF0YS5jaGFyQ29kZUF0KHRoaXMucmVhZCszKTw8MjQ7cmV0dXJuIHRoaXMucmVhZCs9NCxlfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLmdldEludD1mdW5jdGlvbihlKXthKGUpO3ZhciB0PTA7ZG8gdD0odDw8OCkrdGhpcy5kYXRhLmNoYXJDb2RlQXQodGhpcy5yZWFkKyspLGUtPTg7d2hpbGUoZT4wKTtyZXR1cm4gdH0sby5CeXRlU3RyaW5nQnVmZmVyLnByb3RvdHlwZS5nZXRTaWduZWRJbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRJbnQoZSkscj0yPDxlLTI7cmV0dXJuIHQ+PXImJih0LT1yPDwxKSx0fSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLmdldEJ5dGVzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlPyhlPU1hdGgubWluKHRoaXMubGVuZ3RoKCksZSksdD10aGlzLmRhdGEuc2xpY2UodGhpcy5yZWFkLHRoaXMucmVhZCtlKSx0aGlzLnJlYWQrPWUpOjA9PT1lP3Q9XCJcIjoodD0wPT09dGhpcy5yZWFkP3RoaXMuZGF0YTp0aGlzLmRhdGEuc2xpY2UodGhpcy5yZWFkKSx0aGlzLmNsZWFyKCkpLHR9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUuYnl0ZXM9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/dGhpcy5kYXRhLnNsaWNlKHRoaXMucmVhZCk6dGhpcy5kYXRhLnNsaWNlKHRoaXMucmVhZCx0aGlzLnJlYWQrZSl9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YS5jaGFyQ29kZUF0KHRoaXMucmVhZCtlKX0sby5CeXRlU3RyaW5nQnVmZmVyLnByb3RvdHlwZS5zZXRBdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRhdGE9dGhpcy5kYXRhLnN1YnN0cigwLHRoaXMucmVhZCtlKStTdHJpbmcuZnJvbUNoYXJDb2RlKHQpK3RoaXMuZGF0YS5zdWJzdHIodGhpcy5yZWFkK2UrMSksdGhpc30sby5CeXRlU3RyaW5nQnVmZmVyLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5jaGFyQ29kZUF0KHRoaXMuZGF0YS5sZW5ndGgtMSl9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe3ZhciBlPW8uY3JlYXRlQnVmZmVyKHRoaXMuZGF0YSk7cmV0dXJuIGUucmVhZD10aGlzLnJlYWQsZX0sby5CeXRlU3RyaW5nQnVmZmVyLnByb3RvdHlwZS5jb21wYWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZD4wJiYodGhpcy5kYXRhPXRoaXMuZGF0YS5zbGljZSh0aGlzLnJlYWQpLHRoaXMucmVhZD0wKSx0aGlzfSxvLkJ5dGVTdHJpbmdCdWZmZXIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YT1cIlwiLHRoaXMucmVhZD0wLHRoaXN9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUudHJ1bmNhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5tYXgoMCx0aGlzLmxlbmd0aCgpLWUpO3JldHVybiB0aGlzLmRhdGE9dGhpcy5kYXRhLnN1YnN0cih0aGlzLnJlYWQsdCksdGhpcy5yZWFkPTAsdGhpc30sby5CeXRlU3RyaW5nQnVmZmVyLnByb3RvdHlwZS50b0hleD1mdW5jdGlvbigpe2Zvcih2YXIgZT1cIlwiLHQ9dGhpcy5yZWFkO3Q8dGhpcy5kYXRhLmxlbmd0aDsrK3Qpe3ZhciByPXRoaXMuZGF0YS5jaGFyQ29kZUF0KHQpO3I8MTYmJihlKz1cIjBcIiksZSs9ci50b1N0cmluZygxNil9cmV0dXJuIGV9LG8uQnl0ZVN0cmluZ0J1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gby5kZWNvZGVVdGY4KHRoaXMuYnl0ZXMoKSl9LG8uRGF0YUJ1ZmZlcj1pLG8uRGF0YUJ1ZmZlci5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3JpdGUtdGhpcy5yZWFkfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGgoKTw9MH0sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5hY2NvbW1vZGF0ZT1mdW5jdGlvbihlLHQpe2lmKHRoaXMubGVuZ3RoKCk+PWUpcmV0dXJuIHRoaXM7dD1NYXRoLm1heCh0fHx0aGlzLmdyb3dTaXplLGUpO3ZhciByPW5ldyBVaW50OEFycmF5KHRoaXMuZGF0YS5idWZmZXIsdGhpcy5kYXRhLmJ5dGVPZmZzZXQsdGhpcy5kYXRhLmJ5dGVMZW5ndGgpLGE9bmV3IFVpbnQ4QXJyYXkodGhpcy5sZW5ndGgoKSt0KTtyZXR1cm4gYS5zZXQociksdGhpcy5kYXRhPW5ldyBEYXRhVmlldyhhLmJ1ZmZlciksdGhpc30sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5wdXRCeXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFjY29tbW9kYXRlKDEpLHRoaXMuZGF0YS5zZXRVaW50OCh0aGlzLndyaXRlKyssZSksdGhpc30sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5maWxsV2l0aEJ5dGU9ZnVuY3Rpb24oZSx0KXt0aGlzLmFjY29tbW9kYXRlKHQpO2Zvcih2YXIgcj0wO3I8dDsrK3IpdGhpcy5kYXRhLnNldFVpbnQ4KGUpO3JldHVybiB0aGlzfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLnB1dEJ5dGVzPWZ1bmN0aW9uKGUsdCl7aWYoby5pc0FycmF5QnVmZmVyVmlldyhlKSl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksYT1yLmJ5dGVMZW5ndGgtci5ieXRlT2Zmc2V0O3RoaXMuYWNjb21tb2RhdGUoYSk7dmFyIG49bmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlcix0aGlzLndyaXRlKTtyZXR1cm4gbi5zZXQociksdGhpcy53cml0ZSs9YSx0aGlzfWlmKG8uaXNBcnJheUJ1ZmZlcihlKSl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoZSk7dGhpcy5hY2NvbW1vZGF0ZShyLmJ5dGVMZW5ndGgpO3ZhciBuPW5ldyBVaW50OEFycmF5KHRoaXMuZGF0YS5idWZmZXIpO3JldHVybiBuLnNldChyLHRoaXMud3JpdGUpLHRoaXMud3JpdGUrPXIuYnl0ZUxlbmd0aCx0aGlzfWlmKGUgaW5zdGFuY2VvZiBvLkRhdGFCdWZmZXJ8fFwib2JqZWN0XCI9PXR5cGVvZiBlJiZcIm51bWJlclwiPT10eXBlb2YgZS5yZWFkJiZcIm51bWJlclwiPT10eXBlb2YgZS53cml0ZSYmby5pc0FycmF5QnVmZmVyVmlldyhlLmRhdGEpKXt2YXIgcj1uZXcgVWludDhBcnJheShlLmRhdGEuYnl0ZUxlbmd0aCxlLnJlYWQsZS5sZW5ndGgoKSk7dGhpcy5hY2NvbW1vZGF0ZShyLmJ5dGVMZW5ndGgpO3ZhciBuPW5ldyBVaW50OEFycmF5KGUuZGF0YS5ieXRlTGVuZ3RoLHRoaXMud3JpdGUpO3JldHVybiBuLnNldChyKSx0aGlzLndyaXRlKz1yLmJ5dGVMZW5ndGgsdGhpc31pZihlIGluc3RhbmNlb2Ygby5CeXRlU3RyaW5nQnVmZmVyJiYoZT1lLmRhdGEsdD1cImJpbmFyeVwiKSx0PXR8fFwiYmluYXJ5XCIsXCJzdHJpbmdcIj09dHlwZW9mIGUpe3ZhciBpO2lmKFwiaGV4XCI9PT10KXJldHVybiB0aGlzLmFjY29tbW9kYXRlKE1hdGguY2VpbChlLmxlbmd0aC8yKSksaT1uZXcgVWludDhBcnJheSh0aGlzLmRhdGEuYnVmZmVyLHRoaXMud3JpdGUpLHRoaXMud3JpdGUrPW8uYmluYXJ5LmhleC5kZWNvZGUoZSxpLHRoaXMud3JpdGUpLHRoaXM7aWYoXCJiYXNlNjRcIj09PXQpcmV0dXJuIHRoaXMuYWNjb21tb2RhdGUoMypNYXRoLmNlaWwoZS5sZW5ndGgvNCkpLGk9bmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlcix0aGlzLndyaXRlKSx0aGlzLndyaXRlKz1vLmJpbmFyeS5iYXNlNjQuZGVjb2RlKGUsaSx0aGlzLndyaXRlKSx0aGlzO2lmKFwidXRmOFwiPT09dCYmKGU9by5lbmNvZGVVdGY4KGUpLHQ9XCJiaW5hcnlcIiksXCJiaW5hcnlcIj09PXR8fFwicmF3XCI9PT10KXJldHVybiB0aGlzLmFjY29tbW9kYXRlKGUubGVuZ3RoKSxpPW5ldyBVaW50OEFycmF5KHRoaXMuZGF0YS5idWZmZXIsdGhpcy53cml0ZSksdGhpcy53cml0ZSs9by5iaW5hcnkucmF3LmRlY29kZShpKSx0aGlzO2lmKFwidXRmMTZcIj09PXQpcmV0dXJuIHRoaXMuYWNjb21tb2RhdGUoMiplLmxlbmd0aCksaT1uZXcgVWludDE2QXJyYXkodGhpcy5kYXRhLmJ1ZmZlcix0aGlzLndyaXRlKSx0aGlzLndyaXRlKz1vLnRleHQudXRmMTYuZW5jb2RlKGkpLHRoaXM7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBlbmNvZGluZzogXCIrdCl9dGhyb3cgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlcjogXCIrZSl9LG8uRGF0YUJ1ZmZlci5wcm90b3R5cGUucHV0QnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1dEJ5dGVzKGUpLGUuY2xlYXIoKSx0aGlzfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLnB1dFN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXRCeXRlcyhlLFwidXRmMTZcIil9LG8uRGF0YUJ1ZmZlci5wcm90b3R5cGUucHV0SW50MTY9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWNjb21tb2RhdGUoMiksdGhpcy5kYXRhLnNldEludDE2KHRoaXMud3JpdGUsZSksdGhpcy53cml0ZSs9Mix0aGlzfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLnB1dEludDI0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFjY29tbW9kYXRlKDMpLHRoaXMuZGF0YS5zZXRJbnQxNih0aGlzLndyaXRlLGU+PjgmNjU1MzUpLHRoaXMuZGF0YS5zZXRJbnQ4KHRoaXMud3JpdGUsZT4+MTYmMjU1KSx0aGlzLndyaXRlKz0zLHRoaXN9LG8uRGF0YUJ1ZmZlci5wcm90b3R5cGUucHV0SW50MzI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWNjb21tb2RhdGUoNCksdGhpcy5kYXRhLnNldEludDMyKHRoaXMud3JpdGUsZSksdGhpcy53cml0ZSs9NCx0aGlzfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLnB1dEludDE2TGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWNjb21tb2RhdGUoMiksdGhpcy5kYXRhLnNldEludDE2KHRoaXMud3JpdGUsZSwhMCksdGhpcy53cml0ZSs9Mix0aGlzfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLnB1dEludDI0TGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWNjb21tb2RhdGUoMyksdGhpcy5kYXRhLnNldEludDgodGhpcy53cml0ZSxlPj4xNiYyNTUpLHRoaXMuZGF0YS5zZXRJbnQxNih0aGlzLndyaXRlLGU+PjgmNjU1MzUsITApLHRoaXMud3JpdGUrPTMsdGhpc30sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5wdXRJbnQzMkxlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFjY29tbW9kYXRlKDQpLHRoaXMuZGF0YS5zZXRJbnQzMih0aGlzLndyaXRlLGUsITApLHRoaXMud3JpdGUrPTQsdGhpc30sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5wdXRJbnQ9ZnVuY3Rpb24oZSx0KXthKHQpLHRoaXMuYWNjb21tb2RhdGUodC84KTtkbyB0LT04LHRoaXMuZGF0YS5zZXRJbnQ4KHRoaXMud3JpdGUrKyxlPj50JjI1NSk7d2hpbGUodD4wKTtyZXR1cm4gdGhpc30sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5wdXRTaWduZWRJbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSh0KSx0aGlzLmFjY29tbW9kYXRlKHQvOCksZTwwJiYoZSs9Mjw8dC0xKSx0aGlzLnB1dEludChlLHQpfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLmdldEJ5dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmdldEludDgodGhpcy5yZWFkKyspfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLmdldEludDE2PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhLmdldEludDE2KHRoaXMucmVhZCk7cmV0dXJuIHRoaXMucmVhZCs9MixlfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLmdldEludDI0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhLmdldEludDE2KHRoaXMucmVhZCk8PDhedGhpcy5kYXRhLmdldEludDgodGhpcy5yZWFkKzIpO3JldHVybiB0aGlzLnJlYWQrPTMsZX0sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5nZXRJbnQzMj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YS5nZXRJbnQzMih0aGlzLnJlYWQpO3JldHVybiB0aGlzLnJlYWQrPTQsZX0sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5nZXRJbnQxNkxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhLmdldEludDE2KHRoaXMucmVhZCwhMCk7cmV0dXJuIHRoaXMucmVhZCs9MixlfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLmdldEludDI0TGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGEuZ2V0SW50OCh0aGlzLnJlYWQpXnRoaXMuZGF0YS5nZXRJbnQxNih0aGlzLnJlYWQrMSwhMCk8PDg7cmV0dXJuIHRoaXMucmVhZCs9MyxlfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLmdldEludDMyTGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGEuZ2V0SW50MzIodGhpcy5yZWFkLCEwKTtyZXR1cm4gdGhpcy5yZWFkKz00LGV9LG8uRGF0YUJ1ZmZlci5wcm90b3R5cGUuZ2V0SW50PWZ1bmN0aW9uKGUpe2EoZSk7dmFyIHQ9MDtkbyB0PSh0PDw4KSt0aGlzLmRhdGEuZ2V0SW50OCh0aGlzLnJlYWQrKyksZS09ODt3aGlsZShlPjApO3JldHVybiB0fSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLmdldFNpZ25lZEludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEludChlKSxyPTI8PGUtMjtyZXR1cm4gdD49ciYmKHQtPXI8PDEpLHR9LG8uRGF0YUJ1ZmZlci5wcm90b3R5cGUuZ2V0Qnl0ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGU/KGU9TWF0aC5taW4odGhpcy5sZW5ndGgoKSxlKSx0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnJlYWQsdGhpcy5yZWFkK2UpLHRoaXMucmVhZCs9ZSk6MD09PWU/dD1cIlwiOih0PTA9PT10aGlzLnJlYWQ/dGhpcy5kYXRhOnRoaXMuZGF0YS5zbGljZSh0aGlzLnJlYWQpLHRoaXMuY2xlYXIoKSksdH0sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5ieXRlcz1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT90aGlzLmRhdGEuc2xpY2UodGhpcy5yZWFkKTp0aGlzLmRhdGEuc2xpY2UodGhpcy5yZWFkLHRoaXMucmVhZCtlKX0sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5hdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhLmdldFVpbnQ4KHRoaXMucmVhZCtlKX0sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5zZXRBdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRhdGEuc2V0VWludDgoZSx0KSx0aGlzfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmdldFVpbnQ4KHRoaXMud3JpdGUtMSl9LG8uRGF0YUJ1ZmZlci5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe3JldHVybiBuZXcgby5EYXRhQnVmZmVyKHRoaXMpfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLmNvbXBhY3Q9ZnVuY3Rpb24oKXtpZih0aGlzLnJlYWQ+MCl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlcix0aGlzLnJlYWQpLHQ9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoKTt0LnNldChlKSx0aGlzLmRhdGE9bmV3IERhdGFWaWV3KHQpLHRoaXMud3JpdGUtPXRoaXMucmVhZCx0aGlzLnJlYWQ9MH1yZXR1cm4gdGhpc30sby5EYXRhQnVmZmVyLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGE9bmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigwKSksdGhpcy5yZWFkPXRoaXMud3JpdGU9MCx0aGlzfSxvLkRhdGFCdWZmZXIucHJvdG90eXBlLnRydW5jYXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLndyaXRlPU1hdGgubWF4KDAsdGhpcy5sZW5ndGgoKS1lKSx0aGlzLnJlYWQ9TWF0aC5taW4odGhpcy5yZWFkLHRoaXMud3JpdGUpLHRoaXN9LG8uRGF0YUJ1ZmZlci5wcm90b3R5cGUudG9IZXg9ZnVuY3Rpb24oKXtmb3IodmFyIGU9XCJcIix0PXRoaXMucmVhZDt0PHRoaXMuZGF0YS5ieXRlTGVuZ3RoOysrdCl7dmFyIHI9dGhpcy5kYXRhLmdldFVpbnQ4KHQpO3I8MTYmJihlKz1cIjBcIiksZSs9ci50b1N0cmluZygxNil9cmV0dXJuIGV9LG8uRGF0YUJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLHRoaXMucmVhZCx0aGlzLmxlbmd0aCgpKTtpZihlPWV8fFwidXRmOFwiLFwiYmluYXJ5XCI9PT1lfHxcInJhd1wiPT09ZSlyZXR1cm4gby5iaW5hcnkucmF3LmVuY29kZSh0KTtpZihcImhleFwiPT09ZSlyZXR1cm4gby5iaW5hcnkuaGV4LmVuY29kZSh0KTtpZihcImJhc2U2NFwiPT09ZSlyZXR1cm4gby5iaW5hcnkuYmFzZTY0LmVuY29kZSh0KTtpZihcInV0ZjhcIj09PWUpcmV0dXJuIG8udGV4dC51dGY4LmRlY29kZSh0KTtpZihcInV0ZjE2XCI9PT1lKXJldHVybiBvLnRleHQudXRmMTYuZGVjb2RlKHQpO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgZW5jb2Rpbmc6IFwiK2UpfSxvLmNyZWF0ZUJ1ZmZlcj1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fFwicmF3XCIsdm9pZCAwIT09ZSYmXCJ1dGY4XCI9PT10JiYoZT1vLmVuY29kZVV0ZjgoZSkpLG5ldyBvLkJ5dGVCdWZmZXIoZSl9LG8uZmlsbFN0cmluZz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1cIlwiO3Q+MDspMSZ0JiYocis9ZSksdD4+Pj0xLHQ+MCYmKGUrPWUpO3JldHVybiByfSxvLnhvckJ5dGVzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGE9XCJcIixuPVwiXCIsaT1cIlwiLHM9MCxvPTA7cj4wOy0tciwrK3Mpbj1lLmNoYXJDb2RlQXQocyledC5jaGFyQ29kZUF0KHMpLG8+PTEwJiYoYSs9aSxpPVwiXCIsbz0wKSxpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pLCsrbztyZXR1cm4gYSs9aX0sby5oZXhUb0J5dGVzPWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCIscj0wO2ZvcihlLmxlbmd0aCYhMCYmKHI9MSx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGVbMF0sMTYpKSk7cjxlLmxlbmd0aDtyKz0yKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZS5zdWJzdHIociwyKSwxNikpO3JldHVybiB0fSxvLmJ5dGVzVG9IZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uY3JlYXRlQnVmZmVyKGUpLnRvSGV4KCl9LG8uaW50MzJUb0J5dGVzPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGU+PjI0JjI1NSkrU3RyaW5nLmZyb21DaGFyQ29kZShlPj4xNiYyNTUpK1N0cmluZy5mcm9tQ2hhckNvZGUoZT4+OCYyNTUpK1N0cmluZy5mcm9tQ2hhckNvZGUoMjU1JmUpfTt2YXIgdT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsbD1bNjIsLTEsLTEsLTEsNjMsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsLTEsLTEsLTEsNjQsLTEsLTEsLTEsMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwtMSwtMSwtMSwtMSwtMSwtMSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MV07by5lbmNvZGU2ND1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixhLG4saT1cIlwiLHM9XCJcIixvPTA7bzxlLmxlbmd0aDspcj1lLmNoYXJDb2RlQXQobysrKSxhPWUuY2hhckNvZGVBdChvKyspLG49ZS5jaGFyQ29kZUF0KG8rKyksaSs9dS5jaGFyQXQocj4+MiksaSs9dS5jaGFyQXQoKDMmcik8PDR8YT4+NCksaXNOYU4oYSk/aSs9XCI9PVwiOihpKz11LmNoYXJBdCgoMTUmYSk8PDJ8bj4+NiksaSs9aXNOYU4obik/XCI9XCI6dS5jaGFyQXQoNjMmbikpLHQmJmkubGVuZ3RoPnQmJihzKz1pLnN1YnN0cigwLHQpK1wiXFxyXFxuXCIsaT1pLnN1YnN0cih0KSk7cmV0dXJuIHMrPWl9LG8uZGVjb2RlNjQ9ZnVuY3Rpb24oZSl7ZT1lLnJlcGxhY2UoL1teQS1aYS16MC05XFwrXFwvXFw9XS9nLFwiXCIpO2Zvcih2YXIgdCxyLGEsbixpPVwiXCIscz0wO3M8ZS5sZW5ndGg7KXQ9bFtlLmNoYXJDb2RlQXQocysrKS00M10scj1sW2UuY2hhckNvZGVBdChzKyspLTQzXSxhPWxbZS5jaGFyQ29kZUF0KHMrKyktNDNdLG49bFtlLmNoYXJDb2RlQXQocysrKS00M10saSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0PDwyfHI+PjQpLDY0IT09YSYmKGkrPVN0cmluZy5mcm9tQ2hhckNvZGUoKDE1JnIpPDw0fGE+PjIpLDY0IT09biYmKGkrPVN0cmluZy5mcm9tQ2hhckNvZGUoKDMmYSk8PDZ8bikpKTtyZXR1cm4gaX0sby5lbmNvZGVVdGY4PWZ1bmN0aW9uKGUpe3JldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpfSxvLmRlY29kZVV0Zjg9ZnVuY3Rpb24oZSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoZSkpfSxvLmJpbmFyeT17cmF3Ont9LGhleDp7fSxiYXNlNjQ6e319LG8uYmluYXJ5LnJhdy5lbmNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxlKX0sby5iaW5hcnkucmF3LmRlY29kZT1mdW5jdGlvbihlLHQscil7dmFyIGE9dDthfHwoYT1uZXcgVWludDhBcnJheShlLmxlbmd0aCkpLHI9cnx8MDtmb3IodmFyIG49cixpPTA7aTxlLmxlbmd0aDsrK2kpYVtuKytdPWUuY2hhckNvZGVBdChpKTtyZXR1cm4gdD9uLXI6YX0sby5iaW5hcnkuaGV4LmVuY29kZT1vLmJ5dGVzVG9IZXgsby5iaW5hcnkuaGV4LmRlY29kZT1mdW5jdGlvbihlLHQscil7dmFyIGE9dDthfHwoYT1uZXcgVWludDhBcnJheShNYXRoLmNlaWwoZS5sZW5ndGgvMikpKSxyPXJ8fDA7dmFyIG49MCxpPXI7Zm9yKDEmZS5sZW5ndGgmJihuPTEsYVtpKytdPXBhcnNlSW50KGVbMF0sMTYpKTtuPGUubGVuZ3RoO24rPTIpYVtpKytdPXBhcnNlSW50KGUuc3Vic3RyKG4sMiksMTYpO3JldHVybiB0P2ktcjphfSxvLmJpbmFyeS5iYXNlNjQuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGEsbixpPVwiXCIscz1cIlwiLG89MDtvPGUuYnl0ZUxlbmd0aDspcj1lW28rK10sYT1lW28rK10sbj1lW28rK10saSs9dS5jaGFyQXQocj4+MiksaSs9dS5jaGFyQXQoKDMmcik8PDR8YT4+NCksaXNOYU4oYSk/aSs9XCI9PVwiOihpKz11LmNoYXJBdCgoMTUmYSk8PDJ8bj4+NiksaSs9aXNOYU4obik/XCI9XCI6dS5jaGFyQXQoNjMmbikpLHQmJmkubGVuZ3RoPnQmJihzKz1pLnN1YnN0cigwLHQpK1wiXFxyXFxuXCIsaT1pLnN1YnN0cih0KSk7cmV0dXJuIHMrPWl9LG8uYmluYXJ5LmJhc2U2NC5kZWNvZGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXQ7YXx8KGE9bmV3IFVpbnQ4QXJyYXkoMypNYXRoLmNlaWwoZS5sZW5ndGgvNCkpKSxlPWUucmVwbGFjZSgvW15BLVphLXowLTlcXCtcXC9cXD1dL2csXCJcIikscj1yfHwwO2Zvcih2YXIgbixpLHMsbyxjPTAsdT1yO2M8ZS5sZW5ndGg7KW49bFtlLmNoYXJDb2RlQXQoYysrKS00M10saT1sW2UuY2hhckNvZGVBdChjKyspLTQzXSxzPWxbZS5jaGFyQ29kZUF0KGMrKyktNDNdLG89bFtlLmNoYXJDb2RlQXQoYysrKS00M10sYVt1KytdPW48PDJ8aT4+NCw2NCE9PXMmJihhW3UrK109KDE1JmkpPDw0fHM+PjIsNjQhPT1vJiYoYVt1KytdPSgzJnMpPDw2fG8pKTtyZXR1cm4gdD91LXI6YS5zdWJhcnJheSgwLHUpfSxvLnRleHQ9e3V0Zjg6e30sdXRmMTY6e319LG8udGV4dC51dGY4LmVuY29kZT1mdW5jdGlvbihlLHQscil7ZT1vLmVuY29kZVV0ZjgoZSk7dmFyIGE9dDthfHwoYT1uZXcgVWludDhBcnJheShlLmxlbmd0aCkpLHI9cnx8MDtmb3IodmFyIG49cixpPTA7aTxlLmxlbmd0aDsrK2kpYVtuKytdPWUuY2hhckNvZGVBdChpKTtyZXR1cm4gdD9uLXI6YX0sby50ZXh0LnV0ZjguZGVjb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBvLmRlY29kZVV0ZjgoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUpKX0sby50ZXh0LnV0ZjE2LmVuY29kZT1mdW5jdGlvbihlLHQscil7dmFyIGE9dDthfHwoYT1uZXcgVWludDhBcnJheSgyKmUubGVuZ3RoKSk7dmFyIG49bmV3IFVpbnQxNkFycmF5KGEuYnVmZmVyKTtyPXJ8fDA7Zm9yKHZhciBpPXIscz1yLG89MDtvPGUubGVuZ3RoOysrbyluW3MrK109ZS5jaGFyQ29kZUF0KG8pLGkrPTI7cmV0dXJuIHQ/aS1yOmF9LG8udGV4dC51dGYxNi5kZWNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDE2QXJyYXkoZS5idWZmZXIpKX0sby5kZWZsYXRlPWZ1bmN0aW9uKGUsdCxyKXtpZih0PW8uZGVjb2RlNjQoZS5kZWZsYXRlKG8uZW5jb2RlNjQodCkpLnJ2YWwpLHIpe3ZhciBhPTIsbj10LmNoYXJDb2RlQXQoMSk7MzImbiYmKGE9NiksdD10LnN1YnN0cmluZyhhLHQubGVuZ3RoLTQpfXJldHVybiB0fSxvLmluZmxhdGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPWUuaW5mbGF0ZShvLmVuY29kZTY0KHQpKS5ydmFsO3JldHVybiBudWxsPT09YT9udWxsOm8uZGVjb2RlNjQoYSl9O3ZhciBwPWZ1bmN0aW9uKGUsdCxyKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJXZWJTdG9yYWdlIG5vdCBhdmFpbGFibGUuXCIpO3ZhciBhO2lmKG51bGw9PT1yP2E9ZS5yZW1vdmVJdGVtKHQpOihyPW8uZW5jb2RlNjQoSlNPTi5zdHJpbmdpZnkocikpLGE9ZS5zZXRJdGVtKHQscikpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBhJiZhLnJ2YWwhPT0hMCl7dmFyIG49bmV3IEVycm9yKGEuZXJyb3IubWVzc2FnZSk7dGhyb3cgbi5pZD1hLmVycm9yLmlkLG4ubmFtZT1hLmVycm9yLm5hbWUsbn19LGg9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJXZWJTdG9yYWdlIG5vdCBhdmFpbGFibGUuXCIpO3ZhciByPWUuZ2V0SXRlbSh0KTtpZihlLmluaXQpaWYobnVsbD09PXIucnZhbCl7aWYoci5lcnJvcil7dmFyIGE9bmV3IEVycm9yKHIuZXJyb3IubWVzc2FnZSk7dGhyb3cgYS5pZD1yLmVycm9yLmlkLGEubmFtZT1yLmVycm9yLm5hbWUsYX1yPW51bGx9ZWxzZSByPXIucnZhbDtyZXR1cm4gbnVsbCE9PXImJihyPUpTT04ucGFyc2Uoby5kZWNvZGU2NChyKSkpLHJ9LGY9ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIG49aChlLHQpO251bGw9PT1uJiYobj17fSksbltyXT1hLHAoZSx0LG4pfSxkPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1oKGUsdCk7cmV0dXJuIG51bGwhPT1hJiYoYT1yIGluIGE/YVtyXTpudWxsKSxhfSx5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1oKGUsdCk7aWYobnVsbCE9PWEmJnIgaW4gYSl7ZGVsZXRlIGFbcl07dmFyIG49ITA7Zm9yKHZhciBpIGluIGEpe249ITE7YnJlYWt9biYmKGE9bnVsbCkscChlLHQsYSl9fSxnPWZ1bmN0aW9uKGUsdCl7cChlLHQsbnVsbCl9LHY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPW51bGw7XCJ1bmRlZmluZWRcIj09dHlwZW9mIHImJihyPVtcIndlYlwiLFwiZmxhc2hcIl0pO3ZhciBuLGk9ITEscz1udWxsO2Zvcih2YXIgbyBpbiByKXtuPXJbb107dHJ5e2lmKFwiZmxhc2hcIj09PW58fFwiYm90aFwiPT09bil7aWYobnVsbD09PXRbMF0pdGhyb3cgbmV3IEVycm9yKFwiRmxhc2ggbG9jYWwgc3RvcmFnZSBub3QgYXZhaWxhYmxlLlwiKTthPWUuYXBwbHkodGhpcyx0KSxpPVwiZmxhc2hcIj09PW59XCJ3ZWJcIiE9PW4mJlwiYm90aFwiIT09bnx8KHRbMF09bG9jYWxTdG9yYWdlLGE9ZS5hcHBseSh0aGlzLHQpLGk9ITApfWNhdGNoKGUpe3M9ZX1pZihpKWJyZWFrfWlmKCFpKXRocm93IHM7cmV0dXJuIGF9O28uc2V0SXRlbT1mdW5jdGlvbihlLHQscixhLG4pe3YoZixhcmd1bWVudHMsbil9LG8uZ2V0SXRlbT1mdW5jdGlvbihlLHQscixhKXtyZXR1cm4gdihkLGFyZ3VtZW50cyxhKX0sby5yZW1vdmVJdGVtPWZ1bmN0aW9uKGUsdCxyLGEpe3YoeSxhcmd1bWVudHMsYSl9LG8uY2xlYXJJdGVtcz1mdW5jdGlvbihlLHQscil7dihnLGFyZ3VtZW50cyxyKX0sby5wYXJzZVVybD1mdW5jdGlvbihlKXt2YXIgdD0vXihodHRwcz8pOlxcL1xcLyhbXjomXlxcL10qKTo/KFxcZCopKC4qKSQvZzt0Lmxhc3RJbmRleD0wO3ZhciByPXQuZXhlYyhlKSxhPW51bGw9PT1yP251bGw6e2Z1bGw6ZSxzY2hlbWU6clsxXSxob3N0OnJbMl0scG9ydDpyWzNdLHBhdGg6cls0XX07cmV0dXJuIGEmJihhLmZ1bGxIb3N0PWEuaG9zdCxhLnBvcnQ/ODAhPT1hLnBvcnQmJlwiaHR0cFwiPT09YS5zY2hlbWU/YS5mdWxsSG9zdCs9XCI6XCIrYS5wb3J0OjQ0MyE9PWEucG9ydCYmXCJodHRwc1wiPT09YS5zY2hlbWUmJihhLmZ1bGxIb3N0Kz1cIjpcIithLnBvcnQpOlwiaHR0cFwiPT09YS5zY2hlbWU/YS5wb3J0PTgwOlwiaHR0cHNcIj09PWEuc2NoZW1lJiYoYS5wb3J0PTQ0MyksYS5mdWxsPWEuc2NoZW1lK1wiOi8vXCIrYS5mdWxsSG9zdCksYX07dmFyIG09bnVsbDtvLmdldFF1ZXJ5VmFyaWFibGVzPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LHI9ZS5zcGxpdChcIiZcIiksYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbixpLHM9clthXS5pbmRleE9mKFwiPVwiKTtzPjA/KG49clthXS5zdWJzdHJpbmcoMCxzKSxpPXJbYV0uc3Vic3RyaW5nKHMrMSkpOihuPXJbYV0saT1udWxsKSxuIGluIHR8fCh0W25dPVtdKSxuIGluIE9iamVjdC5wcm90b3R5cGV8fG51bGw9PT1pfHx0W25dLnB1c2godW5lc2NhcGUoaSkpfXJldHVybiB0fTtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZT8obnVsbD09PW0mJihtPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLnNlYXJjaD9yKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKTp7fSksdD1tKTp0PXIoZSksdH0sby5wYXJzZUZyYWdtZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUscj1cIlwiLGE9ZS5pbmRleE9mKFwiP1wiKTthPjAmJih0PWUuc3Vic3RyaW5nKDAsYSkscj1lLnN1YnN0cmluZyhhKzEpKTt2YXIgbj10LnNwbGl0KFwiL1wiKTtuLmxlbmd0aD4wJiZcIlwiPT09blswXSYmbi5zaGlmdCgpO3ZhciBpPVwiXCI9PT1yP3t9Om8uZ2V0UXVlcnlWYXJpYWJsZXMocik7cmV0dXJue3BhdGhTdHJpbmc6dCxxdWVyeVN0cmluZzpyLHBhdGg6bixxdWVyeTppfX0sby5tYWtlUmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD1vLnBhcnNlRnJhZ21lbnQoZSkscj17cGF0aDp0LnBhdGhTdHJpbmcscXVlcnk6dC5xdWVyeVN0cmluZyxnZXRQYXRoOmZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP3QucGF0aDp0LnBhdGhbZV19LGdldFF1ZXJ5OmZ1bmN0aW9uKGUscil7dmFyIGE7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/YT10LnF1ZXJ5OihhPXQucXVlcnlbZV0sYSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHImJihhPWFbcl0pKSxhfSxnZXRRdWVyeUxhc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgYSxuPXIuZ2V0UXVlcnkoZSk7cmV0dXJuIGE9bj9uW24ubGVuZ3RoLTFdOnR9fTtyZXR1cm4gcn0sby5tYWtlTGluaz1mdW5jdGlvbihlLHQscil7ZT1qUXVlcnkuaXNBcnJheShlKT9lLmpvaW4oXCIvXCIpOmU7dmFyIGE9alF1ZXJ5LnBhcmFtKHR8fHt9KTtyZXR1cm4gcj1yfHxcIlwiLGUrKGEubGVuZ3RoPjA/XCI/XCIrYTpcIlwiKSsoci5sZW5ndGg+MD9cIiNcIityOlwiXCIpfSxvLnNldFBhdGg9ZnVuY3Rpb24oZSx0LHIpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSlmb3IodmFyIGE9MCxuPXQubGVuZ3RoO2E8bjspe3ZhciBpPXRbYSsrXTtpZihhPT1uKWVbaV09cjtlbHNle3ZhciBzPWkgaW4gZTsoIXN8fHMmJlwib2JqZWN0XCIhPXR5cGVvZiBlW2ldfHxzJiZudWxsPT09ZVtpXSkmJihlW2ldPXt9KSxlPWVbaV19fX0sby5nZXRQYXRoPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGE9MCxuPXQubGVuZ3RoLGk9ITA7aSYmYTxuJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWU7KXt2YXIgcz10W2ErK107aT1zIGluIGUsaSYmKGU9ZVtzXSl9cmV0dXJuIGk/ZTpyfSxvLmRlbGV0ZVBhdGg9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUpZm9yKHZhciByPTAsYT10Lmxlbmd0aDtyPGE7KXt2YXIgbj10W3IrK107aWYocj09YSlkZWxldGUgZVtuXTtlbHNle2lmKCEobiBpbiBlKXx8XCJvYmplY3RcIiE9dHlwZW9mIGVbbl18fG51bGw9PT1lW25dKWJyZWFrO2U9ZVtuXX19fSxvLmlzRW1wdHk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4hMTtyZXR1cm4hMH0sby5mb3JtYXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsYT0vJS4vZyxuPTAsaT1bXSxzPTA7dD1hLmV4ZWMoZSk7KXtyPWUuc3Vic3RyaW5nKHMsYS5sYXN0SW5kZXgtMiksci5sZW5ndGg+MCYmaS5wdXNoKHIpLHM9YS5sYXN0SW5kZXg7dmFyIG89dFswXVsxXTtzd2l0Y2gobyl7Y2FzZVwic1wiOmNhc2VcIm9cIjpuPGFyZ3VtZW50cy5sZW5ndGg/aS5wdXNoKGFyZ3VtZW50c1tuKysgKzFdKTppLnB1c2goXCI8Pz5cIik7YnJlYWs7Y2FzZVwiJVwiOmkucHVzaChcIiVcIik7YnJlYWs7ZGVmYXVsdDppLnB1c2goXCI8JVwiK28rXCI/PlwiKX19cmV0dXJuIGkucHVzaChlLnN1YnN0cmluZyhzKSksaS5qb2luKFwiXCIpfSxvLmZvcm1hdE51bWJlcj1mdW5jdGlvbihlLHQscixhKXt2YXIgbj1lLGk9aXNOYU4odD1NYXRoLmFicyh0KSk/Mjp0LHM9dm9pZCAwPT09cj9cIixcIjpyLG89dm9pZCAwPT09YT9cIi5cIjphLGM9bjwwP1wiLVwiOlwiXCIsdT1wYXJzZUludChuPU1hdGguYWJzKCtufHwwKS50b0ZpeGVkKGkpLDEwKStcIlwiLGw9dS5sZW5ndGg+Mz91Lmxlbmd0aCUzOjA7cmV0dXJuIGMrKGw/dS5zdWJzdHIoMCxsKStvOlwiXCIpK3Uuc3Vic3RyKGwpLnJlcGxhY2UoLyhcXGR7M30pKD89XFxkKS9nLFwiJDFcIitvKSsoaT9zK01hdGguYWJzKG4tdSkudG9GaXhlZChpKS5zbGljZSgyKTpcIlwiKX0sby5mb3JtYXRTaXplPWZ1bmN0aW9uKGUpe3JldHVybiBlPWU+PTEwNzM3NDE4MjQ/by5mb3JtYXROdW1iZXIoZS8xMDczNzQxODI0LDIsXCIuXCIsXCJcIikrXCIgR2lCXCI6ZT49MTA0ODU3Nj9vLmZvcm1hdE51bWJlcihlLzEwNDg1NzYsMixcIi5cIixcIlwiKStcIiBNaUJcIjplPj0xMDI0P28uZm9ybWF0TnVtYmVyKGUvMTAyNCwwKStcIiBLaUJcIjpvLmZvcm1hdE51bWJlcihlLDApK1wiIGJ5dGVzXCJ9LG8uYnl0ZXNGcm9tSVA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5kZXhPZihcIi5cIikhPT0tMT9vLmJ5dGVzRnJvbUlQdjQoZSk6ZS5pbmRleE9mKFwiOlwiKSE9PS0xP28uYnl0ZXNGcm9tSVB2NihlKTpudWxsfSxvLmJ5dGVzRnJvbUlQdjQ9ZnVuY3Rpb24oZSl7aWYoZT1lLnNwbGl0KFwiLlwiKSw0IT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciB0PW8uY3JlYXRlQnVmZmVyKCkscj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgYT1wYXJzZUludChlW3JdLDEwKTtpZihpc05hTihhKSlyZXR1cm4gbnVsbDt0LnB1dEJ5dGUoYSl9cmV0dXJuIHQuZ2V0Qnl0ZXMoKX0sby5ieXRlc0Zyb21JUHY2PWZ1bmN0aW9uKGUpe3ZhciB0PTA7ZT1lLnNwbGl0KFwiOlwiKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmxlbmd0aCYmKyt0LCEwfSk7Zm9yKHZhciByPTIqKDgtZS5sZW5ndGgrdCksYT1vLmNyZWF0ZUJ1ZmZlcigpLG49MDtuPDg7KytuKWlmKGVbbl0mJjAhPT1lW25dLmxlbmd0aCl7dmFyIGk9by5oZXhUb0J5dGVzKGVbbl0pO2kubGVuZ3RoPDImJmEucHV0Qnl0ZSgwKSxhLnB1dEJ5dGVzKGkpfWVsc2UgYS5maWxsV2l0aEJ5dGUoMCxyKSxyPTA7cmV0dXJuIGEuZ2V0Qnl0ZXMoKX0sby5ieXRlc1RvSVA9ZnVuY3Rpb24oZSl7cmV0dXJuIDQ9PT1lLmxlbmd0aD9vLmJ5dGVzVG9JUHY0KGUpOjE2PT09ZS5sZW5ndGg/by5ieXRlc1RvSVB2NihlKTpudWxsfSxvLmJ5dGVzVG9JUHY0PWZ1bmN0aW9uKGUpe2lmKDQhPT1lLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7KytyKXQucHVzaChlLmNoYXJDb2RlQXQocikpO3JldHVybiB0LmpvaW4oXCIuXCIpfSxvLmJ5dGVzVG9JUHY2PWZ1bmN0aW9uKGUpe2lmKDE2IT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciB0PVtdLHI9W10sYT0wLG49MDtuPGUubGVuZ3RoO24rPTIpe2Zvcih2YXIgaT1vLmJ5dGVzVG9IZXgoZVtuXStlW24rMV0pO1wiMFwiPT09aVswXSYmXCIwXCIhPT1pOylpPWkuc3Vic3RyKDEpO2lmKFwiMFwiPT09aSl7dmFyIHM9cltyLmxlbmd0aC0xXSxjPXQubGVuZ3RoO3MmJmM9PT1zLmVuZCsxPyhzLmVuZD1jLHMuZW5kLXMuc3RhcnQ+clthXS5lbmQtclthXS5zdGFydCYmKGE9ci5sZW5ndGgtMSkpOnIucHVzaCh7c3RhcnQ6YyxlbmQ6Y30pfXQucHVzaChpKX1pZihyLmxlbmd0aD4wKXt2YXIgdT1yW2FdO3UuZW5kLXUuc3RhcnQ+MCYmKHQuc3BsaWNlKHUuc3RhcnQsdS5lbmQtdS5zdGFydCsxLFwiXCIpLDA9PT11LnN0YXJ0JiZ0LnVuc2hpZnQoXCJcIiksNz09PXUuZW5kJiZ0LnB1c2goXCJcIikpfXJldHVybiB0LmpvaW4oXCI6XCIpfSxvLmVzdGltYXRlQ29yZXM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUscyxjKXtpZigwPT09cyl7dmFyIHU9TWF0aC5mbG9vcihlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9LDApL2UubGVuZ3RoKTtyZXR1cm4gby5jb3Jlcz1NYXRoLm1heCgxLHUpLFVSTC5yZXZva2VPYmplY3RVUkwoaSksdChudWxsLG8uY29yZXMpfWEoYyxmdW5jdGlvbih0LGEpe2UucHVzaChuKGMsYSkpLHIoZSxzLTEsYyl9KX1mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciByPVtdLGE9W10sbj0wO248ZTsrK24pe3ZhciBzPW5ldyBXb3JrZXIoaSk7cy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKG4pe2lmKGEucHVzaChuLmRhdGEpLGEubGVuZ3RoPT09ZSl7Zm9yKHZhciBpPTA7aTxlOysraSlyW2ldLnRlcm1pbmF0ZSgpO3QobnVsbCxhKX19KSxyLnB1c2gocyl9Zm9yKHZhciBuPTA7bjxlOysrbilyW25dLnBvc3RNZXNzYWdlKG4pfWZ1bmN0aW9uIG4oZSx0KXtmb3IodmFyIHI9W10sYT0wO2E8ZTsrK2EpZm9yKHZhciBuPXRbYV0saT1yW2FdPVtdLHM9MDtzPGU7KytzKWlmKGEhPT1zKXt2YXIgbz10W3NdOyhuLnN0Pm8uc3QmJm4uc3Q8by5ldHx8by5zdD5uLnN0JiZvLnN0PG4uZXQpJiZpLnB1c2gocyl9cmV0dXJuIHIucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGgubWF4KGUsdC5sZW5ndGgpfSwwKX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodD1lLGU9e30pLGU9ZXx8e30sXCJjb3Jlc1wiaW4gbyYmIWUudXBkYXRlKXJldHVybiB0KG51bGwsby5jb3Jlcyk7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmXCJoYXJkd2FyZUNvbmN1cnJlbmN5XCJpbiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5PjApcmV0dXJuIG8uY29yZXM9bmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3ksdChudWxsLG8uY29yZXMpO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXb3JrZXIpcmV0dXJuIG8uY29yZXM9MSx0KG51bGwsby5jb3Jlcyk7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIEJsb2IpcmV0dXJuIG8uY29yZXM9Mix0KG51bGwsby5jb3Jlcyk7dmFyIGk9VVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbXCIoXCIsZnVuY3Rpb24oKXtzZWxmLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PURhdGUubm93KCkscj10KzQ7RGF0ZS5ub3coKTxyOyk7c2VsZi5wb3N0TWVzc2FnZSh7c3Q6dCxldDpyfSl9KX0udG9TdHJpbmcoKSxcIikoKVwiXSx7dHlwZTpcImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIn0pKTtyKFtdLDUsMTYpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXIoMCk7cig1KSxyKDMwKSxyKDI4KSxyKDEpLGZ1bmN0aW9uKCl7cmV0dXJuIGEucmFuZG9tJiZhLnJhbmRvbS5nZXRCeXRlcz92b2lkKGUuZXhwb3J0cz1hLnJhbmRvbSk6dm9pZCBmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIGU9YS5wcm5nLmNyZWF0ZShuKTtyZXR1cm4gZS5nZXRCeXRlcz1mdW5jdGlvbih0LHIpe3JldHVybiBlLmdlbmVyYXRlKHQscil9LGUuZ2V0Qnl0ZXNTeW5jPWZ1bmN0aW9uKHQpe3JldHVybiBlLmdlbmVyYXRlKHQpfSxlfXZhciBuPXt9LGk9bmV3IEFycmF5KDQpLHM9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO24uZm9ybWF0S2V5PWZ1bmN0aW9uKGUpe3ZhciB0PWEudXRpbC5jcmVhdGVCdWZmZXIoZSk7cmV0dXJuIGU9bmV3IEFycmF5KDQpLGVbMF09dC5nZXRJbnQzMigpLGVbMV09dC5nZXRJbnQzMigpLGVbMl09dC5nZXRJbnQzMigpLGVbM109dC5nZXRJbnQzMigpLGEuYWVzLl9leHBhbmRLZXkoZSwhMSl9LG4uZm9ybWF0U2VlZD1mdW5jdGlvbihlKXt2YXIgdD1hLnV0aWwuY3JlYXRlQnVmZmVyKGUpO3JldHVybiBlPW5ldyBBcnJheSg0KSxlWzBdPXQuZ2V0SW50MzIoKSxlWzFdPXQuZ2V0SW50MzIoKSxlWzJdPXQuZ2V0SW50MzIoKSxlWzNdPXQuZ2V0SW50MzIoKSxlfSxuLmNpcGhlcj1mdW5jdGlvbihlLHQpe3JldHVybiBhLmFlcy5fdXBkYXRlQmxvY2soZSx0LGksITEpLHMucHV0SW50MzIoaVswXSkscy5wdXRJbnQzMihpWzFdKSxzLnB1dEludDMyKGlbMl0pLHMucHV0SW50MzIoaVszXSkscy5nZXRCeXRlcygpfSxuLmluY3JlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4rK2VbM10sZX0sbi5tZD1hLm1kLnNoYTI1Njt2YXIgbz1yKCksYz1udWxsO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe3ZhciB1PXdpbmRvdy5jcnlwdG98fHdpbmRvdy5tc0NyeXB0bzt1JiZ1LmdldFJhbmRvbVZhbHVlcyYmKGM9ZnVuY3Rpb24oZSl7cmV0dXJuIHUuZ2V0UmFuZG9tVmFsdWVzKGUpfSl9aWYoYS5vcHRpb25zLnVzZVB1cmVKYXZhU2NyaXB0fHwhYS51dGlsLmlzTm9kZWpzJiYhYyl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8dm9pZCAwPT09d2luZG93LmRvY3VtZW50LG8uY29sbGVjdEludCgrbmV3IERhdGUsMzIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3Ipe3ZhciBsPVwiXCI7Zm9yKHZhciBwIGluIG5hdmlnYXRvcil0cnl7XCJzdHJpbmdcIj09dHlwZW9mIG5hdmlnYXRvcltwXSYmKGwrPW5hdmlnYXRvcltwXSl9Y2F0Y2goZSl7fW8uY29sbGVjdChsKSxsPW51bGx9dCYmKHQoKS5tb3VzZW1vdmUoZnVuY3Rpb24oZSl7by5jb2xsZWN0SW50KGUuY2xpZW50WCwxNiksby5jb2xsZWN0SW50KGUuY2xpZW50WSwxNil9KSx0KCkua2V5cHJlc3MoZnVuY3Rpb24oZSl7by5jb2xsZWN0SW50KGUuY2hhckNvZGUsOCl9KSl9aWYoYS5yYW5kb20pZm9yKHZhciBwIGluIG8pYS5yYW5kb21bcF09b1twXTtlbHNlIGEucmFuZG9tPW87YS5yYW5kb20uY3JlYXRlSW5zdGFuY2U9cixlLmV4cG9ydHM9YS5yYW5kb219KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBqUXVlcnk/alF1ZXJ5Om51bGwpfSgpfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gYShlLHQscil7aWYocj50KXt2YXIgYT1uZXcgRXJyb3IoXCJUb28gZmV3IGJ5dGVzIHRvIHBhcnNlIERFUi5cIik7dGhyb3cgYS5hdmFpbGFibGU9ZS5sZW5ndGgoKSxhLnJlbWFpbmluZz10LGEucmVxdWVzdGVkPXIsYX19ZnVuY3Rpb24gbihlLHQscixpKXt2YXIgYzthKGUsdCwyKTt2YXIgdT1lLmdldEJ5dGUoKTt0LS07dmFyIGw9MTkyJnUscD0zMSZ1O2M9ZS5sZW5ndGgoKTt2YXIgaD1vKGUsdCk7aWYodC09Yy1lLmxlbmd0aCgpLHZvaWQgMCE9PWgmJmg+dCl7aWYoaS5zdHJpY3Qpe3ZhciBmPW5ldyBFcnJvcihcIlRvbyBmZXcgYnl0ZXMgdG8gcmVhZCBBU04uMSB2YWx1ZS5cIik7dGhyb3cgZi5hdmFpbGFibGU9ZS5sZW5ndGgoKSxmLnJlbWFpbmluZz10LGYucmVxdWVzdGVkPWgsZn1oPXR9dmFyIGQseSxnPTMyPT09KDMyJnUpO2lmKGcpaWYoZD1bXSx2b2lkIDA9PT1oKWZvcig7Oyl7aWYoYShlLHQsMiksZS5ieXRlcygyKT09PVN0cmluZy5mcm9tQ2hhckNvZGUoMCwwKSl7ZS5nZXRCeXRlcygyKSx0LT0yO2JyZWFrfWM9ZS5sZW5ndGgoKSxkLnB1c2gobihlLHQscisxLGkpKSx0LT1jLWUubGVuZ3RoKCl9ZWxzZSBmb3IoO2g+MDspYz1lLmxlbmd0aCgpLGQucHVzaChuKGUsaCxyKzEsaSkpLHQtPWMtZS5sZW5ndGgoKSxoLT1jLWUubGVuZ3RoKCk7aWYodm9pZCAwPT09ZCYmbD09PXMuQ2xhc3MuVU5JVkVSU0FMJiZwPT09cy5UeXBlLkJJVFNUUklORyYmKHk9ZS5ieXRlcyhoKSksdm9pZCAwPT09ZCYmaS5kZWNvZGVCaXRTdHJpbmdzJiZsPT09cy5DbGFzcy5VTklWRVJTQUwmJnA9PT1zLlR5cGUuQklUU1RSSU5HJiZoPjEpe3ZhciB2PWUucmVhZCxtPXQsQz0wO2lmKHA9PT1zLlR5cGUuQklUU1RSSU5HJiYoYShlLHQsMSksQz1lLmdldEJ5dGUoKSx0LS0pLDA9PT1DKXRyeXtjPWUubGVuZ3RoKCk7dmFyIEU9e3ZlcmJvc2U6aS52ZXJib3NlLHN0cmljdDohMCxkZWNvZGVCaXRTdHJpbmdzOiEwfSxTPW4oZSx0LHIrMSxFKSxUPWMtZS5sZW5ndGgoKTt0LT1ULHA9PXMuVHlwZS5CSVRTVFJJTkcmJlQrKzt2YXIgST1TLnRhZ0NsYXNzO1QhPT1ofHxJIT09cy5DbGFzcy5VTklWRVJTQUwmJkkhPT1zLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUN8fChkPVtTXSl9Y2F0Y2goZSl7fXZvaWQgMD09PWQmJihlLnJlYWQ9dix0PW0pfWlmKHZvaWQgMD09PWQpe2lmKHZvaWQgMD09PWgpe2lmKGkuc3RyaWN0KXRocm93IG5ldyBFcnJvcihcIk5vbi1jb25zdHJ1Y3RlZCBBU04uMSBvYmplY3Qgb2YgaW5kZWZpbml0ZSBsZW5ndGguXCIpO2g9dH1pZihwPT09cy5UeXBlLkJNUFNUUklORylmb3IoZD1cIlwiO2g+MDtoLT0yKWEoZSx0LDIpLGQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZS5nZXRJbnQxNigpKSx0LT0yO2Vsc2UgZD1lLmdldEJ5dGVzKGgpfXZhciBBPXZvaWQgMD09PXk/bnVsbDp7Yml0U3RyaW5nQ29udGVudHM6eX07cmV0dXJuIHMuY3JlYXRlKGwscCxnLGQsQSl9dmFyIGk9cigwKTtyKDEpLHIoNik7dmFyIHM9ZS5leHBvcnRzPWkuYXNuMT1pLmFzbjF8fHt9O3MuQ2xhc3M9e1VOSVZFUlNBTDowLEFQUExJQ0FUSU9OOjY0LENPTlRFWFRfU1BFQ0lGSUM6MTI4LFBSSVZBVEU6MTkyfSxzLlR5cGU9e05PTkU6MCxCT09MRUFOOjEsSU5URUdFUjoyLEJJVFNUUklORzozLE9DVEVUU1RSSU5HOjQsTlVMTDo1LE9JRDo2LE9ERVNDOjcsRVhURVJOQUw6OCxSRUFMOjksRU5VTUVSQVRFRDoxMCxFTUJFRERFRDoxMSxVVEY4OjEyLFJPSUQ6MTMsU0VRVUVOQ0U6MTYsU0VUOjE3LFBSSU5UQUJMRVNUUklORzoxOSxJQTVTVFJJTkc6MjIsVVRDVElNRToyMyxHRU5FUkFMSVpFRFRJTUU6MjQsQk1QU1RSSU5HOjMwfSxzLmNyZWF0ZT1mdW5jdGlvbihlLHQscixhLG4pe2lmKGkudXRpbC5pc0FycmF5KGEpKXtmb3IodmFyIG89W10sYz0wO2M8YS5sZW5ndGg7KytjKXZvaWQgMCE9PWFbY10mJm8ucHVzaChhW2NdKTthPW99dmFyIHU9e3RhZ0NsYXNzOmUsdHlwZTp0LGNvbnN0cnVjdGVkOnIsY29tcG9zZWQ6cnx8aS51dGlsLmlzQXJyYXkoYSksdmFsdWU6YX07cmV0dXJuIG4mJlwiYml0U3RyaW5nQ29udGVudHNcImluIG4mJih1LmJpdFN0cmluZ0NvbnRlbnRzPW4uYml0U3RyaW5nQ29udGVudHMsdS5vcmlnaW5hbD1zLmNvcHkodSkpLHV9LHMuY29weT1mdW5jdGlvbihlLHQpe3ZhciByO2lmKGkudXRpbC5pc0FycmF5KGUpKXtyPVtdO2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7KythKXIucHVzaChzLmNvcHkoZVthXSx0KSk7cmV0dXJuIHJ9cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZToocj17dGFnQ2xhc3M6ZS50YWdDbGFzcyx0eXBlOmUudHlwZSxjb25zdHJ1Y3RlZDplLmNvbnN0cnVjdGVkLGNvbXBvc2VkOmUuY29tcG9zZWQsdmFsdWU6cy5jb3B5KGUudmFsdWUsdCl9LHQmJiF0LmV4Y2x1ZGVCaXRTdHJpbmdDb250ZW50cyYmKHIuYml0U3RyaW5nQ29udGVudHM9ZS5iaXRTdHJpbmdDb250ZW50cykscil9LHMuZXF1YWxzPWZ1bmN0aW9uKGUsdCxyKXtpZihpLnV0aWwuaXNBcnJheShlKSl7aWYoIWkudXRpbC5pc0FycmF5KHQpKXJldHVybiExO2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDsrK2EpcmV0dXJuISFzLmVxdWFscyhlW2FdLHRbYV0pfWlmKHR5cGVvZiBlIT10eXBlb2YgdClyZXR1cm4hMTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZT09PXQ7dmFyIG49ZS50YWdDbGFzcz09PXQudGFnQ2xhc3MmJmUudHlwZT09PXQudHlwZSYmZS5jb25zdHJ1Y3RlZD09PXQuY29uc3RydWN0ZWQmJmUuY29tcG9zZWQ9PT10LmNvbXBvc2VkJiZzLmVxdWFscyhlLnZhbHVlLHQudmFsdWUpO3JldHVybiByJiZyLmluY2x1ZGVCaXRTdHJpbmdDb250ZW50cyYmKG49biYmZS5iaXRTdHJpbmdDb250ZW50cz09PXQuYml0U3RyaW5nQ29udGVudHMpLG59LHMuZ2V0QmVyVmFsdWVMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRCeXRlKCk7aWYoMTI4IT09dCl7dmFyIHIsYT0xMjgmdDtyZXR1cm4gcj1hP2UuZ2V0SW50KCgxMjcmdCk8PDMpOnR9fTt2YXIgbz1mdW5jdGlvbihlLHQpe3ZhciByPWUuZ2V0Qnl0ZSgpO2lmKHQtLSwxMjghPT1yKXt2YXIgbixpPTEyOCZyO2lmKGkpe3ZhciBzPTEyNyZyO2EoZSx0LHMpLG49ZS5nZXRJbnQoczw8Myl9ZWxzZSBuPXI7aWYobjwwKXRocm93IG5ldyBFcnJvcihcIk5lZ2F0aXZlIGxlbmd0aDogXCIrbik7cmV0dXJuIG59fTtzLmZyb21EZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e3N0cmljdDohMCxkZWNvZGVCaXRTdHJpbmdzOiEwfSksXCJib29sZWFuXCI9PXR5cGVvZiB0JiYodD17c3RyaWN0OnQsZGVjb2RlQml0U3RyaW5nczohMH0pLFwic3RyaWN0XCJpbiB0fHwodC5zdHJpY3Q9ITApLFwiZGVjb2RlQml0U3RyaW5nc1wiaW4gdHx8KHQuZGVjb2RlQml0U3RyaW5ncz0hMCksXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWkudXRpbC5jcmVhdGVCdWZmZXIoZSkpLG4oZSxlLmxlbmd0aCgpLDAsdCl9LHMudG9EZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9aS51dGlsLmNyZWF0ZUJ1ZmZlcigpLHI9ZS50YWdDbGFzc3xlLnR5cGUsYT1pLnV0aWwuY3JlYXRlQnVmZmVyKCksbj0hMTtpZihcImJpdFN0cmluZ0NvbnRlbnRzXCJpbiBlJiYobj0hMCxlLm9yaWdpbmFsJiYobj1zLmVxdWFscyhlLGUub3JpZ2luYWwpKSksbilhLnB1dEJ5dGVzKGUuYml0U3RyaW5nQ29udGVudHMpO2Vsc2UgaWYoZS5jb21wb3NlZCl7ZS5jb25zdHJ1Y3RlZD9yfD0zMjphLnB1dEJ5dGUoMCk7Zm9yKHZhciBvPTA7bzxlLnZhbHVlLmxlbmd0aDsrK28pdm9pZCAwIT09ZS52YWx1ZVtvXSYmYS5wdXRCdWZmZXIocy50b0RlcihlLnZhbHVlW29dKSl9ZWxzZSBpZihlLnR5cGU9PT1zLlR5cGUuQk1QU1RSSU5HKWZvcih2YXIgbz0wO288ZS52YWx1ZS5sZW5ndGg7KytvKWEucHV0SW50MTYoZS52YWx1ZS5jaGFyQ29kZUF0KG8pKTtlbHNlIGUudHlwZT09PXMuVHlwZS5JTlRFR0VSJiZlLnZhbHVlLmxlbmd0aD4xJiYoMD09PWUudmFsdWUuY2hhckNvZGVBdCgwKSYmMD09PSgxMjgmZS52YWx1ZS5jaGFyQ29kZUF0KDEpKXx8MjU1PT09ZS52YWx1ZS5jaGFyQ29kZUF0KDApJiYxMjg9PT0oMTI4JmUudmFsdWUuY2hhckNvZGVBdCgxKSkpP2EucHV0Qnl0ZXMoZS52YWx1ZS5zdWJzdHIoMSkpOmEucHV0Qnl0ZXMoZS52YWx1ZSk7aWYodC5wdXRCeXRlKHIpLGEubGVuZ3RoKCk8PTEyNyl0LnB1dEJ5dGUoMTI3JmEubGVuZ3RoKCkpO2Vsc2V7dmFyIGM9YS5sZW5ndGgoKSx1PVwiXCI7ZG8gdSs9U3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmYyksYz4+Pj04O3doaWxlKGM+MCk7dC5wdXRCeXRlKDEyOHx1Lmxlbmd0aCk7Zm9yKHZhciBvPXUubGVuZ3RoLTE7bz49MDstLW8pdC5wdXRCeXRlKHUuY2hhckNvZGVBdChvKSl9cmV0dXJuIHQucHV0QnVmZmVyKGEpLHR9LHMub2lkVG9EZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIi5cIikscj1pLnV0aWwuY3JlYXRlQnVmZmVyKCk7ci5wdXRCeXRlKDQwKnBhcnNlSW50KHRbMF0sMTApK3BhcnNlSW50KHRbMV0sMTApKTtmb3IodmFyIGEsbixzLG8sYz0yO2M8dC5sZW5ndGg7KytjKXthPSEwLG49W10scz1wYXJzZUludCh0W2NdLDEwKTtkbyBvPTEyNyZzLHM+Pj49NyxhfHwob3w9MTI4KSxuLnB1c2gobyksYT0hMTt3aGlsZShzPjApO2Zvcih2YXIgdT1uLmxlbmd0aC0xO3U+PTA7LS11KXIucHV0Qnl0ZShuW3VdKX1yZXR1cm4gcn0scy5kZXJUb09pZD1mdW5jdGlvbihlKXt2YXIgdDtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9aS51dGlsLmNyZWF0ZUJ1ZmZlcihlKSk7dmFyIHI9ZS5nZXRCeXRlKCk7dD1NYXRoLmZsb29yKHIvNDApK1wiLlwiK3IlNDA7Zm9yKHZhciBhPTA7ZS5sZW5ndGgoKT4wOylyPWUuZ2V0Qnl0ZSgpLFxuYTw8PTcsMTI4JnI/YSs9MTI3JnI6KHQrPVwiLlwiKyhhK3IpLGE9MCk7cmV0dXJuIHR9LHMudXRjVGltZVRvRGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZSxyPXBhcnNlSW50KGUuc3Vic3RyKDAsMiksMTApO3I9cj49NTA/MTkwMCtyOjJlMytyO3ZhciBhPXBhcnNlSW50KGUuc3Vic3RyKDIsMiksMTApLTEsbj1wYXJzZUludChlLnN1YnN0cig0LDIpLDEwKSxpPXBhcnNlSW50KGUuc3Vic3RyKDYsMiksMTApLHM9cGFyc2VJbnQoZS5zdWJzdHIoOCwyKSwxMCksbz0wO2lmKGUubGVuZ3RoPjExKXt2YXIgYz1lLmNoYXJBdCgxMCksdT0xMDtcIitcIiE9PWMmJlwiLVwiIT09YyYmKG89cGFyc2VJbnQoZS5zdWJzdHIoMTAsMiksMTApLHUrPTIpfWlmKHQuc2V0VVRDRnVsbFllYXIocixhLG4pLHQuc2V0VVRDSG91cnMoaSxzLG8sMCksdSYmKGM9ZS5jaGFyQXQodSksXCIrXCI9PT1jfHxcIi1cIj09PWMpKXt2YXIgbD1wYXJzZUludChlLnN1YnN0cih1KzEsMiksMTApLHA9cGFyc2VJbnQoZS5zdWJzdHIodSs0LDIpLDEwKSxoPTYwKmwrcDtoKj02ZTQsXCIrXCI9PT1jP3Quc2V0VGltZSgrdC1oKTp0LnNldFRpbWUoK3QraCl9cmV0dXJuIHR9LHMuZ2VuZXJhbGl6ZWRUaW1lVG9EYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRlLHI9cGFyc2VJbnQoZS5zdWJzdHIoMCw0KSwxMCksYT1wYXJzZUludChlLnN1YnN0cig0LDIpLDEwKS0xLG49cGFyc2VJbnQoZS5zdWJzdHIoNiwyKSwxMCksaT1wYXJzZUludChlLnN1YnN0cig4LDIpLDEwKSxzPXBhcnNlSW50KGUuc3Vic3RyKDEwLDIpLDEwKSxvPXBhcnNlSW50KGUuc3Vic3RyKDEyLDIpLDEwKSxjPTAsdT0wLGw9ITE7XCJaXCI9PT1lLmNoYXJBdChlLmxlbmd0aC0xKSYmKGw9ITApO3ZhciBwPWUubGVuZ3RoLTUsaD1lLmNoYXJBdChwKTtpZihcIitcIj09PWh8fFwiLVwiPT09aCl7dmFyIGY9cGFyc2VJbnQoZS5zdWJzdHIocCsxLDIpLDEwKSxkPXBhcnNlSW50KGUuc3Vic3RyKHArNCwyKSwxMCk7dT02MCpmK2QsdSo9NmU0LFwiK1wiPT09aCYmKHUqPS0xKSxsPSEwfXJldHVyblwiLlwiPT09ZS5jaGFyQXQoMTQpJiYoYz0xZTMqcGFyc2VGbG9hdChlLnN1YnN0cigxNCksMTApKSxsPyh0LnNldFVUQ0Z1bGxZZWFyKHIsYSxuKSx0LnNldFVUQ0hvdXJzKGkscyxvLGMpLHQuc2V0VGltZSgrdCt1KSk6KHQuc2V0RnVsbFllYXIocixhLG4pLHQuc2V0SG91cnMoaSxzLG8sYykpLHR9LHMuZGF0ZVRvVXRjVGltZT1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZTt2YXIgdD1cIlwiLHI9W107ci5wdXNoKChcIlwiK2UuZ2V0VVRDRnVsbFllYXIoKSkuc3Vic3RyKDIpKSxyLnB1c2goXCJcIisoZS5nZXRVVENNb250aCgpKzEpKSxyLnB1c2goXCJcIitlLmdldFVUQ0RhdGUoKSksci5wdXNoKFwiXCIrZS5nZXRVVENIb3VycygpKSxyLnB1c2goXCJcIitlLmdldFVUQ01pbnV0ZXMoKSksci5wdXNoKFwiXCIrZS5nZXRVVENTZWNvbmRzKCkpO2Zvcih2YXIgYT0wO2E8ci5sZW5ndGg7KythKXJbYV0ubGVuZ3RoPDImJih0Kz1cIjBcIiksdCs9clthXTtyZXR1cm4gdCs9XCJaXCJ9LHMuZGF0ZVRvR2VuZXJhbGl6ZWRUaW1lPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBlO3ZhciB0PVwiXCIscj1bXTtyLnB1c2goXCJcIitlLmdldFVUQ0Z1bGxZZWFyKCkpLHIucHVzaChcIlwiKyhlLmdldFVUQ01vbnRoKCkrMSkpLHIucHVzaChcIlwiK2UuZ2V0VVRDRGF0ZSgpKSxyLnB1c2goXCJcIitlLmdldFVUQ0hvdXJzKCkpLHIucHVzaChcIlwiK2UuZ2V0VVRDTWludXRlcygpKSxyLnB1c2goXCJcIitlLmdldFVUQ1NlY29uZHMoKSk7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDsrK2EpclthXS5sZW5ndGg8MiYmKHQrPVwiMFwiKSx0Kz1yW2FdO3JldHVybiB0Kz1cIlpcIn0scy5pbnRlZ2VyVG9EZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9aS51dGlsLmNyZWF0ZUJ1ZmZlcigpO2lmKGU+PS0xMjgmJmU8MTI4KXJldHVybiB0LnB1dFNpZ25lZEludChlLDgpO2lmKGU+PS0zMjc2OCYmZTwzMjc2OClyZXR1cm4gdC5wdXRTaWduZWRJbnQoZSwxNik7aWYoZT49LTgzODg2MDgmJmU8ODM4ODYwOClyZXR1cm4gdC5wdXRTaWduZWRJbnQoZSwyNCk7aWYoZT49LTIxNDc0ODM2NDgmJmU8MjE0NzQ4MzY0OClyZXR1cm4gdC5wdXRTaWduZWRJbnQoZSwzMik7dmFyIHI9bmV3IEVycm9yKFwiSW50ZWdlciB0b28gbGFyZ2U7IG1heCBpcyAzMi1iaXRzLlwiKTt0aHJvdyByLmludGVnZXI9ZSxyfSxzLmRlclRvSW50ZWdlcj1mdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9aS51dGlsLmNyZWF0ZUJ1ZmZlcihlKSk7dmFyIHQ9OCplLmxlbmd0aCgpO2lmKHQ+MzIpdGhyb3cgbmV3IEVycm9yKFwiSW50ZWdlciB0b28gbGFyZ2U7IG1heCBpcyAzMi1iaXRzLlwiKTtyZXR1cm4gZS5nZXRTaWduZWRJbnQodCl9LHMudmFsaWRhdGU9ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIG49ITE7aWYoZS50YWdDbGFzcyE9PXQudGFnQ2xhc3MmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnRhZ0NsYXNzfHxlLnR5cGUhPT10LnR5cGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnR5cGUpYSYmKGUudGFnQ2xhc3MhPT10LnRhZ0NsYXNzJiZhLnB1c2goXCJbXCIrdC5uYW1lKyddIEV4cGVjdGVkIHRhZyBjbGFzcyBcIicrdC50YWdDbGFzcysnXCIsIGdvdCBcIicrZS50YWdDbGFzcysnXCInKSxlLnR5cGUhPT10LnR5cGUmJmEucHVzaChcIltcIit0Lm5hbWUrJ10gRXhwZWN0ZWQgdHlwZSBcIicrdC50eXBlKydcIiwgZ290IFwiJytlLnR5cGUrJ1wiJykpO2Vsc2UgaWYoZS5jb25zdHJ1Y3RlZD09PXQuY29uc3RydWN0ZWR8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0LmNvbnN0cnVjdGVkKXtpZihuPSEwLHQudmFsdWUmJmkudXRpbC5pc0FycmF5KHQudmFsdWUpKWZvcih2YXIgbz0wLGM9MDtuJiZjPHQudmFsdWUubGVuZ3RoOysrYyluPXQudmFsdWVbY10ub3B0aW9uYWx8fCExLGUudmFsdWVbb10mJihuPXMudmFsaWRhdGUoZS52YWx1ZVtvXSx0LnZhbHVlW2NdLHIsYSksbj8rK286dC52YWx1ZVtjXS5vcHRpb25hbCYmKG49ITApKSwhbiYmYSYmYS5wdXNoKFwiW1wiK3QubmFtZSsnXSBUYWcgY2xhc3MgXCInK3QudGFnQ2xhc3MrJ1wiLCB0eXBlIFwiJyt0LnR5cGUrJ1wiIGV4cGVjdGVkIHZhbHVlIGxlbmd0aCBcIicrdC52YWx1ZS5sZW5ndGgrJ1wiLCBnb3QgXCInK2UudmFsdWUubGVuZ3RoKydcIicpO2lmKG4mJnImJih0LmNhcHR1cmUmJihyW3QuY2FwdHVyZV09ZS52YWx1ZSksdC5jYXB0dXJlQXNuMSYmKHJbdC5jYXB0dXJlQXNuMV09ZSksdC5jYXB0dXJlQml0U3RyaW5nQ29udGVudHMmJlwiYml0U3RyaW5nQ29udGVudHNcImluIGUmJihyW3QuY2FwdHVyZUJpdFN0cmluZ0NvbnRlbnRzXT1lLmJpdFN0cmluZ0NvbnRlbnRzKSx0LmNhcHR1cmVCaXRTdHJpbmdWYWx1ZSYmXCJiaXRTdHJpbmdDb250ZW50c1wiaW4gZSkpe2lmKGUuYml0U3RyaW5nQ29udGVudHMubGVuZ3RoPDIpclt0LmNhcHR1cmVCaXRTdHJpbmdWYWx1ZV09XCJcIjtlbHNle3ZhciB1PWUuYml0U3RyaW5nQ29udGVudHMuY2hhckNvZGVBdCgwKTtpZigwIT09dSl0aHJvdyBuZXcgRXJyb3IoXCJjYXB0dXJlQml0U3RyaW5nVmFsdWUgb25seSBzdXBwb3J0ZWQgZm9yIHplcm8gdW51c2VkIGJpdHNcIik7clt0LmNhcHR1cmVCaXRTdHJpbmdWYWx1ZV09ZS5iaXRTdHJpbmdDb250ZW50cy5zbGljZSgxKX19fWVsc2UgYSYmYS5wdXNoKFwiW1wiK3QubmFtZSsnXSBFeHBlY3RlZCBjb25zdHJ1Y3RlZCBcIicrdC5jb25zdHJ1Y3RlZCsnXCIsIGdvdCBcIicrZS5jb25zdHJ1Y3RlZCsnXCInKTtyZXR1cm4gbn07dmFyIGM9L1teXFxcXHUwMDAwLVxcXFx1MDBmZl0vO3MucHJldHR5UHJpbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPVwiXCI7dD10fHwwLHI9cnx8Mix0PjAmJihhKz1cIlxcblwiKTtmb3IodmFyIG49XCJcIixvPTA7bzx0KnI7KytvKW4rPVwiIFwiO3N3aXRjaChhKz1uK1wiVGFnOiBcIixlLnRhZ0NsYXNzKXtjYXNlIHMuQ2xhc3MuVU5JVkVSU0FMOmErPVwiVW5pdmVyc2FsOlwiO2JyZWFrO2Nhc2Ugcy5DbGFzcy5BUFBMSUNBVElPTjphKz1cIkFwcGxpY2F0aW9uOlwiO2JyZWFrO2Nhc2Ugcy5DbGFzcy5DT05URVhUX1NQRUNJRklDOmErPVwiQ29udGV4dC1TcGVjaWZpYzpcIjticmVhaztjYXNlIHMuQ2xhc3MuUFJJVkFURTphKz1cIlByaXZhdGU6XCJ9aWYoZS50YWdDbGFzcz09PXMuQ2xhc3MuVU5JVkVSU0FMKXN3aXRjaChhKz1lLnR5cGUsZS50eXBlKXtjYXNlIHMuVHlwZS5OT05FOmErPVwiIChOb25lKVwiO2JyZWFrO2Nhc2Ugcy5UeXBlLkJPT0xFQU46YSs9XCIgKEJvb2xlYW4pXCI7YnJlYWs7Y2FzZSBzLlR5cGUuSU5URUdFUjphKz1cIiAoSW50ZWdlcilcIjticmVhaztjYXNlIHMuVHlwZS5CSVRTVFJJTkc6YSs9XCIgKEJpdCBzdHJpbmcpXCI7YnJlYWs7Y2FzZSBzLlR5cGUuT0NURVRTVFJJTkc6YSs9XCIgKE9jdGV0IHN0cmluZylcIjticmVhaztjYXNlIHMuVHlwZS5OVUxMOmErPVwiIChOdWxsKVwiO2JyZWFrO2Nhc2Ugcy5UeXBlLk9JRDphKz1cIiAoT2JqZWN0IElkZW50aWZpZXIpXCI7YnJlYWs7Y2FzZSBzLlR5cGUuT0RFU0M6YSs9XCIgKE9iamVjdCBEZXNjcmlwdG9yKVwiO2JyZWFrO2Nhc2Ugcy5UeXBlLkVYVEVSTkFMOmErPVwiIChFeHRlcm5hbCBvciBJbnN0YW5jZSBvZilcIjticmVhaztjYXNlIHMuVHlwZS5SRUFMOmErPVwiIChSZWFsKVwiO2JyZWFrO2Nhc2Ugcy5UeXBlLkVOVU1FUkFURUQ6YSs9XCIgKEVudW1lcmF0ZWQpXCI7YnJlYWs7Y2FzZSBzLlR5cGUuRU1CRURERUQ6YSs9XCIgKEVtYmVkZGVkIFBEVilcIjticmVhaztjYXNlIHMuVHlwZS5VVEY4OmErPVwiIChVVEY4KVwiO2JyZWFrO2Nhc2Ugcy5UeXBlLlJPSUQ6YSs9XCIgKFJlbGF0aXZlIE9iamVjdCBJZGVudGlmaWVyKVwiO2JyZWFrO2Nhc2Ugcy5UeXBlLlNFUVVFTkNFOmErPVwiIChTZXF1ZW5jZSlcIjticmVhaztjYXNlIHMuVHlwZS5TRVQ6YSs9XCIgKFNldClcIjticmVhaztjYXNlIHMuVHlwZS5QUklOVEFCTEVTVFJJTkc6YSs9XCIgKFByaW50YWJsZSBTdHJpbmcpXCI7YnJlYWs7Y2FzZSBzLlR5cGUuSUE1U3RyaW5nOmErPVwiIChJQTVTdHJpbmcgKEFTQ0lJKSlcIjticmVhaztjYXNlIHMuVHlwZS5VVENUSU1FOmErPVwiIChVVEMgdGltZSlcIjticmVhaztjYXNlIHMuVHlwZS5HRU5FUkFMSVpFRFRJTUU6YSs9XCIgKEdlbmVyYWxpemVkIHRpbWUpXCI7YnJlYWs7Y2FzZSBzLlR5cGUuQk1QU1RSSU5HOmErPVwiIChCTVAgU3RyaW5nKVwifWVsc2UgYSs9ZS50eXBlO2lmKGErPVwiXFxuXCIsYSs9bitcIkNvbnN0cnVjdGVkOiBcIitlLmNvbnN0cnVjdGVkK1wiXFxuXCIsZS5jb21wb3NlZCl7Zm9yKHZhciB1PTAsbD1cIlwiLG89MDtvPGUudmFsdWUubGVuZ3RoOysrbyl2b2lkIDAhPT1lLnZhbHVlW29dJiYodSs9MSxsKz1zLnByZXR0eVByaW50KGUudmFsdWVbb10sdCsxLHIpLG8rMTxlLnZhbHVlLmxlbmd0aCYmKGwrPVwiLFwiKSk7YSs9bitcIlN1YiB2YWx1ZXM6IFwiK3UrbH1lbHNle2lmKGErPW4rXCJWYWx1ZTogXCIsZS50eXBlPT09cy5UeXBlLk9JRCl7dmFyIHA9cy5kZXJUb09pZChlLnZhbHVlKTthKz1wLGkucGtpJiZpLnBraS5vaWRzJiZwIGluIGkucGtpLm9pZHMmJihhKz1cIiAoXCIraS5wa2kub2lkc1twXStcIikgXCIpfWlmKGUudHlwZT09PXMuVHlwZS5JTlRFR0VSKXRyeXthKz1zLmRlclRvSW50ZWdlcihlLnZhbHVlKX1jYXRjaCh0KXthKz1cIjB4XCIraS51dGlsLmJ5dGVzVG9IZXgoZS52YWx1ZSl9ZWxzZSBpZihlLnR5cGU9PT1zLlR5cGUuQklUU1RSSU5HKXtpZihhKz1lLnZhbHVlLmxlbmd0aD4xP1wiMHhcIitpLnV0aWwuYnl0ZXNUb0hleChlLnZhbHVlLnNsaWNlKDEpKTpcIihub25lKVwiLGUudmFsdWUubGVuZ3RoPjApe3ZhciBoPWUudmFsdWUuY2hhckNvZGVBdCgwKTsxPT1oP2ErPVwiICgxIHVudXNlZCBiaXQgc2hvd24pXCI6aD4xJiYoYSs9XCIgKFwiK2grXCIgdW51c2VkIGJpdHMgc2hvd24pXCIpfX1lbHNlIGUudHlwZT09PXMuVHlwZS5PQ1RFVFNUUklORz8oYy50ZXN0KGUudmFsdWUpfHwoYSs9XCIoXCIrZS52YWx1ZStcIikgXCIpLGErPVwiMHhcIitpLnV0aWwuYnl0ZXNUb0hleChlLnZhbHVlKSk6YSs9ZS50eXBlPT09cy5UeXBlLlVURjg/aS51dGlsLmRlY29kZVV0ZjgoZS52YWx1ZSk6ZS50eXBlPT09cy5UeXBlLlBSSU5UQUJMRVNUUklOR3x8ZS50eXBlPT09cy5UeXBlLklBNVN0cmluZz9lLnZhbHVlOmMudGVzdChlLnZhbHVlKT9cIjB4XCIraS51dGlsLmJ5dGVzVG9IZXgoZS52YWx1ZSk6MD09PWUudmFsdWUubGVuZ3RoP1wiW251bGxdXCI6ZS52YWx1ZX1yZXR1cm4gYX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yKDApO2UuZXhwb3J0cz1hLm1kPWEubWR8fHt9LGEubWQuYWxnb3JpdGhtcz1hLm1kLmFsZ29yaXRobXN8fHt9fSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gYShlLHQpe3ZhciByPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjLmFlcy5BbGdvcml0aG0oZSx0KX07Yy5jaXBoZXIucmVnaXN0ZXJBbGdvcml0aG0oZSxyKX1mdW5jdGlvbiBuKCl7ZD0hMCxwPVswLDEsMiw0LDgsMTYsMzIsNjQsMTI4LDI3LDU0XTtmb3IodmFyIGU9bmV3IEFycmF5KDI1NiksdD0wO3Q8MTI4OysrdCllW3RdPXQ8PDEsZVt0KzEyOF09dCsxMjg8PDFeMjgzO3U9bmV3IEFycmF5KDI1NiksbD1uZXcgQXJyYXkoMjU2KSxoPW5ldyBBcnJheSg0KSxmPW5ldyBBcnJheSg0KTtmb3IodmFyIHQ9MDt0PDQ7Kyt0KWhbdF09bmV3IEFycmF5KDI1NiksZlt0XT1uZXcgQXJyYXkoMjU2KTtmb3IodmFyIHIsYSxuLGkscyxvLGMseT0wLGc9MCx0PTA7dDwyNTY7Kyt0KXtpPWdeZzw8MV5nPDwyXmc8PDNeZzw8NCxpPWk+PjheMjU1JmleOTksdVt5XT1pLGxbaV09eSxzPWVbaV0scj1lW3ldLGE9ZVtyXSxuPWVbYV0sbz1zPDwyNF5pPDwxNl5pPDw4XihpXnMpLGM9KHJeYV5uKTw8MjReKHlebik8PDE2Xih5XmFebik8PDheKHlecl5uKTtmb3IodmFyIHY9MDt2PDQ7Kyt2KWhbdl1beV09byxmW3ZdW2ldPWMsbz1vPDwyNHxvPj4+OCxjPWM8PDI0fGM+Pj44OzA9PT15P3k9Zz0xOih5PXJeZVtlW2Vbcl5uXV1dLGdePWVbZVtnXV0pfX1mdW5jdGlvbiBpKGUsdCl7Zm9yKHZhciByLGE9ZS5zbGljZSgwKSxuPTEsaT1hLmxlbmd0aCxzPWkrNisxLG89eSpzLGM9aTtjPG87KytjKXI9YVtjLTFdLGMlaT09PTA/KHI9dVtyPj4+MTYmMjU1XTw8MjRedVtyPj4+OCYyNTVdPDwxNl51WzI1NSZyXTw8OF51W3I+Pj4yNF1ecFtuXTw8MjQsbisrKTppPjYmJmMlaT09PTQmJihyPXVbcj4+PjI0XTw8MjRedVtyPj4+MTYmMjU1XTw8MTZedVtyPj4+OCYyNTVdPDw4XnVbMjU1JnJdKSxhW2NdPWFbYy1pXV5yO2lmKHQpe3ZhciBsLGg9ZlswXSxkPWZbMV0sZz1mWzJdLHY9ZlszXSxtPWEuc2xpY2UoMCk7bz1hLmxlbmd0aDtmb3IodmFyIGM9MCxDPW8teTtjPG87Yys9eSxDLT15KWlmKDA9PT1jfHxjPT09by15KW1bY109YVtDXSxtW2MrMV09YVtDKzNdLG1bYysyXT1hW0MrMl0sbVtjKzNdPWFbQysxXTtlbHNlIGZvcih2YXIgRT0wO0U8eTsrK0UpbD1hW0MrRV0sbVtjKygzJi1FKV09aFt1W2w+Pj4yNF1dXmRbdVtsPj4+MTYmMjU1XV1eZ1t1W2w+Pj44JjI1NV1dXnZbdVsyNTUmbF1dO2E9bX1yZXR1cm4gYX1mdW5jdGlvbiBzKGUsdCxyLGEpe3ZhciBuLGkscyxvLGMscD1lLmxlbmd0aC80LTE7YT8obj1mWzBdLGk9ZlsxXSxzPWZbMl0sbz1mWzNdLGM9bCk6KG49aFswXSxpPWhbMV0scz1oWzJdLG89aFszXSxjPXUpO3ZhciBkLHksZyx2LG0sQyxFO2Q9dFswXV5lWzBdLHk9dFthPzM6MV1eZVsxXSxnPXRbMl1eZVsyXSx2PXRbYT8xOjNdXmVbM107Zm9yKHZhciBTPTMsVD0xO1Q8cDsrK1QpbT1uW2Q+Pj4yNF1eaVt5Pj4+MTYmMjU1XV5zW2c+Pj44JjI1NV1eb1syNTUmdl1eZVsrK1NdLEM9blt5Pj4+MjRdXmlbZz4+PjE2JjI1NV1ec1t2Pj4+OCYyNTVdXm9bMjU1JmRdXmVbKytTXSxFPW5bZz4+PjI0XV5pW3Y+Pj4xNiYyNTVdXnNbZD4+PjgmMjU1XV5vWzI1NSZ5XV5lWysrU10sdj1uW3Y+Pj4yNF1eaVtkPj4+MTYmMjU1XV5zW3k+Pj44JjI1NV1eb1syNTUmZ11eZVsrK1NdLGQ9bSx5PUMsZz1FO3JbMF09Y1tkPj4+MjRdPDwyNF5jW3k+Pj4xNiYyNTVdPDwxNl5jW2c+Pj44JjI1NV08PDheY1syNTUmdl1eZVsrK1NdLHJbYT8zOjFdPWNbeT4+PjI0XTw8MjReY1tnPj4+MTYmMjU1XTw8MTZeY1t2Pj4+OCYyNTVdPDw4XmNbMjU1JmRdXmVbKytTXSxyWzJdPWNbZz4+PjI0XTw8MjReY1t2Pj4+MTYmMjU1XTw8MTZeY1tkPj4+OCYyNTVdPDw4XmNbMjU1JnldXmVbKytTXSxyW2E/MTozXT1jW3Y+Pj4yNF08PDI0XmNbZD4+PjE2JjI1NV08PDE2XmNbeT4+PjgmMjU1XTw8OF5jWzI1NSZnXV5lWysrU119ZnVuY3Rpb24gbyhlKXtlPWV8fHt9O3ZhciB0LHI9KGUubW9kZXx8XCJDQkNcIikudG9VcHBlckNhc2UoKSxhPVwiQUVTLVwiK3I7dD1lLmRlY3J5cHQ/Yy5jaXBoZXIuY3JlYXRlRGVjaXBoZXIoYSxlLmtleSk6Yy5jaXBoZXIuY3JlYXRlQ2lwaGVyKGEsZS5rZXkpO3ZhciBuPXQuc3RhcnQ7cmV0dXJuIHQuc3RhcnQ9ZnVuY3Rpb24oZSxyKXt2YXIgYT1udWxsO3IgaW5zdGFuY2VvZiBjLnV0aWwuQnl0ZUJ1ZmZlciYmKGE9cixyPXt9KSxyPXJ8fHt9LHIub3V0cHV0PWEsci5pdj1lLG4uY2FsbCh0LHIpfSx0fXZhciBjPXIoMCk7cigxMikscigxOCkscigxKSxlLmV4cG9ydHM9Yy5hZXM9Yy5hZXN8fHt9LGMuYWVzLnN0YXJ0RW5jcnlwdGluZz1mdW5jdGlvbihlLHQscixhKXt2YXIgbj1vKHtrZXk6ZSxvdXRwdXQ6cixkZWNyeXB0OiExLG1vZGU6YX0pO3JldHVybiBuLnN0YXJ0KHQpLG59LGMuYWVzLmNyZWF0ZUVuY3J5cHRpb25DaXBoZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh7a2V5OmUsb3V0cHV0Om51bGwsZGVjcnlwdDohMSxtb2RlOnR9KX0sYy5hZXMuc3RhcnREZWNyeXB0aW5nPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBuPW8oe2tleTplLG91dHB1dDpyLGRlY3J5cHQ6ITAsbW9kZTphfSk7cmV0dXJuIG4uc3RhcnQodCksbn0sYy5hZXMuY3JlYXRlRGVjcnlwdGlvbkNpcGhlcj1mdW5jdGlvbihlLHQpe3JldHVybiBvKHtrZXk6ZSxvdXRwdXQ6bnVsbCxkZWNyeXB0OiEwLG1vZGU6dH0pfSxjLmFlcy5BbGdvcml0aG09ZnVuY3Rpb24oZSx0KXtkfHxuKCk7dmFyIHI9dGhpcztyLm5hbWU9ZSxyLm1vZGU9bmV3IHQoe2Jsb2NrU2l6ZToxNixjaXBoZXI6e2VuY3J5cHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhyLl93LGUsdCwhMSl9LGRlY3J5cHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyhyLl93LGUsdCwhMCl9fX0pLHIuX2luaXQ9ITF9LGMuYWVzLkFsZ29yaXRobS5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihlKXtpZighdGhpcy5faW5pdCl7dmFyIHQscj1lLmtleTtpZihcInN0cmluZ1wiIT10eXBlb2Ygcnx8MTYhPT1yLmxlbmd0aCYmMjQhPT1yLmxlbmd0aCYmMzIhPT1yLmxlbmd0aCl7aWYoYy51dGlsLmlzQXJyYXkocikmJigxNj09PXIubGVuZ3RofHwyND09PXIubGVuZ3RofHwzMj09PXIubGVuZ3RoKSl7dD1yLHI9Yy51dGlsLmNyZWF0ZUJ1ZmZlcigpO2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7KythKXIucHV0Qnl0ZSh0W2FdKX19ZWxzZSByPWMudXRpbC5jcmVhdGVCdWZmZXIocik7aWYoIWMudXRpbC5pc0FycmF5KHIpKXt0PXIscj1bXTt2YXIgbj10Lmxlbmd0aCgpO2lmKDE2PT09bnx8MjQ9PT1ufHwzMj09PW4pe24+Pj49Mjtmb3IodmFyIGE9MDthPG47KythKXIucHVzaCh0LmdldEludDMyKCkpfX1pZighYy51dGlsLmlzQXJyYXkocil8fDQhPT1yLmxlbmd0aCYmNiE9PXIubGVuZ3RoJiY4IT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBrZXkgcGFyYW1ldGVyLlwiKTt2YXIgcz10aGlzLm1vZGUubmFtZSxvPVtcIkNGQlwiLFwiT0ZCXCIsXCJDVFJcIixcIkdDTVwiXS5pbmRleE9mKHMpIT09LTE7dGhpcy5fdz1pKHIsZS5kZWNyeXB0JiYhbyksdGhpcy5faW5pdD0hMH19LGMuYWVzLl9leHBhbmRLZXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZHx8bigpLGkoZSx0KX0sYy5hZXMuX3VwZGF0ZUJsb2NrPXMsYShcIkFFUy1FQ0JcIixjLmNpcGhlci5tb2Rlcy5lY2IpLGEoXCJBRVMtQ0JDXCIsYy5jaXBoZXIubW9kZXMuY2JjKSxhKFwiQUVTLUNGQlwiLGMuY2lwaGVyLm1vZGVzLmNmYiksYShcIkFFUy1PRkJcIixjLmNpcGhlci5tb2Rlcy5vZmIpLGEoXCJBRVMtQ1RSXCIsYy5jaXBoZXIubW9kZXMuY3RyKSxhKFwiQUVTLUdDTVwiLGMuY2lwaGVyLm1vZGVzLmdjbSk7dmFyIHUsbCxwLGgsZixkPSExLHk9NH0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGEoZSx0KXtzW2VdPXQsc1t0XT1lfWZ1bmN0aW9uIG4oZSx0KXtzW2VdPXR9dmFyIGk9cigwKTtpLnBraT1pLnBraXx8e307dmFyIHM9ZS5leHBvcnRzPWkucGtpLm9pZHM9aS5vaWRzPWkub2lkc3x8e307YShcIjEuMi44NDAuMTEzNTQ5LjEuMS4xXCIsXCJyc2FFbmNyeXB0aW9uXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjEuNFwiLFwibWQ1V2l0aFJTQUVuY3J5cHRpb25cIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuMS41XCIsXCJzaGExV2l0aFJTQUVuY3J5cHRpb25cIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuMS43XCIsXCJSU0FFUy1PQUVQXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjEuOFwiLFwibWdmMVwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS4xLjlcIixcInBTcGVjaWZpZWRcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuMS4xMFwiLFwiUlNBU1NBLVBTU1wiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS4xLjExXCIsXCJzaGEyNTZXaXRoUlNBRW5jcnlwdGlvblwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS4xLjEyXCIsXCJzaGEzODRXaXRoUlNBRW5jcnlwdGlvblwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS4xLjEzXCIsXCJzaGE1MTJXaXRoUlNBRW5jcnlwdGlvblwiKSxhKFwiMS4zLjE0LjMuMi43XCIsXCJkZXNDQkNcIiksYShcIjEuMy4xNC4zLjIuMjZcIixcInNoYTFcIiksYShcIjIuMTYuODQwLjEuMTAxLjMuNC4yLjFcIixcInNoYTI1NlwiKSxhKFwiMi4xNi44NDAuMS4xMDEuMy40LjIuMlwiLFwic2hhMzg0XCIpLGEoXCIyLjE2Ljg0MC4xLjEwMS4zLjQuMi4zXCIsXCJzaGE1MTJcIiksYShcIjEuMi44NDAuMTEzNTQ5LjIuNVwiLFwibWQ1XCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjcuMVwiLFwiZGF0YVwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS43LjJcIixcInNpZ25lZERhdGFcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuNy4zXCIsXCJlbnZlbG9wZWREYXRhXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjcuNFwiLFwic2lnbmVkQW5kRW52ZWxvcGVkRGF0YVwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS43LjVcIixcImRpZ2VzdGVkRGF0YVwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS43LjZcIixcImVuY3J5cHRlZERhdGFcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuOS4xXCIsXCJlbWFpbEFkZHJlc3NcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuOS4yXCIsXCJ1bnN0cnVjdHVyZWROYW1lXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjkuM1wiLFwiY29udGVudFR5cGVcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuOS40XCIsXCJtZXNzYWdlRGlnZXN0XCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjkuNVwiLFwic2lnbmluZ1RpbWVcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuOS42XCIsXCJjb3VudGVyU2lnbmF0dXJlXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjkuN1wiLFwiY2hhbGxlbmdlUGFzc3dvcmRcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuOS44XCIsXCJ1bnN0cnVjdHVyZWRBZGRyZXNzXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjkuMTRcIixcImV4dGVuc2lvblJlcXVlc3RcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuOS4yMFwiLFwiZnJpZW5kbHlOYW1lXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjkuMjFcIixcImxvY2FsS2V5SWRcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuOS4yMi4xXCIsXCJ4NTA5Q2VydGlmaWNhdGVcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuMTIuMTAuMS4xXCIsXCJrZXlCYWdcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuMTIuMTAuMS4yXCIsXCJwa2NzOFNocm91ZGVkS2V5QmFnXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjEyLjEwLjEuM1wiLFwiY2VydEJhZ1wiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS4xMi4xMC4xLjRcIixcImNybEJhZ1wiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS4xMi4xMC4xLjVcIixcInNlY3JldEJhZ1wiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS4xMi4xMC4xLjZcIixcInNhZmVDb250ZW50c0JhZ1wiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS41LjEzXCIsXCJwa2NzNVBCRVMyXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjUuMTJcIixcInBrY3M1UEJLREYyXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjEyLjEuMVwiLFwicGJlV2l0aFNIQUFuZDEyOEJpdFJDNFwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS4xMi4xLjJcIixcInBiZVdpdGhTSEFBbmQ0MEJpdFJDNFwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMS4xMi4xLjNcIixcInBiZVdpdGhTSEFBbmQzLUtleVRyaXBsZURFUy1DQkNcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuMTIuMS40XCIsXCJwYmVXaXRoU0hBQW5kMi1LZXlUcmlwbGVERVMtQ0JDXCIpLGEoXCIxLjIuODQwLjExMzU0OS4xLjEyLjEuNVwiLFwicGJlV2l0aFNIQUFuZDEyOEJpdFJDMi1DQkNcIiksYShcIjEuMi44NDAuMTEzNTQ5LjEuMTIuMS42XCIsXCJwYmV3aXRoU0hBQW5kNDBCaXRSQzItQ0JDXCIpLGEoXCIxLjIuODQwLjExMzU0OS4yLjdcIixcImhtYWNXaXRoU0hBMVwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMi44XCIsXCJobWFjV2l0aFNIQTIyNFwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMi45XCIsXCJobWFjV2l0aFNIQTI1NlwiKSxhKFwiMS4yLjg0MC4xMTM1NDkuMi4xMFwiLFwiaG1hY1dpdGhTSEEzODRcIiksYShcIjEuMi44NDAuMTEzNTQ5LjIuMTFcIixcImhtYWNXaXRoU0hBNTEyXCIpLGEoXCIxLjIuODQwLjExMzU0OS4zLjdcIixcImRlcy1FREUzLUNCQ1wiKSxhKFwiMi4xNi44NDAuMS4xMDEuMy40LjEuMlwiLFwiYWVzMTI4LUNCQ1wiKSxhKFwiMi4xNi44NDAuMS4xMDEuMy40LjEuMjJcIixcImFlczE5Mi1DQkNcIiksYShcIjIuMTYuODQwLjEuMTAxLjMuNC4xLjQyXCIsXCJhZXMyNTYtQ0JDXCIpLGEoXCIyLjUuNC4zXCIsXCJjb21tb25OYW1lXCIpLGEoXCIyLjUuNC41XCIsXCJzZXJpYWxOYW1lXCIpLGEoXCIyLjUuNC42XCIsXCJjb3VudHJ5TmFtZVwiKSxhKFwiMi41LjQuN1wiLFwibG9jYWxpdHlOYW1lXCIpLGEoXCIyLjUuNC44XCIsXCJzdGF0ZU9yUHJvdmluY2VOYW1lXCIpLGEoXCIyLjUuNC4xMFwiLFwib3JnYW5pemF0aW9uTmFtZVwiKSxhKFwiMi41LjQuMTFcIixcIm9yZ2FuaXphdGlvbmFsVW5pdE5hbWVcIiksYShcIjIuMTYuODQwLjEuMTEzNzMwLjEuMVwiLFwibnNDZXJ0VHlwZVwiKSxuKFwiMi41LjI5LjFcIixcImF1dGhvcml0eUtleUlkZW50aWZpZXJcIiksbihcIjIuNS4yOS4yXCIsXCJrZXlBdHRyaWJ1dGVzXCIpLG4oXCIyLjUuMjkuM1wiLFwiY2VydGlmaWNhdGVQb2xpY2llc1wiKSxuKFwiMi41LjI5LjRcIixcImtleVVzYWdlUmVzdHJpY3Rpb25cIiksbihcIjIuNS4yOS41XCIsXCJwb2xpY3lNYXBwaW5nXCIpLG4oXCIyLjUuMjkuNlwiLFwic3VidHJlZXNDb25zdHJhaW50XCIpLG4oXCIyLjUuMjkuN1wiLFwic3ViamVjdEFsdE5hbWVcIiksbihcIjIuNS4yOS44XCIsXCJpc3N1ZXJBbHROYW1lXCIpLG4oXCIyLjUuMjkuOVwiLFwic3ViamVjdERpcmVjdG9yeUF0dHJpYnV0ZXNcIiksbihcIjIuNS4yOS4xMFwiLFwiYmFzaWNDb25zdHJhaW50c1wiKSxuKFwiMi41LjI5LjExXCIsXCJuYW1lQ29uc3RyYWludHNcIiksbihcIjIuNS4yOS4xMlwiLFwicG9saWN5Q29uc3RyYWludHNcIiksbihcIjIuNS4yOS4xM1wiLFwiYmFzaWNDb25zdHJhaW50c1wiKSxhKFwiMi41LjI5LjE0XCIsXCJzdWJqZWN0S2V5SWRlbnRpZmllclwiKSxhKFwiMi41LjI5LjE1XCIsXCJrZXlVc2FnZVwiKSxuKFwiMi41LjI5LjE2XCIsXCJwcml2YXRlS2V5VXNhZ2VQZXJpb2RcIiksYShcIjIuNS4yOS4xN1wiLFwic3ViamVjdEFsdE5hbWVcIiksYShcIjIuNS4yOS4xOFwiLFwiaXNzdWVyQWx0TmFtZVwiKSxhKFwiMi41LjI5LjE5XCIsXCJiYXNpY0NvbnN0cmFpbnRzXCIpLG4oXCIyLjUuMjkuMjBcIixcImNSTE51bWJlclwiKSxuKFwiMi41LjI5LjIxXCIsXCJjUkxSZWFzb25cIiksbihcIjIuNS4yOS4yMlwiLFwiZXhwaXJhdGlvbkRhdGVcIiksbihcIjIuNS4yOS4yM1wiLFwiaW5zdHJ1Y3Rpb25Db2RlXCIpLG4oXCIyLjUuMjkuMjRcIixcImludmFsaWRpdHlEYXRlXCIpLG4oXCIyLjUuMjkuMjVcIixcImNSTERpc3RyaWJ1dGlvblBvaW50c1wiKSxuKFwiMi41LjI5LjI2XCIsXCJpc3N1aW5nRGlzdHJpYnV0aW9uUG9pbnRcIiksbihcIjIuNS4yOS4yN1wiLFwiZGVsdGFDUkxJbmRpY2F0b3JcIiksbihcIjIuNS4yOS4yOFwiLFwiaXNzdWluZ0Rpc3RyaWJ1dGlvblBvaW50XCIpLG4oXCIyLjUuMjkuMjlcIixcImNlcnRpZmljYXRlSXNzdWVyXCIpLG4oXCIyLjUuMjkuMzBcIixcIm5hbWVDb25zdHJhaW50c1wiKSxhKFwiMi41LjI5LjMxXCIsXCJjUkxEaXN0cmlidXRpb25Qb2ludHNcIiksYShcIjIuNS4yOS4zMlwiLFwiY2VydGlmaWNhdGVQb2xpY2llc1wiKSxuKFwiMi41LjI5LjMzXCIsXCJwb2xpY3lNYXBwaW5nc1wiKSxuKFwiMi41LjI5LjM0XCIsXCJwb2xpY3lDb25zdHJhaW50c1wiKSxhKFwiMi41LjI5LjM1XCIsXCJhdXRob3JpdHlLZXlJZGVudGlmaWVyXCIpLG4oXCIyLjUuMjkuMzZcIixcInBvbGljeUNvbnN0cmFpbnRzXCIpLGEoXCIyLjUuMjkuMzdcIixcImV4dEtleVVzYWdlXCIpLG4oXCIyLjUuMjkuNDZcIixcImZyZXNoZXN0Q1JMXCIpLG4oXCIyLjUuMjkuNTRcIixcImluaGliaXRBbnlQb2xpY3lcIiksYShcIjEuMy42LjEuNC4xLjExMTI5LjIuNC4yXCIsXCJ0aW1lc3RhbXBMaXN0XCIpLGEoXCIxLjMuNi4xLjUuNS43LjEuMVwiLFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiKSxhKFwiMS4zLjYuMS41LjUuNy4zLjFcIixcInNlcnZlckF1dGhcIiksYShcIjEuMy42LjEuNS41LjcuMy4yXCIsXCJjbGllbnRBdXRoXCIpLGEoXCIxLjMuNi4xLjUuNS43LjMuM1wiLFwiY29kZVNpZ25pbmdcIiksYShcIjEuMy42LjEuNS41LjcuMy40XCIsXCJlbWFpbFByb3RlY3Rpb25cIiksYShcIjEuMy42LjEuNS41LjcuMy44XCIsXCJ0aW1lU3RhbXBpbmdcIil9LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBhKGUpe2Zvcih2YXIgdD1lLm5hbWUrXCI6IFwiLHI9W10sYT1mdW5jdGlvbihlLHQpe3JldHVyblwiIFwiK3R9LG49MDtuPGUudmFsdWVzLmxlbmd0aDsrK24pci5wdXNoKGUudmFsdWVzW25dLnJlcGxhY2UoL14oXFxTK1xcclxcbikvLGEpKTt0Kz1yLmpvaW4oXCIsXCIpK1wiXFxyXFxuXCI7Zm9yKHZhciBpPTAscz0tMSxuPTA7bjx0Lmxlbmd0aDsrK24sKytpKWlmKGk+NjUmJnMhPT0tMSl7dmFyIG89dFtzXTtcIixcIj09PW8/KCsrcyx0PXQuc3Vic3RyKDAscykrXCJcXHJcXG4gXCIrdC5zdWJzdHIocykpOnQ9dC5zdWJzdHIoMCxzKStcIlxcclxcblwiK28rdC5zdWJzdHIocysxKSxpPW4tcy0xLHM9LTEsKytufWVsc2VcIiBcIiE9PXRbbl0mJlwiXFx0XCIhPT10W25dJiZcIixcIiE9PXRbbl18fChzPW4pO3JldHVybiB0fWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGUucmVwbGFjZSgvXlxccysvLFwiXCIpfXZhciBpPXIoMCk7cigxKTt2YXIgcz1lLmV4cG9ydHM9aS5wZW09aS5wZW18fHt9O3MuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgcixuPVwiLS0tLS1CRUdJTiBcIitlLnR5cGUrXCItLS0tLVxcclxcblwiO2lmKGUucHJvY1R5cGUmJihyPXtuYW1lOlwiUHJvYy1UeXBlXCIsdmFsdWVzOltTdHJpbmcoZS5wcm9jVHlwZS52ZXJzaW9uKSxlLnByb2NUeXBlLnR5cGVdfSxuKz1hKHIpKSxlLmNvbnRlbnREb21haW4mJihyPXtuYW1lOlwiQ29udGVudC1Eb21haW5cIix2YWx1ZXM6W2UuY29udGVudERvbWFpbl19LG4rPWEocikpLGUuZGVrSW5mbyYmKHI9e25hbWU6XCJERUstSW5mb1wiLHZhbHVlczpbZS5kZWtJbmZvLmFsZ29yaXRobV19LGUuZGVrSW5mby5wYXJhbWV0ZXJzJiZyLnZhbHVlcy5wdXNoKGUuZGVrSW5mby5wYXJhbWV0ZXJzKSxuKz1hKHIpKSxlLmhlYWRlcnMpZm9yKHZhciBzPTA7czxlLmhlYWRlcnMubGVuZ3RoOysrcyluKz1hKGUuaGVhZGVyc1tzXSk7cmV0dXJuIGUucHJvY1R5cGUmJihuKz1cIlxcclxcblwiKSxuKz1pLnV0aWwuZW5jb2RlNjQoZS5ib2R5LHQubWF4bGluZXx8NjQpK1wiXFxyXFxuXCIsbis9XCItLS0tLUVORCBcIitlLnR5cGUrXCItLS0tLVxcclxcblwifSxzLmRlY29kZT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1bXSxhPS9cXHMqLS0tLS1CRUdJTiAoW0EtWjAtOS0gXSspLS0tLS1cXHI/XFxuPyhbXFx4MjEtXFx4N2VcXHNdKz8oPzpcXHI/XFxuXFxyP1xcbikpPyhbOkEtWmEtejAtOStcXC89XFxzXSs/KS0tLS0tRU5EIFxcMS0tLS0tL2cscz0vKFtcXHgyMS1cXHg3ZV0rKTpcXHMqKFtcXHgyMS1cXHg3ZVxcc146XSspLyxvPS9cXHI/XFxuLzs7KXtpZih0PWEuZXhlYyhlKSwhdClicmVhazt2YXIgYz17dHlwZTp0WzFdLHByb2NUeXBlOm51bGwsY29udGVudERvbWFpbjpudWxsLGRla0luZm86bnVsbCxoZWFkZXJzOltdLGJvZHk6aS51dGlsLmRlY29kZTY0KHRbM10pfTtpZihyLnB1c2goYyksdFsyXSl7Zm9yKHZhciB1PXRbMl0uc3BsaXQobyksbD0wO3QmJmw8dS5sZW5ndGg7KXtmb3IodmFyIHA9dVtsXS5yZXBsYWNlKC9cXHMrJC8sXCJcIiksaD1sKzE7aDx1Lmxlbmd0aDsrK2gpe3ZhciBmPXVbaF07aWYoIS9cXHMvLnRlc3QoZlswXSkpYnJlYWs7cCs9ZixsPWh9aWYodD1wLm1hdGNoKHMpKXtmb3IodmFyIGQ9e25hbWU6dFsxXSx2YWx1ZXM6W119LHk9dFsyXS5zcGxpdChcIixcIiksZz0wO2c8eS5sZW5ndGg7KytnKWQudmFsdWVzLnB1c2gobih5W2ddKSk7aWYoYy5wcm9jVHlwZSlpZihjLmNvbnRlbnREb21haW58fFwiQ29udGVudC1Eb21haW5cIiE9PWQubmFtZSlpZihjLmRla0luZm98fFwiREVLLUluZm9cIiE9PWQubmFtZSljLmhlYWRlcnMucHVzaChkKTtlbHNle2lmKDA9PT1kLnZhbHVlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFBFTSBmb3JtYXR0ZWQgbWVzc2FnZS4gVGhlIFwiREVLLUluZm9cIiBoZWFkZXIgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBzdWJmaWVsZC4nKTtjLmRla0luZm89e2FsZ29yaXRobTp5WzBdLHBhcmFtZXRlcnM6eVsxXXx8bnVsbH19ZWxzZSBjLmNvbnRlbnREb21haW49eVswXXx8XCJcIjtlbHNle2lmKFwiUHJvYy1UeXBlXCIhPT1kLm5hbWUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFBFTSBmb3JtYXR0ZWQgbWVzc2FnZS4gVGhlIGZpcnN0IGVuY2Fwc3VsYXRlZCBoZWFkZXIgbXVzdCBiZSBcIlByb2MtVHlwZVwiLicpO2lmKDIhPT1kLnZhbHVlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFBFTSBmb3JtYXR0ZWQgbWVzc2FnZS4gVGhlIFwiUHJvYy1UeXBlXCIgaGVhZGVyIG11c3QgaGF2ZSB0d28gc3ViZmllbGRzLicpO2MucHJvY1R5cGU9e3ZlcnNpb246eVswXSx0eXBlOnlbMV19fX0rK2x9aWYoXCJFTkNSWVBURURcIj09PWMucHJvY1R5cGUmJiFjLmRla0luZm8pdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFBFTSBmb3JtYXR0ZWQgbWVzc2FnZS4gVGhlIFwiREVLLUluZm9cIiBoZWFkZXIgbXVzdCBiZSBwcmVzZW50IGlmIFwiUHJvYy1UeXBlXCIgaXMgXCJFTkNSWVBURURcIi4nKX19aWYoMD09PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgUEVNIGZvcm1hdHRlZCBtZXNzYWdlLlwiKTtyZXR1cm4gcn19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yKDApO3IoNCkscigxKTt2YXIgbj1lLmV4cG9ydHM9YS5obWFjPWEuaG1hY3x8e307bi5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgZT1udWxsLHQ9bnVsbCxyPW51bGwsbj1udWxsLGk9e307cmV0dXJuIGkuc3RhcnQ9ZnVuY3Rpb24oaSxzKXtpZihudWxsIT09aSlpZihcInN0cmluZ1wiPT10eXBlb2YgaSl7aWYoaT1pLnRvTG93ZXJDYXNlKCksIShpIGluIGEubWQuYWxnb3JpdGhtcykpdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGhhc2ggYWxnb3JpdGhtIFwiJytpKydcIicpO3Q9YS5tZC5hbGdvcml0aG1zW2ldLmNyZWF0ZSgpfWVsc2UgdD1pO2lmKG51bGw9PT1zKXM9ZTtlbHNle2lmKFwic3RyaW5nXCI9PXR5cGVvZiBzKXM9YS51dGlsLmNyZWF0ZUJ1ZmZlcihzKTtlbHNlIGlmKGEudXRpbC5pc0FycmF5KHMpKXt2YXIgbz1zO3M9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO2Zvcih2YXIgYz0wO2M8by5sZW5ndGg7KytjKXMucHV0Qnl0ZShvW2NdKX12YXIgdT1zLmxlbmd0aCgpO3U+dC5ibG9ja0xlbmd0aCYmKHQuc3RhcnQoKSx0LnVwZGF0ZShzLmJ5dGVzKCkpLHM9dC5kaWdlc3QoKSkscj1hLnV0aWwuY3JlYXRlQnVmZmVyKCksbj1hLnV0aWwuY3JlYXRlQnVmZmVyKCksdT1zLmxlbmd0aCgpO2Zvcih2YXIgYz0wO2M8dTsrK2Mpe3ZhciBvPXMuYXQoYyk7ci5wdXRCeXRlKDU0Xm8pLG4ucHV0Qnl0ZSg5Ml5vKX1pZih1PHQuYmxvY2tMZW5ndGgpZm9yKHZhciBvPXQuYmxvY2tMZW5ndGgtdSxjPTA7YzxvOysrYylyLnB1dEJ5dGUoNTQpLG4ucHV0Qnl0ZSg5Mik7ZT1zLHI9ci5ieXRlcygpLG49bi5ieXRlcygpfXQuc3RhcnQoKSx0LnVwZGF0ZShyKX0saS51cGRhdGU9ZnVuY3Rpb24oZSl7dC51cGRhdGUoZSl9LGkuZ2V0TWFjPWZ1bmN0aW9uKCl7dmFyIGU9dC5kaWdlc3QoKS5ieXRlcygpO3JldHVybiB0LnN0YXJ0KCksdC51cGRhdGUobiksdC51cGRhdGUoZSksdC5kaWdlc3QoKX0saS5kaWdlc3Q9aS5nZXRNYWMsaX19LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBhKCl7bz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyOCksbys9aS51dGlsLmZpbGxTdHJpbmcoU3RyaW5nLmZyb21DaGFyQ29kZSgwKSw2NCksYz0hMH1mdW5jdGlvbiBuKGUsdCxyKXtmb3IodmFyIGEsbixpLHMsbyxjLHUsbCxwPXIubGVuZ3RoKCk7cD49NjQ7KXtmb3Iobj1lLmgwLGk9ZS5oMSxzPWUuaDIsbz1lLmgzLGM9ZS5oNCxsPTA7bDwxNjsrK2wpYT1yLmdldEludDMyKCksdFtsXT1hLHU9b15pJihzXm8pLGE9KG48PDV8bj4+PjI3KSt1K2MrMTUxODUwMDI0OSthLGM9byxvPXMscz0oaTw8MzB8aT4+PjIpPj4+MCxpPW4sbj1hO2Zvcig7bDwyMDsrK2wpYT10W2wtM11edFtsLThdXnRbbC0xNF1edFtsLTE2XSxhPWE8PDF8YT4+PjMxLHRbbF09YSx1PW9eaSYoc15vKSxhPShuPDw1fG4+Pj4yNykrdStjKzE1MTg1MDAyNDkrYSxjPW8sbz1zLHM9KGk8PDMwfGk+Pj4yKT4+PjAsaT1uLG49YTtmb3IoO2w8MzI7KytsKWE9dFtsLTNdXnRbbC04XV50W2wtMTRdXnRbbC0xNl0sYT1hPDwxfGE+Pj4zMSx0W2xdPWEsdT1pXnNebyxhPShuPDw1fG4+Pj4yNykrdStjKzE4NTk3NzUzOTMrYSxjPW8sbz1zLHM9KGk8PDMwfGk+Pj4yKT4+PjAsaT1uLG49YTtmb3IoO2w8NDA7KytsKWE9dFtsLTZdXnRbbC0xNl1edFtsLTI4XV50W2wtMzJdLGE9YTw8MnxhPj4+MzAsdFtsXT1hLHU9aV5zXm8sYT0objw8NXxuPj4+MjcpK3UrYysxODU5Nzc1MzkzK2EsYz1vLG89cyxzPShpPDwzMHxpPj4+Mik+Pj4wLGk9bixuPWE7Zm9yKDtsPDYwOysrbClhPXRbbC02XV50W2wtMTZdXnRbbC0yOF1edFtsLTMyXSxhPWE8PDJ8YT4+PjMwLHRbbF09YSx1PWkmc3xvJihpXnMpLGE9KG48PDV8bj4+PjI3KSt1K2MrMjQwMDk1OTcwOCthLGM9byxvPXMscz0oaTw8MzB8aT4+PjIpPj4+MCxpPW4sbj1hO2Zvcig7bDw4MDsrK2wpYT10W2wtNl1edFtsLTE2XV50W2wtMjhdXnRbbC0zMl0sYT1hPDwyfGE+Pj4zMCx0W2xdPWEsdT1pXnNebyxhPShuPDw1fG4+Pj4yNykrdStjKzMzOTU0Njk3ODIrYSxjPW8sbz1zLHM9KGk8PDMwfGk+Pj4yKT4+PjAsaT1uLG49YTtlLmgwPWUuaDArbnwwLGUuaDE9ZS5oMStpfDAsZS5oMj1lLmgyK3N8MCxlLmgzPWUuaDMrb3wwLGUuaDQ9ZS5oNCtjfDAscC09NjR9fXZhciBpPXIoMCk7cig0KSxyKDEpO3ZhciBzPWUuZXhwb3J0cz1pLnNoYTE9aS5zaGExfHx7fTtpLm1kLnNoYTE9aS5tZC5hbGdvcml0aG1zLnNoYTE9cyxzLmNyZWF0ZT1mdW5jdGlvbigpe2N8fGEoKTt2YXIgZT1udWxsLHQ9aS51dGlsLmNyZWF0ZUJ1ZmZlcigpLHI9bmV3IEFycmF5KDgwKSxzPXthbGdvcml0aG06XCJzaGExXCIsYmxvY2tMZW5ndGg6NjQsZGlnZXN0TGVuZ3RoOjIwLG1lc3NhZ2VMZW5ndGg6MCxmdWxsTWVzc2FnZUxlbmd0aDpudWxsLG1lc3NhZ2VMZW5ndGhTaXplOjh9O3JldHVybiBzLnN0YXJ0PWZ1bmN0aW9uKCl7cy5tZXNzYWdlTGVuZ3RoPTAscy5mdWxsTWVzc2FnZUxlbmd0aD1zLm1lc3NhZ2VMZW5ndGg2ND1bXTtmb3IodmFyIHI9cy5tZXNzYWdlTGVuZ3RoU2l6ZS80LGE9MDthPHI7KythKXMuZnVsbE1lc3NhZ2VMZW5ndGgucHVzaCgwKTtyZXR1cm4gdD1pLnV0aWwuY3JlYXRlQnVmZmVyKCksZT17aDA6MTczMjU4NDE5MyxoMTo0MDIzMjMzNDE3LGgyOjI1NjIzODMxMDIsaDM6MjcxNzMzODc4LGg0OjMyODUzNzc1MjB9LHN9LHMuc3RhcnQoKSxzLnVwZGF0ZT1mdW5jdGlvbihhLG8pe1widXRmOFwiPT09byYmKGE9aS51dGlsLmVuY29kZVV0ZjgoYSkpO3ZhciBjPWEubGVuZ3RoO3MubWVzc2FnZUxlbmd0aCs9YyxjPVtjLzQyOTQ5NjcyOTY+Pj4wLGM+Pj4wXTtmb3IodmFyIHU9cy5mdWxsTWVzc2FnZUxlbmd0aC5sZW5ndGgtMTt1Pj0wOy0tdSlzLmZ1bGxNZXNzYWdlTGVuZ3RoW3VdKz1jWzFdLGNbMV09Y1swXSsocy5mdWxsTWVzc2FnZUxlbmd0aFt1XS80Mjk0OTY3Mjk2Pj4+MCkscy5mdWxsTWVzc2FnZUxlbmd0aFt1XT1zLmZ1bGxNZXNzYWdlTGVuZ3RoW3VdPj4+MCxjWzBdPWNbMV0vNDI5NDk2NzI5Nj4+PjA7cmV0dXJuIHQucHV0Qnl0ZXMoYSksbihlLHIsdCksKHQucmVhZD4yMDQ4fHwwPT09dC5sZW5ndGgoKSkmJnQuY29tcGFjdCgpLHN9LHMuZGlnZXN0PWZ1bmN0aW9uKCl7dmFyIGE9aS51dGlsLmNyZWF0ZUJ1ZmZlcigpO2EucHV0Qnl0ZXModC5ieXRlcygpKTt2YXIgYz1zLmZ1bGxNZXNzYWdlTGVuZ3RoW3MuZnVsbE1lc3NhZ2VMZW5ndGgubGVuZ3RoLTFdK3MubWVzc2FnZUxlbmd0aFNpemUsdT1jJnMuYmxvY2tMZW5ndGgtMTthLnB1dEJ5dGVzKG8uc3Vic3RyKDAscy5ibG9ja0xlbmd0aC11KSk7Zm9yKHZhciBsLHAsaD04KnMuZnVsbE1lc3NhZ2VMZW5ndGhbMF0sZj0wO2Y8cy5mdWxsTWVzc2FnZUxlbmd0aC5sZW5ndGgtMTsrK2YpbD04KnMuZnVsbE1lc3NhZ2VMZW5ndGhbZisxXSxwPWwvNDI5NDk2NzI5Nj4+PjAsaCs9cCxhLnB1dEludDMyKGg+Pj4wKSxoPWw+Pj4wO2EucHV0SW50MzIoaCk7dmFyIGQ9e2gwOmUuaDAsaDE6ZS5oMSxoMjplLmgyLGgzOmUuaDMsaDQ6ZS5oNH07bihkLHIsYSk7dmFyIHk9aS51dGlsLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiB5LnB1dEludDMyKGQuaDApLHkucHV0SW50MzIoZC5oMSkseS5wdXRJbnQzMihkLmgyKSx5LnB1dEludDMyKGQuaDMpLHkucHV0SW50MzIoZC5oNCkseX0sc307dmFyIG89bnVsbCxjPSExfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gYShlLHQpe3ZhciByPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLmRlcy5BbGdvcml0aG0oZSx0KX07by5jaXBoZXIucmVnaXN0ZXJBbGdvcml0aG0oZSxyKX1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgdCxyPVswLDQsNTM2ODcwOTEyLDUzNjg3MDkxNiw2NTUzNiw2NTU0MCw1MzY5MzY0NDgsNTM2OTM2NDUyLDUxMiw1MTYsNTM2ODcxNDI0LDUzNjg3MTQyOCw2NjA0OCw2NjA1Miw1MzY5MzY5NjAsNTM2OTM2OTY0XSxhPVswLDEsMTA0ODU3NiwxMDQ4NTc3LDY3MTA4ODY0LDY3MTA4ODY1LDY4MTU3NDQwLDY4MTU3NDQxLDI1NiwyNTcsMTA0ODgzMiwxMDQ4ODMzLDY3MTA5MTIwLDY3MTA5MTIxLDY4MTU3Njk2LDY4MTU3Njk3XSxuPVswLDgsMjA0OCwyMDU2LDE2Nzc3MjE2LDE2Nzc3MjI0LDE2Nzc5MjY0LDE2Nzc5MjcyLDAsOCwyMDQ4LDIwNTYsMTY3NzcyMTYsMTY3NzcyMjQsMTY3NzkyNjQsMTY3NzkyNzJdLGk9WzAsMjA5NzE1MiwxMzQyMTc3MjgsMTM2MzE0ODgwLDgxOTIsMjEwNTM0NCwxMzQyMjU5MjAsMTM2MzIzMDcyLDEzMTA3MiwyMjI4MjI0LDEzNDM0ODgwMCwxMzY0NDU5NTIsMTM5MjY0LDIyMzY0MTYsMTM0MzU2OTkyLDEzNjQ1NDE0NF0scz1bMCwyNjIxNDQsMTYsMjYyMTYwLDAsMjYyMTQ0LDE2LDI2MjE2MCw0MDk2LDI2NjI0MCw0MTEyLDI2NjI1Niw0MDk2LDI2NjI0MCw0MTEyLDI2NjI1Nl0sbz1bMCwxMDI0LDMyLDEwNTYsMCwxMDI0LDMyLDEwNTYsMzM1NTQ0MzIsMzM1NTU0NTYsMzM1NTQ0NjQsMzM1NTU0ODgsMzM1NTQ0MzIsMzM1NTU0NTYsMzM1NTQ0NjQsMzM1NTU0ODhdLGM9WzAsMjY4NDM1NDU2LDUyNDI4OCwyNjg5NTk3NDQsMiwyNjg0MzU0NTgsNTI0MjkwLDI2ODk1OTc0NiwwLDI2ODQzNTQ1Niw1MjQyODgsMjY4OTU5NzQ0LDIsMjY4NDM1NDU4LDUyNDI5MCwyNjg5NTk3NDZdLHU9WzAsNjU1MzYsMjA0OCw2NzU4NCw1MzY4NzA5MTIsNTM2OTM2NDQ4LDUzNjg3Mjk2MCw1MzY5Mzg0OTYsMTMxMDcyLDE5NjYwOCwxMzMxMjAsMTk4NjU2LDUzNzAwMTk4NCw1MzcwNjc1MjAsNTM3MDA0MDMyLDUzNzA2OTU2OF0sbD1bMCwyNjIxNDQsMCwyNjIxNDQsMiwyNjIxNDYsMiwyNjIxNDYsMzM1NTQ0MzIsMzM4MTY1NzYsMzM1NTQ0MzIsMzM4MTY1NzYsMzM1NTQ0MzQsMzM4MTY1NzgsMzM1NTQ0MzQsMzM4MTY1NzhdLHA9WzAsMjY4NDM1NDU2LDgsMjY4NDM1NDY0LDAsMjY4NDM1NDU2LDgsMjY4NDM1NDY0LDEwMjQsMjY4NDM2NDgwLDEwMzIsMjY4NDM2NDg4LDEwMjQsMjY4NDM2NDgwLDEwMzIsMjY4NDM2NDg4XSxoPVswLDMyLDAsMzIsMTA0ODU3NiwxMDQ4NjA4LDEwNDg1NzYsMTA0ODYwOCw4MTkyLDgyMjQsODE5Miw4MjI0LDEwNTY3NjgsMTA1NjgwMCwxMDU2NzY4LDEwNTY4MDBdLGY9WzAsMTY3NzcyMTYsNTEyLDE2Nzc3NzI4LDIwOTcxNTIsMTg4NzQzNjgsMjA5NzY2NCwxODg3NDg4MCw2NzEwODg2NCw4Mzg4NjA4MCw2NzEwOTM3Niw4Mzg4NjU5Miw2OTIwNjAxNiw4NTk4MzIzMiw2OTIwNjUyOCw4NTk4Mzc0NF0sZD1bMCw0MDk2LDEzNDIxNzcyOCwxMzQyMjE4MjQsNTI0Mjg4LDUyODM4NCwxMzQ3NDIwMTYsMTM0NzQ2MTEyLDE2LDQxMTIsMTM0MjE3NzQ0LDEzNDIyMTg0MCw1MjQzMDQsNTI4NDAwLDEzNDc0MjAzMiwxMzQ3NDYxMjhdLHk9WzAsNCwyNTYsMjYwLDAsNCwyNTYsMjYwLDEsNSwyNTcsMjYxLDEsNSwyNTcsMjYxXSxnPWUubGVuZ3RoKCk+OD8zOjEsdj1bXSxtPVswLDAsMSwxLDEsMSwxLDEsMCwxLDEsMSwxLDEsMSwwXSxDPTAsRT0wO0U8ZztFKyspe3ZhciBTPWUuZ2V0SW50MzIoKSxUPWUuZ2V0SW50MzIoKTt0PTI1MjY0NTEzNSYoUz4+PjReVCksVF49dCxTXj10PDw0LHQ9NjU1MzUmKFQ+Pj4tMTZeUyksU149dCxUXj10PDwtMTYsdD04NTg5OTM0NTkmKFM+Pj4yXlQpLFRePXQsU149dDw8Mix0PTY1NTM1JihUPj4+LTE2XlMpLFNePXQsVF49dDw8LTE2LHQ9MTQzMTY1NTc2NSYoUz4+PjFeVCksVF49dCxTXj10PDwxLHQ9MTY3MTE5MzUmKFQ+Pj44XlMpLFNePXQsVF49dDw8OCx0PTE0MzE2NTU3NjUmKFM+Pj4xXlQpLFRePXQsU149dDw8MSx0PVM8PDh8VD4+PjIwJjI0MCxTPVQ8PDI0fFQ8PDgmMTY3MTE2ODB8VD4+PjgmNjUyODB8VD4+PjI0JjI0MCxUPXQ7Zm9yKHZhciBJPTA7STxtLmxlbmd0aDsrK0kpe21bSV0/KFM9Uzw8MnxTPj4+MjYsVD1UPDwyfFQ+Pj4yNik6KFM9Uzw8MXxTPj4+MjcsVD1UPDwxfFQ+Pj4yNyksUyY9LTE1LFQmPS0xNTt2YXIgQT1yW1M+Pj4yOF18YVtTPj4+MjQmMTVdfG5bUz4+PjIwJjE1XXxpW1M+Pj4xNiYxNV18c1tTPj4+MTImMTVdfG9bUz4+PjgmMTVdfGNbUz4+PjQmMTVdLGI9dVtUPj4+MjhdfGxbVD4+PjI0JjE1XXxwW1Q+Pj4yMCYxNV18aFtUPj4+MTYmMTVdfGZbVD4+PjEyJjE1XXxkW1Q+Pj44JjE1XXx5W1Q+Pj40JjE1XTt0PTY1NTM1JihiPj4+MTZeQSksdltDKytdPUFedCx2W0MrK109Yl50PDwxNn19cmV0dXJuIHZ9ZnVuY3Rpb24gaShlLHQscixhKXt2YXIgbixpPTMyPT09ZS5sZW5ndGg/Mzo5O249Mz09PWk/YT9bMzAsLTIsLTJdOlswLDMyLDJdOmE/Wzk0LDYyLC0yLDMyLDY0LDIsMzAsLTIsLTJdOlswLDMyLDIsNjIsMzAsLTIsNjQsOTYsMl07dmFyIHMsbz10WzBdLGc9dFsxXTtzPTI1MjY0NTEzNSYobz4+PjReZyksZ149cyxvXj1zPDw0LHM9NjU1MzUmKG8+Pj4xNl5nKSxnXj1zLG9ePXM8PDE2LHM9ODU4OTkzNDU5JihnPj4+Ml5vKSxvXj1zLGdePXM8PDIscz0xNjcxMTkzNSYoZz4+Pjhebyksb149cyxnXj1zPDw4LHM9MTQzMTY1NTc2NSYobz4+PjFeZyksZ149cyxvXj1zPDwxLG89bzw8MXxvPj4+MzEsZz1nPDwxfGc+Pj4zMTtmb3IodmFyIHY9MDt2PGk7dis9Myl7Zm9yKHZhciBtPW5bdisxXSxDPW5bdisyXSxFPW5bdl07RSE9bTtFKz1DKXt2YXIgUz1nXmVbRV0sVD0oZz4+PjR8Zzw8MjgpXmVbRSsxXTtzPW8sbz1nLGc9c14odVtTPj4+MjQmNjNdfHBbUz4+PjE2JjYzXXxmW1M+Pj44JjYzXXx5WzYzJlNdfGNbVD4+PjI0JjYzXXxsW1Q+Pj4xNiY2M118aFtUPj4+OCY2M118ZFs2MyZUXSl9cz1vLG89ZyxnPXN9bz1vPj4+MXxvPDwzMSxnPWc+Pj4xfGc8PDMxLHM9MTQzMTY1NTc2NSYobz4+PjFeZyksZ149cyxvXj1zPDwxLHM9MTY3MTE5MzUmKGc+Pj44Xm8pLG9ePXMsZ149czw8OCxzPTg1ODk5MzQ1OSYoZz4+PjJebyksb149cyxnXj1zPDwyLHM9NjU1MzUmKG8+Pj4xNl5nKSxnXj1zLG9ePXM8PDE2LHM9MjUyNjQ1MTM1JihvPj4+NF5nKSxnXj1zLG9ePXM8PDQsclswXT1vLHJbMV09Z31mdW5jdGlvbiBzKGUpe2U9ZXx8e307dmFyIHQscj0oZS5tb2RlfHxcIkNCQ1wiKS50b1VwcGVyQ2FzZSgpLGE9XCJERVMtXCIrcjt0PWUuZGVjcnlwdD9vLmNpcGhlci5jcmVhdGVEZWNpcGhlcihhLGUua2V5KTpvLmNpcGhlci5jcmVhdGVDaXBoZXIoYSxlLmtleSk7dmFyIG49dC5zdGFydDtyZXR1cm4gdC5zdGFydD1mdW5jdGlvbihlLHIpe3ZhciBhPW51bGw7ciBpbnN0YW5jZW9mIG8udXRpbC5CeXRlQnVmZmVyJiYoYT1yLHI9e30pLHI9cnx8e30sci5vdXRwdXQ9YSxyLml2PWUsbi5jYWxsKHQscil9LHR9dmFyIG89cigwKTtyKDEyKSxyKDE4KSxyKDEpLGUuZXhwb3J0cz1vLmRlcz1vLmRlc3x8e30sby5kZXMuc3RhcnRFbmNyeXB0aW5nPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBuPXMoe2tleTplLG91dHB1dDpyLGRlY3J5cHQ6ITEsbW9kZTphfHwobnVsbD09PXQ/XCJFQ0JcIjpcIkNCQ1wiKX0pO3JldHVybiBuLnN0YXJ0KHQpLG59LG8uZGVzLmNyZWF0ZUVuY3J5cHRpb25DaXBoZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh7a2V5OmUsb3V0cHV0Om51bGwsZGVjcnlwdDohMSxtb2RlOnR9KX0sby5kZXMuc3RhcnREZWNyeXB0aW5nPWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBuPXMoe2tleTplLG91dHB1dDpyLGRlY3J5cHQ6ITAsbW9kZTphfHwobnVsbD09PXQ/XCJFQ0JcIjpcIkNCQ1wiKX0pO3JldHVybiBuLnN0YXJ0KHQpLG59LG8uZGVzLmNyZWF0ZURlY3J5cHRpb25DaXBoZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh7a2V5OmUsb3V0cHV0Om51bGwsZGVjcnlwdDohMCxtb2RlOnR9KX0sby5kZXMuQWxnb3JpdGhtPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyLm5hbWU9ZSxyLm1vZGU9bmV3IHQoe2Jsb2NrU2l6ZTo4LGNpcGhlcjp7ZW5jcnlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBpKHIuX2tleXMsZSx0LCExKX0sZGVjcnlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBpKHIuX2tleXMsZSx0LCEwKX19fSksci5faW5pdD0hMX0sby5kZXMuQWxnb3JpdGhtLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9pbml0KXt2YXIgdD1vLnV0aWwuY3JlYXRlQnVmZmVyKGUua2V5KTtpZigwPT09dGhpcy5uYW1lLmluZGV4T2YoXCIzREVTXCIpJiYyNCE9PXQubGVuZ3RoKCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBUcmlwbGUtREVTIGtleSBzaXplOiBcIis4KnQubGVuZ3RoKCkpO3RoaXMuX2tleXM9bih0KSx0aGlzLl9pbml0PSEwfX0sYShcIkRFUy1FQ0JcIixvLmNpcGhlci5tb2Rlcy5lY2IpLGEoXCJERVMtQ0JDXCIsby5jaXBoZXIubW9kZXMuY2JjKSxhKFwiREVTLUNGQlwiLG8uY2lwaGVyLm1vZGVzLmNmYiksYShcIkRFUy1PRkJcIixvLmNpcGhlci5tb2Rlcy5vZmIpLGEoXCJERVMtQ1RSXCIsby5jaXBoZXIubW9kZXMuY3RyKSxhKFwiM0RFUy1FQ0JcIixvLmNpcGhlci5tb2Rlcy5lY2IpLGEoXCIzREVTLUNCQ1wiLG8uY2lwaGVyLm1vZGVzLmNiYyksYShcIjNERVMtQ0ZCXCIsby5jaXBoZXIubW9kZXMuY2ZiKSxhKFwiM0RFUy1PRkJcIixvLmNpcGhlci5tb2Rlcy5vZmIpLGEoXCIzREVTLUNUUlwiLG8uY2lwaGVyLm1vZGVzLmN0cik7dmFyIGM9WzE2ODQzNzc2LDAsNjU1MzYsMTY4NDM3ODAsMTY4NDI3NTYsNjY1NjQsNCw2NTUzNiwxMDI0LDE2ODQzNzc2LDE2ODQzNzgwLDEwMjQsMTY3NzgyNDQsMTY4NDI3NTYsMTY3NzcyMTYsNCwxMDI4LDE2Nzc4MjQwLDE2Nzc4MjQwLDY2NTYwLDY2NTYwLDE2ODQyNzUyLDE2ODQyNzUyLDE2Nzc4MjQ0LDY1NTQwLDE2Nzc3MjIwLDE2Nzc3MjIwLDY1NTQwLDAsMTAyOCw2NjU2NCwxNjc3NzIxNiw2NTUzNiwxNjg0Mzc4MCw0LDE2ODQyNzUyLDE2ODQzNzc2LDE2Nzc3MjE2LDE2Nzc3MjE2LDEwMjQsMTY4NDI3NTYsNjU1MzYsNjY1NjAsMTY3NzcyMjAsMTAyNCw0LDE2Nzc4MjQ0LDY2NTY0LDE2ODQzNzgwLDY1NTQwLDE2ODQyNzUyLDE2Nzc4MjQ0LDE2Nzc3MjIwLDEwMjgsNjY1NjQsMTY4NDM3NzYsMTAyOCwxNjc3ODI0MCwxNjc3ODI0MCwwLDY1NTQwLDY2NTYwLDAsMTY4NDI3NTZdLHU9Wy0yMTQ2NDAyMjcyLC0yMTQ3NDUwODgwLDMyNzY4LDEwODEzNzYsMTA0ODU3NiwzMiwtMjE0NjQzNTA0MCwtMjE0NzQ1MDg0OCwtMjE0NzQ4MzYxNiwtMjE0NjQwMjI3MiwtMjE0NjQwMjMwNCwtMjE0NzQ4MzY0OCwtMjE0NzQ1MDg4MCwxMDQ4NTc2LDMyLC0yMTQ2NDM1MDQwLDEwODEzNDQsMTA0ODYwOCwtMjE0NzQ1MDg0OCwwLC0yMTQ3NDgzNjQ4LDMyNzY4LDEwODEzNzYsLTIxNDY0MzUwNzIsMTA0ODYwOCwtMjE0NzQ4MzYxNiwwLDEwODEzNDQsMzI4MDAsLTIxNDY0MDIzMDQsLTIxNDY0MzUwNzIsMzI4MDAsMCwxMDgxMzc2LC0yMTQ2NDM1MDQwLDEwNDg1NzYsLTIxNDc0NTA4NDgsLTIxNDY0MzUwNzIsLTIxNDY0MDIzMDQsMzI3NjgsLTIxNDY0MzUwNzIsLTIxNDc0NTA4ODAsMzIsLTIxNDY0MDIyNzIsMTA4MTM3NiwzMiwzMjc2OCwtMjE0NzQ4MzY0OCwzMjgwMCwtMjE0NjQwMjMwNCwxMDQ4NTc2LC0yMTQ3NDgzNjE2LDEwNDg2MDgsLTIxNDc0NTA4NDgsLTIxNDc0ODM2MTYsMTA0ODYwOCwxMDgxMzQ0LDAsLTIxNDc0NTA4ODAsMzI4MDAsLTIxNDc0ODM2NDgsLTIxNDY0MzUwNDAsLTIxNDY0MDIyNzIsMTA4MTM0NF0sbD1bNTIwLDEzNDM0OTMxMiwwLDEzNDM0ODgwOCwxMzQyMTgyNDAsMCwxMzE1OTIsMTM0MjE4MjQwLDEzMTA4MCwxMzQyMTc3MzYsMTM0MjE3NzM2LDEzMTA3MiwxMzQzNDkzMjAsMTMxMDgwLDEzNDM0ODgwMCw1MjAsMTM0MjE3NzI4LDgsMTM0MzQ5MzEyLDUxMiwxMzE1ODQsMTM0MzQ4ODAwLDEzNDM0ODgwOCwxMzE1OTIsMTM0MjE4MjQ4LDEzMTU4NCwxMzEwNzIsMTM0MjE4MjQ4LDgsMTM0MzQ5MzIwLDUxMiwxMzQyMTc3MjgsMTM0MzQ5MzEyLDEzNDIxNzcyOCwxMzEwODAsNTIwLDEzMTA3MiwxMzQzNDkzMTIsMTM0MjE4MjQwLDAsNTEyLDEzMTA4MCwxMzQzNDkzMjAsMTM0MjE4MjQwLDEzNDIxNzczNiw1MTIsMCwxMzQzNDg4MDgsMTM0MjE4MjQ4LDEzMTA3MiwxMzQyMTc3MjgsMTM0MzQ5MzIwLDgsMTMxNTkyLDEzMTU4NCwxMzQyMTc3MzYsMTM0MzQ4ODAwLDEzNDIxODI0OCw1MjAsMTM0MzQ4ODAwLDEzMTU5Miw4LDEzNDM0ODgwOCwxMzE1ODRdLHA9WzgzOTY4MDEsODMyMSw4MzIxLDEyOCw4Mzk2OTI4LDgzODg3MzcsODM4ODYwOSw4MTkzLDAsODM5NjgwMCw4Mzk2ODAwLDgzOTY5MjksMTI5LDAsODM4ODczNiw4Mzg4NjA5LDEsODE5Miw4Mzg4NjA4LDgzOTY4MDEsMTI4LDgzODg2MDgsODE5Myw4MzIwLDgzODg3MzcsMSw4MzIwLDgzODg3MzYsODE5Miw4Mzk2OTI4LDgzOTY5MjksMTI5LDgzODg3MzYsODM4ODYwOSw4Mzk2ODAwLDgzOTY5MjksMTI5LDAsMCw4Mzk2ODAwLDgzMjAsODM4ODczNiw4Mzg4NzM3LDEsODM5NjgwMSw4MzIxLDgzMjEsMTI4LDgzOTY5MjksMTI5LDEsODE5Miw4Mzg4NjA5LDgxOTMsODM5NjkyOCw4Mzg4NzM3LDgxOTMsODMyMCw4Mzg4NjA4LDgzOTY4MDEsMTI4LDgzODg2MDgsODE5Miw4Mzk2OTI4XSxoPVsyNTYsMzQwNzg5NzYsMzQwNzg3MjAsMTEwNzI5NjUxMiw1MjQyODgsMjU2LDEwNzM3NDE4MjQsMzQwNzg3MjAsMTA3NDI2NjM2OCw1MjQyODgsMzM1NTQ2ODgsMTA3NDI2NjM2OCwxMTA3Mjk2NTEyLDExMDc4MjA1NDQsNTI0NTQ0LDEwNzM3NDE4MjQsMzM1NTQ0MzIsMTA3NDI2NjExMiwxMDc0MjY2MTEyLDAsMTA3Mzc0MjA4MCwxMTA3ODIwODAwLDExMDc4MjA4MDAsMzM1NTQ2ODgsMTEwNzgyMDU0NCwxMDczNzQyMDgwLDAsMTEwNzI5NjI1NiwzNDA3ODk3NiwzMzU1NDQzMiwxMTA3Mjk2MjU2LDUyNDU0NCw1MjQyODgsMTEwNzI5NjUxMiwyNTYsMzM1NTQ0MzIsMTA3Mzc0MTgyNCwzNDA3ODcyMCwxMTA3Mjk2NTEyLDEwNzQyNjYzNjgsMzM1NTQ2ODgsMTA3Mzc0MTgyNCwxMTA3ODIwNTQ0LDM0MDc4OTc2LDEwNzQyNjYzNjgsMjU2LDMzNTU0NDMyLDExMDc4MjA1NDQsMTEwNzgyMDgwMCw1MjQ1NDQsMTEwNzI5NjI1NiwxMTA3ODIwODAwLDM0MDc4NzIwLDAsMTA3NDI2NjExMiwxMTA3Mjk2MjU2LDUyNDU0NCwzMzU1NDY4OCwxMDczNzQyMDgwLDUyNDI4OCwwLDEwNzQyNjYxMTIsMzQwNzg5NzYsMTA3Mzc0MjA4MF0sZj1bNTM2ODcwOTI4LDU0MTA2NTIxNiwxNjM4NCw1NDEwODE2MTYsNTQxMDY1MjE2LDE2LDU0MTA4MTYxNiw0MTk0MzA0LDUzNjg4NzI5Niw0MjEwNzA0LDQxOTQzMDQsNTM2ODcwOTI4LDQxOTQzMjAsNTM2ODg3Mjk2LDUzNjg3MDkxMiwxNjQwMCwwLDQxOTQzMjAsNTM2ODg3MzEyLDE2Mzg0LDQyMTA2ODgsNTM2ODg3MzEyLDE2LDU0MTA2NTIzMiw1NDEwNjUyMzIsMCw0MjEwNzA0LDU0MTA4MTYwMCwxNjQwMCw0MjEwNjg4LDU0MTA4MTYwMCw1MzY4NzA5MTIsNTM2ODg3Mjk2LDE2LDU0MTA2NTIzMiw0MjEwNjg4LDU0MTA4MTYxNiw0MTk0MzA0LDE2NDAwLDUzNjg3MDkyOCw0MTk0MzA0LDUzNjg4NzI5Niw1MzY4NzA5MTIsMTY0MDAsNTM2ODcwOTI4LDU0MTA4MTYxNiw0MjEwNjg4LDU0MTA2NTIxNiw0MjEwNzA0LDU0MTA4MTYwMCwwLDU0MTA2NTIzMiwxNiwxNjM4NCw1NDEwNjUyMTYsNDIxMDcwNCwxNjM4NCw0MTk0MzIwLDUzNjg4NzMxMiwwLDU0MTA4MTYwMCw1MzY4NzA5MTIsNDE5NDMyMCw1MzY4ODczMTJdLGQ9WzIwOTcxNTIsNjkyMDYwMTgsNjcxMTA5MTQsMCwyMDQ4LDY3MTEwOTE0LDIwOTkyMDIsNjkyMDgwNjQsNjkyMDgwNjYsMjA5NzE1MiwwLDY3MTA4ODY2LDIsNjcxMDg4NjQsNjkyMDYwMTgsMjA1MCw2NzExMDkxMiwyMDk5MjAyLDIwOTcxNTQsNjcxMTA5MTIsNjcxMDg4NjYsNjkyMDYwMTYsNjkyMDgwNjQsMjA5NzE1NCw2OTIwNjAxNiwyMDQ4LDIwNTAsNjkyMDgwNjYsMjA5OTIwMCwyLDY3MTA4ODY0LDIwOTkyMDAsNjcxMDg4NjQsMjA5OTIwMCwyMDk3MTUyLDY3MTEwOTE0LDY3MTEwOTE0LDY5MjA2MDE4LDY5MjA2MDE4LDIsMjA5NzE1NCw2NzEwODg2NCw2NzExMDkxMiwyMDk3MTUyLDY5MjA4MDY0LDIwNTAsMjA5OTIwMiw2OTIwODA2NCwyMDUwLDY3MTA4ODY2LDY5MjA4MDY2LDY5MjA2MDE2LDIwOTkyMDAsMCwyLDY5MjA4MDY2LDAsMjA5OTIwMiw2OTIwNjAxNiwyMDQ4LDY3MTA4ODY2LDY3MTEwOTEyLDIwNDgsMjA5NzE1NF0seT1bMjY4NDM5NjE2LDQwOTYsMjYyMTQ0LDI2ODcwMTc2MCwyNjg0MzU0NTYsMjY4NDM5NjE2LDY0LDI2ODQzNTQ1NiwyNjIyMDgsMjY4Njk3NjAwLDI2ODcwMTc2MCwyNjYyNDAsMjY4NzAxNjk2LDI2NjMwNCw0MDk2LDY0LDI2ODY5NzYwMCwyNjg0MzU1MjAsMjY4NDM5NTUyLDQxNjAsMjY2MjQwLDI2MjIwOCwyNjg2OTc2NjQsMjY4NzAxNjk2LDQxNjAsMCwwLDI2ODY5NzY2NCwyNjg0MzU1MjAsMjY4NDM5NTUyLDI2NjMwNCwyNjIxNDQsMjY2MzA0LDI2MjE0NCwyNjg3MDE2OTYsNDA5Niw2NCwyNjg2OTc2NjQsNDA5NiwyNjYzMDQsMjY4NDM5NTUyLDY0LDI2ODQzNTUyMCwyNjg2OTc2MDAsMjY4Njk3NjY0LDI2ODQzNTQ1NiwyNjIxNDQsMjY4NDM5NjE2LDAsMjY4NzAxNzYwLDI2MjIwOCwyNjg0MzU1MjAsMjY4Njk3NjAwLDI2ODQzOTU1MiwyNjg0Mzk2MTYsMCwyNjg3MDE3NjAsMjY2MjQwLDI2NjI0MCw0MTYwLDQxNjAsMjYyMjA4LDI2ODQzNTQ1NiwyNjg3MDE2OTZdfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gYShlLHQscil7dmFyIGE9cC51dGlsLmNyZWF0ZUJ1ZmZlcigpLG49TWF0aC5jZWlsKHQubi5iaXRMZW5ndGgoKS84KTtpZihlLmxlbmd0aD5uLTExKXt2YXIgaT1uZXcgRXJyb3IoXCJNZXNzYWdlIGlzIHRvbyBsb25nIGZvciBQS0NTIzEgdjEuNSBwYWRkaW5nLlwiKTt0aHJvdyBpLmxlbmd0aD1lLmxlbmd0aCxpLm1heD1uLTExLGl9YS5wdXRCeXRlKDApLGEucHV0Qnl0ZShyKTt2YXIgcyxvPW4tMy1lLmxlbmd0aDtpZigwPT09cnx8MT09PXIpe3M9MD09PXI/MDoyNTU7Zm9yKHZhciBjPTA7YzxvOysrYylhLnB1dEJ5dGUocyl9ZWxzZSBmb3IoO28+MDspe2Zvcih2YXIgdT0wLGw9cC5yYW5kb20uZ2V0Qnl0ZXMobyksYz0wO2M8bzsrK2Mpcz1sLmNoYXJDb2RlQXQoYyksMD09PXM/Kyt1OmEucHV0Qnl0ZShzKTtvPXV9cmV0dXJuIGEucHV0Qnl0ZSgwKSxhLnB1dEJ5dGVzKGUpLGF9ZnVuY3Rpb24gbihlLHQscixhKXt2YXIgbj1NYXRoLmNlaWwodC5uLmJpdExlbmd0aCgpLzgpLGk9cC51dGlsLmNyZWF0ZUJ1ZmZlcihlKSxzPWkuZ2V0Qnl0ZSgpLG89aS5nZXRCeXRlKCk7aWYoMCE9PXN8fHImJjAhPT1vJiYxIT09b3x8IXImJjIhPW98fHImJjA9PT1vJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoXCJFbmNyeXB0aW9uIGJsb2NrIGlzIGludmFsaWQuXCIpO3ZhciBjPTA7aWYoMD09PW8pe2M9bi0zLWE7Zm9yKHZhciB1PTA7dTxjOysrdSlpZigwIT09aS5nZXRCeXRlKCkpdGhyb3cgbmV3IEVycm9yKFwiRW5jcnlwdGlvbiBibG9jayBpcyBpbnZhbGlkLlwiKX1lbHNlIGlmKDE9PT1vKWZvcihjPTA7aS5sZW5ndGgoKT4xOyl7aWYoMjU1IT09aS5nZXRCeXRlKCkpey0taS5yZWFkO2JyZWFrfSsrY31lbHNlIGlmKDI9PT1vKWZvcihjPTA7aS5sZW5ndGgoKT4xOyl7aWYoMD09PWkuZ2V0Qnl0ZSgpKXstLWkucmVhZDticmVha30rK2N9dmFyIGw9aS5nZXRCeXRlKCk7aWYoMCE9PWx8fGMhPT1uLTMtaS5sZW5ndGgoKSl0aHJvdyBuZXcgRXJyb3IoXCJFbmNyeXB0aW9uIGJsb2NrIGlzIGludmFsaWQuXCIpO3JldHVybiBpLmdldEJ5dGVzKCl9ZnVuY3Rpb24gaShlLHQscil7ZnVuY3Rpb24gYSgpe24oZS5wQml0cyxmdW5jdGlvbih0LGEpe3JldHVybiB0P3IodCk6KGUucD1hLG51bGwhPT1lLnE/aSh0LGUucSk6dm9pZCBuKGUucUJpdHMsaSkpfSl9ZnVuY3Rpb24gbihlLHQpe3AucHJpbWUuZ2VuZXJhdGVQcm9iYWJsZVByaW1lKGUscyx0KX1mdW5jdGlvbiBpKHQscyl7aWYodClyZXR1cm4gcih0KTtpZihlLnE9cyxlLnAuY29tcGFyZVRvKGUucSk8MCl7dmFyIG89ZS5wO2UucD1lLnEsZS5xPW99aWYoMCE9PWUucC5zdWJ0cmFjdChoLk9ORSkuZ2NkKGUuZSkuY29tcGFyZVRvKGguT05FKSlyZXR1cm4gZS5wPW51bGwsdm9pZCBhKCk7aWYoMCE9PWUucS5zdWJ0cmFjdChoLk9ORSkuZ2NkKGUuZSkuY29tcGFyZVRvKGguT05FKSlyZXR1cm4gZS5xPW51bGwsdm9pZCBuKGUucUJpdHMsaSk7aWYoZS5wMT1lLnAuc3VidHJhY3QoaC5PTkUpLGUucTE9ZS5xLnN1YnRyYWN0KGguT05FKSxlLnBoaT1lLnAxLm11bHRpcGx5KGUucTEpLDAhPT1lLnBoaS5nY2QoZS5lKS5jb21wYXJlVG8oaC5PTkUpKXJldHVybiBlLnA9ZS5xPW51bGwsdm9pZCBhKCk7aWYoZS5uPWUucC5tdWx0aXBseShlLnEpLGUubi5iaXRMZW5ndGgoKSE9PWUuYml0cylyZXR1cm4gZS5xPW51bGwsdm9pZCBuKGUucUJpdHMsaSk7dmFyIGM9ZS5lLm1vZEludmVyc2UoZS5waGkpO2Uua2V5cz17cHJpdmF0ZUtleTpkLnJzYS5zZXRQcml2YXRlS2V5KGUubixlLmUsYyxlLnAsZS5xLGMubW9kKGUucDEpLGMubW9kKGUucTEpLGUucS5tb2RJbnZlcnNlKGUucCkpLHB1YmxpY0tleTpkLnJzYS5zZXRQdWJsaWNLZXkoZS5uLGUuZSl9LHIobnVsbCxlLmtleXMpfVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksdD10fHx7fTt2YXIgcz17YWxnb3JpdGhtOntuYW1lOnQuYWxnb3JpdGhtfHxcIlBSSU1FSU5DXCIsb3B0aW9uczp7d29ya2Vyczp0LndvcmtlcnN8fDIsd29ya0xvYWQ6dC53b3JrTG9hZHx8MTAwLHdvcmtlclNjcmlwdDp0LndvcmtlclNjcmlwdH19fTtcInBybmdcImluIHQmJihzLnBybmc9dC5wcm5nKSxhKCl9ZnVuY3Rpb24gcyhlKXt2YXIgdD1lLnRvU3RyaW5nKDE2KTt0WzBdPj1cIjhcIiYmKHQ9XCIwMFwiK3QpO3ZhciByPXAudXRpbC5oZXhUb0J5dGVzKHQpO3JldHVybiByLmxlbmd0aD4xJiYoMD09PXIuY2hhckNvZGVBdCgwKSYmMD09PSgxMjgmci5jaGFyQ29kZUF0KDEpKXx8MjU1PT09ci5jaGFyQ29kZUF0KDApJiYxMjg9PT0oMTI4JnIuY2hhckNvZGVBdCgxKSkpP3Iuc3Vic3RyKDEpOnJ9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZTw9MTAwPzI3OmU8PTE1MD8xODplPD0yMDA/MTU6ZTw9MjUwPzEyOmU8PTMwMD85OmU8PTM1MD84OmU8PTQwMD83OmU8PTUwMD82OmU8PTYwMD81OmU8PTgwMD80OmU8PTEyNTA/MzoyfWZ1bmN0aW9uIGMoZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdy5jcnlwdG8mJlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cuY3J5cHRvLnN1YnRsZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93LmNyeXB0by5zdWJ0bGVbZV07XG59ZnVuY3Rpb24gdShlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93Lm1zQ3J5cHRvJiZcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLnN1YnRsZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLnN1YnRsZVtlXX1mdW5jdGlvbiBsKGUpe2Zvcih2YXIgdD1wLnV0aWwuaGV4VG9CeXRlcyhlLnRvU3RyaW5nKDE2KSkscj1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCksYT0wO2E8dC5sZW5ndGg7KythKXJbYV09dC5jaGFyQ29kZUF0KGEpO3JldHVybiByfXZhciBwPXIoMCk7aWYocigzKSxyKDEzKSxyKDYpLHIoMjMpLHIoMjcpLHIoMikscigxKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaCl2YXIgaD1wLmpzYm4uQmlnSW50ZWdlcjt2YXIgZj1wLmFzbjE7cC5wa2k9cC5wa2l8fHt9LGUuZXhwb3J0cz1wLnBraS5yc2E9cC5yc2E9cC5yc2F8fHt9O3ZhciBkPXAucGtpLHk9WzYsNCwyLDQsMiw0LDYsMl0sZz17bmFtZTpcIlByaXZhdGVLZXlJbmZvXCIsdGFnQ2xhc3M6Zi5DbGFzcy5VTklWRVJTQUwsdHlwZTpmLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiUHJpdmF0ZUtleUluZm8udmVyc2lvblwiLHRhZ0NsYXNzOmYuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6Zi5UeXBlLklOVEVHRVIsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcInByaXZhdGVLZXlWZXJzaW9uXCJ9LHtuYW1lOlwiUHJpdmF0ZUtleUluZm8ucHJpdmF0ZUtleUFsZ29yaXRobVwiLHRhZ0NsYXNzOmYuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6Zi5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcIkFsZ29yaXRobUlkZW50aWZpZXIuYWxnb3JpdGhtXCIsdGFnQ2xhc3M6Zi5DbGFzcy5VTklWRVJTQUwsdHlwZTpmLlR5cGUuT0lELGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJwcml2YXRlS2V5T2lkXCJ9XX0se25hbWU6XCJQcml2YXRlS2V5SW5mb1wiLHRhZ0NsYXNzOmYuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6Zi5UeXBlLk9DVEVUU1RSSU5HLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJwcml2YXRlS2V5XCJ9XX0sdj17bmFtZTpcIlJTQVByaXZhdGVLZXlcIix0YWdDbGFzczpmLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmYuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJSU0FQcml2YXRlS2V5LnZlcnNpb25cIix0YWdDbGFzczpmLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmYuVHlwZS5JTlRFR0VSLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJwcml2YXRlS2V5VmVyc2lvblwifSx7bmFtZTpcIlJTQVByaXZhdGVLZXkubW9kdWx1c1wiLHRhZ0NsYXNzOmYuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6Zi5UeXBlLklOVEVHRVIsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcInByaXZhdGVLZXlNb2R1bHVzXCJ9LHtuYW1lOlwiUlNBUHJpdmF0ZUtleS5wdWJsaWNFeHBvbmVudFwiLHRhZ0NsYXNzOmYuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6Zi5UeXBlLklOVEVHRVIsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcInByaXZhdGVLZXlQdWJsaWNFeHBvbmVudFwifSx7bmFtZTpcIlJTQVByaXZhdGVLZXkucHJpdmF0ZUV4cG9uZW50XCIsdGFnQ2xhc3M6Zi5DbGFzcy5VTklWRVJTQUwsdHlwZTpmLlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwicHJpdmF0ZUtleVByaXZhdGVFeHBvbmVudFwifSx7bmFtZTpcIlJTQVByaXZhdGVLZXkucHJpbWUxXCIsdGFnQ2xhc3M6Zi5DbGFzcy5VTklWRVJTQUwsdHlwZTpmLlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwicHJpdmF0ZUtleVByaW1lMVwifSx7bmFtZTpcIlJTQVByaXZhdGVLZXkucHJpbWUyXCIsdGFnQ2xhc3M6Zi5DbGFzcy5VTklWRVJTQUwsdHlwZTpmLlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwicHJpdmF0ZUtleVByaW1lMlwifSx7bmFtZTpcIlJTQVByaXZhdGVLZXkuZXhwb25lbnQxXCIsdGFnQ2xhc3M6Zi5DbGFzcy5VTklWRVJTQUwsdHlwZTpmLlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwicHJpdmF0ZUtleUV4cG9uZW50MVwifSx7bmFtZTpcIlJTQVByaXZhdGVLZXkuZXhwb25lbnQyXCIsdGFnQ2xhc3M6Zi5DbGFzcy5VTklWRVJTQUwsdHlwZTpmLlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwicHJpdmF0ZUtleUV4cG9uZW50MlwifSx7bmFtZTpcIlJTQVByaXZhdGVLZXkuY29lZmZpY2llbnRcIix0YWdDbGFzczpmLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmYuVHlwZS5JTlRFR0VSLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJwcml2YXRlS2V5Q29lZmZpY2llbnRcIn1dfSxtPXtuYW1lOlwiUlNBUHVibGljS2V5XCIsdGFnQ2xhc3M6Zi5DbGFzcy5VTklWRVJTQUwsdHlwZTpmLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiUlNBUHVibGljS2V5Lm1vZHVsdXNcIix0YWdDbGFzczpmLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmYuVHlwZS5JTlRFR0VSLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJwdWJsaWNLZXlNb2R1bHVzXCJ9LHtuYW1lOlwiUlNBUHVibGljS2V5LmV4cG9uZW50XCIsdGFnQ2xhc3M6Zi5DbGFzcy5VTklWRVJTQUwsdHlwZTpmLlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwicHVibGljS2V5RXhwb25lbnRcIn1dfSxDPXAucGtpLnJzYS5wdWJsaWNLZXlWYWxpZGF0b3I9e25hbWU6XCJTdWJqZWN0UHVibGljS2V5SW5mb1wiLHRhZ0NsYXNzOmYuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6Zi5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLGNhcHR1cmVBc24xOlwic3ViamVjdFB1YmxpY0tleUluZm9cIix2YWx1ZTpbe25hbWU6XCJTdWJqZWN0UHVibGljS2V5SW5mby5BbGdvcml0aG1JZGVudGlmaWVyXCIsdGFnQ2xhc3M6Zi5DbGFzcy5VTklWRVJTQUwsdHlwZTpmLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiQWxnb3JpdGhtSWRlbnRpZmllci5hbGdvcml0aG1cIix0YWdDbGFzczpmLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmYuVHlwZS5PSUQsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcInB1YmxpY0tleU9pZFwifV19LHtuYW1lOlwiU3ViamVjdFB1YmxpY0tleUluZm8uc3ViamVjdFB1YmxpY0tleVwiLHRhZ0NsYXNzOmYuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6Zi5UeXBlLkJJVFNUUklORyxjb25zdHJ1Y3RlZDohMSx2YWx1ZTpbe25hbWU6XCJTdWJqZWN0UHVibGljS2V5SW5mby5zdWJqZWN0UHVibGljS2V5LlJTQVB1YmxpY0tleVwiLHRhZ0NsYXNzOmYuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6Zi5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLG9wdGlvbmFsOiEwLGNhcHR1cmVBc24xOlwicnNhUHVibGljS2V5XCJ9XX1dfSxFPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCEoZS5hbGdvcml0aG0gaW4gZC5vaWRzKSl7dmFyIHI9bmV3IEVycm9yKFwiVW5rbm93biBtZXNzYWdlIGRpZ2VzdCBhbGdvcml0aG0uXCIpO3Rocm93IHIuYWxnb3JpdGhtPWUuYWxnb3JpdGhtLHJ9dD1kLm9pZHNbZS5hbGdvcml0aG1dO3ZhciBhPWYub2lkVG9EZXIodCkuZ2V0Qnl0ZXMoKSxuPWYuY3JlYXRlKGYuQ2xhc3MuVU5JVkVSU0FMLGYuVHlwZS5TRVFVRU5DRSwhMCxbXSksaT1mLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuU0VRVUVOQ0UsITAsW10pO2kudmFsdWUucHVzaChmLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuT0lELCExLGEpKSxpLnZhbHVlLnB1c2goZi5jcmVhdGUoZi5DbGFzcy5VTklWRVJTQUwsZi5UeXBlLk5VTEwsITEsXCJcIikpO3ZhciBzPWYuY3JlYXRlKGYuQ2xhc3MuVU5JVkVSU0FMLGYuVHlwZS5PQ1RFVFNUUklORywhMSxlLmRpZ2VzdCgpLmdldEJ5dGVzKCkpO3JldHVybiBuLnZhbHVlLnB1c2goaSksbi52YWx1ZS5wdXNoKHMpLGYudG9EZXIobikuZ2V0Qnl0ZXMoKX0sUz1mdW5jdGlvbihlLHQscil7aWYocilyZXR1cm4gZS5tb2RQb3codC5lLHQubik7aWYoIXQucHx8IXQucSlyZXR1cm4gZS5tb2RQb3codC5kLHQubik7dC5kUHx8KHQuZFA9dC5kLm1vZCh0LnAuc3VidHJhY3QoaC5PTkUpKSksdC5kUXx8KHQuZFE9dC5kLm1vZCh0LnEuc3VidHJhY3QoaC5PTkUpKSksdC5xSW52fHwodC5xSW52PXQucS5tb2RJbnZlcnNlKHQucCkpO3ZhciBhO2RvIGE9bmV3IGgocC51dGlsLmJ5dGVzVG9IZXgocC5yYW5kb20uZ2V0Qnl0ZXModC5uLmJpdExlbmd0aCgpLzgpKSwxNik7d2hpbGUoYS5jb21wYXJlVG8odC5uKT49MHx8IWEuZ2NkKHQubikuZXF1YWxzKGguT05FKSk7ZT1lLm11bHRpcGx5KGEubW9kUG93KHQuZSx0Lm4pKS5tb2QodC5uKTtmb3IodmFyIG49ZS5tb2QodC5wKS5tb2RQb3codC5kUCx0LnApLGk9ZS5tb2QodC5xKS5tb2RQb3codC5kUSx0LnEpO24uY29tcGFyZVRvKGkpPDA7KW49bi5hZGQodC5wKTt2YXIgcz1uLnN1YnRyYWN0KGkpLm11bHRpcGx5KHQucUludikubW9kKHQucCkubXVsdGlwbHkodC5xKS5hZGQoaSk7cmV0dXJuIHM9cy5tdWx0aXBseShhLm1vZEludmVyc2UodC5uKSkubW9kKHQubil9O2QucnNhLmVuY3J5cHQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGk9cixzPU1hdGguY2VpbCh0Lm4uYml0TGVuZ3RoKCkvOCk7ciE9PSExJiZyIT09ITA/KGk9Mj09PXIsbj1hKGUsdCxyKSk6KG49cC51dGlsLmNyZWF0ZUJ1ZmZlcigpLG4ucHV0Qnl0ZXMoZSkpO2Zvcih2YXIgbz1uZXcgaChuLnRvSGV4KCksMTYpLGM9UyhvLHQsaSksdT1jLnRvU3RyaW5nKDE2KSxsPXAudXRpbC5jcmVhdGVCdWZmZXIoKSxmPXMtTWF0aC5jZWlsKHUubGVuZ3RoLzIpO2Y+MDspbC5wdXRCeXRlKDApLC0tZjtyZXR1cm4gbC5wdXRCeXRlcyhwLnV0aWwuaGV4VG9CeXRlcyh1KSksbC5nZXRCeXRlcygpfSxkLnJzYS5kZWNyeXB0PWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBpPU1hdGguY2VpbCh0Lm4uYml0TGVuZ3RoKCkvOCk7aWYoZS5sZW5ndGghPT1pKXt2YXIgcz1uZXcgRXJyb3IoXCJFbmNyeXB0ZWQgbWVzc2FnZSBsZW5ndGggaXMgaW52YWxpZC5cIik7dGhyb3cgcy5sZW5ndGg9ZS5sZW5ndGgscy5leHBlY3RlZD1pLHN9dmFyIG89bmV3IGgocC51dGlsLmNyZWF0ZUJ1ZmZlcihlKS50b0hleCgpLDE2KTtpZihvLmNvbXBhcmVUbyh0Lm4pPj0wKXRocm93IG5ldyBFcnJvcihcIkVuY3J5cHRlZCBtZXNzYWdlIGlzIGludmFsaWQuXCIpO2Zvcih2YXIgYz1TKG8sdCxyKSx1PWMudG9TdHJpbmcoMTYpLGw9cC51dGlsLmNyZWF0ZUJ1ZmZlcigpLGY9aS1NYXRoLmNlaWwodS5sZW5ndGgvMik7Zj4wOylsLnB1dEJ5dGUoMCksLS1mO3JldHVybiBsLnB1dEJ5dGVzKHAudXRpbC5oZXhUb0J5dGVzKHUpKSxhIT09ITE/bihsLmdldEJ5dGVzKCksdCxyKTpsLmdldEJ5dGVzKCl9LGQucnNhLmNyZWF0ZUtleVBhaXJHZW5lcmF0aW9uU3RhdGU9ZnVuY3Rpb24oZSx0LHIpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1wYXJzZUludChlLDEwKSksZT1lfHwyMDQ4LHI9cnx8e307dmFyIGEsbj1yLnBybmd8fHAucmFuZG9tLGk9e25leHRCeXRlczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9bi5nZXRCeXRlc1N5bmMoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrcillW3JdPXQuY2hhckNvZGVBdChyKX19LHM9ci5hbGdvcml0aG18fFwiUFJJTUVJTkNcIjtpZihcIlBSSU1FSU5DXCIhPT1zKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQga2V5IGdlbmVyYXRpb24gYWxnb3JpdGhtOiBcIitzKTtyZXR1cm4gYT17YWxnb3JpdGhtOnMsc3RhdGU6MCxiaXRzOmUscm5nOmksZUludDp0fHw2NTUzNyxlOm5ldyBoKG51bGwpLHA6bnVsbCxxOm51bGwscUJpdHM6ZT4+MSxwQml0czplLShlPj4xKSxwcVN0YXRlOjAsbnVtOm51bGwsa2V5czpudWxsfSxhLmUuZnJvbUludChhLmVJbnQpLGF9LGQucnNhLnN0ZXBLZXlQYWlyR2VuZXJhdGlvblN0YXRlPWZ1bmN0aW9uKGUsdCl7XCJhbGdvcml0aG1cImluIGV8fChlLmFsZ29yaXRobT1cIlBSSU1FSU5DXCIpO3ZhciByPW5ldyBoKG51bGwpO3IuZnJvbUludCgzMCk7Zm9yKHZhciBhLG49MCxpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV8dH0scz0rbmV3IERhdGUsYz0wO251bGw9PT1lLmtleXMmJih0PD0wfHxjPHQpOyl7aWYoMD09PWUuc3RhdGUpe3ZhciB1PW51bGw9PT1lLnA/ZS5wQml0czplLnFCaXRzLGw9dS0xOzA9PT1lLnBxU3RhdGU/KGUubnVtPW5ldyBoKHUsZS5ybmcpLGUubnVtLnRlc3RCaXQobCl8fGUubnVtLmJpdHdpc2VUbyhoLk9ORS5zaGlmdExlZnQobCksaSxlLm51bSksZS5udW0uZEFkZE9mZnNldCgzMS1lLm51bS5tb2QocikuYnl0ZVZhbHVlKCksMCksbj0wLCsrZS5wcVN0YXRlKToxPT09ZS5wcVN0YXRlP2UubnVtLmJpdExlbmd0aCgpPnU/ZS5wcVN0YXRlPTA6ZS5udW0uaXNQcm9iYWJsZVByaW1lKG8oZS5udW0uYml0TGVuZ3RoKCkpKT8rK2UucHFTdGF0ZTplLm51bS5kQWRkT2Zmc2V0KHlbbisrJThdLDApOjI9PT1lLnBxU3RhdGU/ZS5wcVN0YXRlPTA9PT1lLm51bS5zdWJ0cmFjdChoLk9ORSkuZ2NkKGUuZSkuY29tcGFyZVRvKGguT05FKT8zOjA6Mz09PWUucHFTdGF0ZSYmKGUucHFTdGF0ZT0wLG51bGw9PT1lLnA/ZS5wPWUubnVtOmUucT1lLm51bSxudWxsIT09ZS5wJiZudWxsIT09ZS5xJiYrK2Uuc3RhdGUsZS5udW09bnVsbCl9ZWxzZSBpZigxPT09ZS5zdGF0ZSllLnAuY29tcGFyZVRvKGUucSk8MCYmKGUubnVtPWUucCxlLnA9ZS5xLGUucT1lLm51bSksKytlLnN0YXRlO2Vsc2UgaWYoMj09PWUuc3RhdGUpZS5wMT1lLnAuc3VidHJhY3QoaC5PTkUpLGUucTE9ZS5xLnN1YnRyYWN0KGguT05FKSxlLnBoaT1lLnAxLm11bHRpcGx5KGUucTEpLCsrZS5zdGF0ZTtlbHNlIGlmKDM9PT1lLnN0YXRlKTA9PT1lLnBoaS5nY2QoZS5lKS5jb21wYXJlVG8oaC5PTkUpPysrZS5zdGF0ZTooZS5wPW51bGwsZS5xPW51bGwsZS5zdGF0ZT0wKTtlbHNlIGlmKDQ9PT1lLnN0YXRlKWUubj1lLnAubXVsdGlwbHkoZS5xKSxlLm4uYml0TGVuZ3RoKCk9PT1lLmJpdHM/KytlLnN0YXRlOihlLnE9bnVsbCxlLnN0YXRlPTApO2Vsc2UgaWYoNT09PWUuc3RhdGUpe3ZhciBwPWUuZS5tb2RJbnZlcnNlKGUucGhpKTtlLmtleXM9e3ByaXZhdGVLZXk6ZC5yc2Euc2V0UHJpdmF0ZUtleShlLm4sZS5lLHAsZS5wLGUucSxwLm1vZChlLnAxKSxwLm1vZChlLnExKSxlLnEubW9kSW52ZXJzZShlLnApKSxwdWJsaWNLZXk6ZC5yc2Euc2V0UHVibGljS2V5KGUubixlLmUpfX1hPStuZXcgRGF0ZSxjKz1hLXMscz1hfXJldHVybiBudWxsIT09ZS5rZXlzfSxkLnJzYS5nZW5lcmF0ZUtleVBhaXI9ZnVuY3Rpb24oZSx0LHIsYSl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGg/XCJvYmplY3RcIj09dHlwZW9mIGU/KHI9ZSxlPXZvaWQgMCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGE9ZSxlPXZvaWQgMCk6Mj09PWFyZ3VtZW50cy5sZW5ndGg/XCJudW1iZXJcIj09dHlwZW9mIGU/XCJmdW5jdGlvblwiPT10eXBlb2YgdD8oYT10LHQ9dm9pZCAwKTpcIm51bWJlclwiIT10eXBlb2YgdCYmKHI9dCx0PXZvaWQgMCk6KHI9ZSxhPXQsZT12b2lkIDAsdD12b2lkIDApOjM9PT1hcmd1bWVudHMubGVuZ3RoJiYoXCJudW1iZXJcIj09dHlwZW9mIHQ/XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKGE9cixyPXZvaWQgMCk6KGE9cixyPXQsdD12b2lkIDApKSxyPXJ8fHt9LHZvaWQgMD09PWUmJihlPXIuYml0c3x8MjA0OCksdm9pZCAwPT09dCYmKHQ9ci5lfHw2NTUzNyksIXAub3B0aW9ucy51c2VQdXJlSmF2YVNjcmlwdCYmYSYmZT49MjU2JiZlPD0xNjM4NCYmKDY1NTM3PT09dHx8Mz09PXQpKXtpZihjKFwiZ2VuZXJhdGVLZXlcIikmJmMoXCJleHBvcnRLZXlcIikpcmV0dXJuIHdpbmRvdy5jcnlwdG8uc3VidGxlLmdlbmVyYXRlS2V5KHtuYW1lOlwiUlNBU1NBLVBLQ1MxLXYxXzVcIixtb2R1bHVzTGVuZ3RoOmUscHVibGljRXhwb25lbnQ6bCh0KSxoYXNoOntuYW1lOlwiU0hBLTI1NlwifX0sITAsW1wic2lnblwiLFwidmVyaWZ5XCJdKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cuY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoXCJwa2NzOFwiLGUucHJpdmF0ZUtleSl9KS50aGVuKHZvaWQgMCxmdW5jdGlvbihlKXthKGUpfSkudGhlbihmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1kLnByaXZhdGVLZXlGcm9tQXNuMShmLmZyb21EZXIocC51dGlsLmNyZWF0ZUJ1ZmZlcihlKSkpO2EobnVsbCx7cHJpdmF0ZUtleTp0LHB1YmxpY0tleTpkLnNldFJzYVB1YmxpY0tleSh0Lm4sdC5lKX0pfX0pO2lmKHUoXCJnZW5lcmF0ZUtleVwiKSYmdShcImV4cG9ydEtleVwiKSl7dmFyIG49d2luZG93Lm1zQ3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleSh7bmFtZTpcIlJTQVNTQS1QS0NTMS12MV81XCIsbW9kdWx1c0xlbmd0aDplLHB1YmxpY0V4cG9uZW50OmwodCksaGFzaDp7bmFtZTpcIlNIQS0yNTZcIn19LCEwLFtcInNpZ25cIixcInZlcmlmeVwiXSk7cmV0dXJuIG4ub25jb21wbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5yZXN1bHQscj13aW5kb3cubXNDcnlwdG8uc3VidGxlLmV4cG9ydEtleShcInBrY3M4XCIsdC5wcml2YXRlS2V5KTtyLm9uY29tcGxldGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0LHI9ZC5wcml2YXRlS2V5RnJvbUFzbjEoZi5mcm9tRGVyKHAudXRpbC5jcmVhdGVCdWZmZXIodCkpKTthKG51bGwse3ByaXZhdGVLZXk6cixwdWJsaWNLZXk6ZC5zZXRSc2FQdWJsaWNLZXkoci5uLHIuZSl9KX0sci5vbmVycm9yPWZ1bmN0aW9uKGUpe2EoZSl9fSx2b2lkKG4ub25lcnJvcj1mdW5jdGlvbihlKXthKGUpfSl9fXZhciBzPWQucnNhLmNyZWF0ZUtleVBhaXJHZW5lcmF0aW9uU3RhdGUoZSx0LHIpO3JldHVybiBhP3ZvaWQgaShzLHIsYSk6KGQucnNhLnN0ZXBLZXlQYWlyR2VuZXJhdGlvblN0YXRlKHMsMCkscy5rZXlzKX0sZC5zZXRSc2FQdWJsaWNLZXk9ZC5yc2Euc2V0UHVibGljS2V5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9e246ZSxlOnR9O3JldHVybiByLmVuY3J5cHQ9ZnVuY3Rpb24oZSx0LG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q9dC50b1VwcGVyQ2FzZSgpOnZvaWQgMD09PXQmJih0PVwiUlNBRVMtUEtDUzEtVjFfNVwiKSxcIlJTQUVTLVBLQ1MxLVYxXzVcIj09PXQpdD17ZW5jb2RlOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gYShlLHQsMikuZ2V0Qnl0ZXMoKX19O2Vsc2UgaWYoXCJSU0EtT0FFUFwiPT09dHx8XCJSU0FFUy1PQUVQXCI9PT10KXQ9e2VuY29kZTpmdW5jdGlvbihlLHQpe3JldHVybiBwLnBrY3MxLmVuY29kZV9yc2Ffb2FlcCh0LGUsbil9fTtlbHNlIGlmKFtcIlJBV1wiLFwiTk9ORVwiLFwiTlVMTFwiLG51bGxdLmluZGV4T2YodCkhPT0tMSl0PXtlbmNvZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZW5jcnlwdGlvbiBzY2hlbWU6IFwiJyt0KydcIi4nKTt2YXIgaT10LmVuY29kZShlLHIsITApO3JldHVybiBkLnJzYS5lbmNyeXB0KGksciwhMCl9LHIudmVyaWZ5PWZ1bmN0aW9uKGUsdCxhKXtcInN0cmluZ1wiPT10eXBlb2YgYT9hPWEudG9VcHBlckNhc2UoKTp2b2lkIDA9PT1hJiYoYT1cIlJTQVNTQS1QS0NTMS1WMV81XCIpLFwiUlNBU1NBLVBLQ1MxLVYxXzVcIj09PWE/YT17dmVyaWZ5OmZ1bmN0aW9uKGUsdCl7dD1uKHQsciwhMCk7dmFyIGE9Zi5mcm9tRGVyKHQpO3JldHVybiBlPT09YS52YWx1ZVsxXS52YWx1ZX19OlwiTk9ORVwiIT09YSYmXCJOVUxMXCIhPT1hJiZudWxsIT09YXx8KGE9e3ZlcmlmeTpmdW5jdGlvbihlLHQpe3JldHVybiB0PW4odCxyLCEwKSxlPT09dH19KTt2YXIgaT1kLnJzYS5kZWNyeXB0KHQsciwhMCwhMSk7cmV0dXJuIGEudmVyaWZ5KGUsaSxyLm4uYml0TGVuZ3RoKCkpfSxyfSxkLnNldFJzYVByaXZhdGVLZXk9ZC5yc2Euc2V0UHJpdmF0ZUtleT1mdW5jdGlvbihlLHQscixhLGkscyxvLGMpe3ZhciB1PXtuOmUsZTp0LGQ6cixwOmEscTppLGRQOnMsZFE6byxxSW52OmN9O3JldHVybiB1LmRlY3J5cHQ9ZnVuY3Rpb24oZSx0LHIpe1wic3RyaW5nXCI9PXR5cGVvZiB0P3Q9dC50b1VwcGVyQ2FzZSgpOnZvaWQgMD09PXQmJih0PVwiUlNBRVMtUEtDUzEtVjFfNVwiKTt2YXIgYT1kLnJzYS5kZWNyeXB0KGUsdSwhMSwhMSk7aWYoXCJSU0FFUy1QS0NTMS1WMV81XCI9PT10KXQ9e2RlY29kZTpufTtlbHNlIGlmKFwiUlNBLU9BRVBcIj09PXR8fFwiUlNBRVMtT0FFUFwiPT09dCl0PXtkZWNvZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcC5wa2NzMS5kZWNvZGVfcnNhX29hZXAodCxlLHIpfX07ZWxzZXtpZihbXCJSQVdcIixcIk5PTkVcIixcIk5VTExcIixudWxsXS5pbmRleE9mKHQpPT09LTEpdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBlbmNyeXB0aW9uIHNjaGVtZTogXCInK3QrJ1wiLicpO3Q9e2RlY29kZTpmdW5jdGlvbihlKXtyZXR1cm4gZX19fXJldHVybiB0LmRlY29kZShhLHUsITEpfSx1LnNpZ249ZnVuY3Rpb24oZSx0KXt2YXIgcj0hMTtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9dC50b1VwcGVyQ2FzZSgpKSx2b2lkIDA9PT10fHxcIlJTQVNTQS1QS0NTMS1WMV81XCI9PT10Pyh0PXtlbmNvZGU6RX0scj0xKTpcIk5PTkVcIiE9PXQmJlwiTlVMTFwiIT09dCYmbnVsbCE9PXR8fCh0PXtlbmNvZGU6ZnVuY3Rpb24oKXtyZXR1cm4gZX19LHI9MSk7dmFyIGE9dC5lbmNvZGUoZSx1Lm4uYml0TGVuZ3RoKCkpO3JldHVybiBkLnJzYS5lbmNyeXB0KGEsdSxyKX0sdX0sZC53cmFwUnNhUHJpdmF0ZUtleT1mdW5jdGlvbihlKXtyZXR1cm4gZi5jcmVhdGUoZi5DbGFzcy5VTklWRVJTQUwsZi5UeXBlLlNFUVVFTkNFLCEwLFtmLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuSU5URUdFUiwhMSxmLmludGVnZXJUb0RlcigwKS5nZXRCeXRlcygpKSxmLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuU0VRVUVOQ0UsITAsW2YuY3JlYXRlKGYuQ2xhc3MuVU5JVkVSU0FMLGYuVHlwZS5PSUQsITEsZi5vaWRUb0RlcihkLm9pZHMucnNhRW5jcnlwdGlvbikuZ2V0Qnl0ZXMoKSksZi5jcmVhdGUoZi5DbGFzcy5VTklWRVJTQUwsZi5UeXBlLk5VTEwsITEsXCJcIildKSxmLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuT0NURVRTVFJJTkcsITEsZi50b0RlcihlKS5nZXRCeXRlcygpKV0pfSxkLnByaXZhdGVLZXlGcm9tQXNuMT1mdW5jdGlvbihlKXt2YXIgdD17fSxyPVtdO2lmKGYudmFsaWRhdGUoZSxnLHQscikmJihlPWYuZnJvbURlcihwLnV0aWwuY3JlYXRlQnVmZmVyKHQucHJpdmF0ZUtleSkpKSx0PXt9LHI9W10sIWYudmFsaWRhdGUoZSx2LHQscikpe3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUga2V5LiBBU04uMSBvYmplY3QgZG9lcyBub3QgY29udGFpbiBhbiBSU0FQcml2YXRlS2V5LlwiKTt0aHJvdyBhLmVycm9ycz1yLGF9dmFyIG4saSxzLG8sYyx1LGwseTtyZXR1cm4gbj1wLnV0aWwuY3JlYXRlQnVmZmVyKHQucHJpdmF0ZUtleU1vZHVsdXMpLnRvSGV4KCksaT1wLnV0aWwuY3JlYXRlQnVmZmVyKHQucHJpdmF0ZUtleVB1YmxpY0V4cG9uZW50KS50b0hleCgpLHM9cC51dGlsLmNyZWF0ZUJ1ZmZlcih0LnByaXZhdGVLZXlQcml2YXRlRXhwb25lbnQpLnRvSGV4KCksbz1wLnV0aWwuY3JlYXRlQnVmZmVyKHQucHJpdmF0ZUtleVByaW1lMSkudG9IZXgoKSxjPXAudXRpbC5jcmVhdGVCdWZmZXIodC5wcml2YXRlS2V5UHJpbWUyKS50b0hleCgpLHU9cC51dGlsLmNyZWF0ZUJ1ZmZlcih0LnByaXZhdGVLZXlFeHBvbmVudDEpLnRvSGV4KCksbD1wLnV0aWwuY3JlYXRlQnVmZmVyKHQucHJpdmF0ZUtleUV4cG9uZW50MikudG9IZXgoKSx5PXAudXRpbC5jcmVhdGVCdWZmZXIodC5wcml2YXRlS2V5Q29lZmZpY2llbnQpLnRvSGV4KCksZC5zZXRSc2FQcml2YXRlS2V5KG5ldyBoKG4sMTYpLG5ldyBoKGksMTYpLG5ldyBoKHMsMTYpLG5ldyBoKG8sMTYpLG5ldyBoKGMsMTYpLG5ldyBoKHUsMTYpLG5ldyBoKGwsMTYpLG5ldyBoKHksMTYpKX0sZC5wcml2YXRlS2V5VG9Bc24xPWQucHJpdmF0ZUtleVRvUlNBUHJpdmF0ZUtleT1mdW5jdGlvbihlKXtyZXR1cm4gZi5jcmVhdGUoZi5DbGFzcy5VTklWRVJTQUwsZi5UeXBlLlNFUVVFTkNFLCEwLFtmLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuSU5URUdFUiwhMSxmLmludGVnZXJUb0RlcigwKS5nZXRCeXRlcygpKSxmLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuSU5URUdFUiwhMSxzKGUubikpLGYuY3JlYXRlKGYuQ2xhc3MuVU5JVkVSU0FMLGYuVHlwZS5JTlRFR0VSLCExLHMoZS5lKSksZi5jcmVhdGUoZi5DbGFzcy5VTklWRVJTQUwsZi5UeXBlLklOVEVHRVIsITEscyhlLmQpKSxmLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuSU5URUdFUiwhMSxzKGUucCkpLGYuY3JlYXRlKGYuQ2xhc3MuVU5JVkVSU0FMLGYuVHlwZS5JTlRFR0VSLCExLHMoZS5xKSksZi5jcmVhdGUoZi5DbGFzcy5VTklWRVJTQUwsZi5UeXBlLklOVEVHRVIsITEscyhlLmRQKSksZi5jcmVhdGUoZi5DbGFzcy5VTklWRVJTQUwsZi5UeXBlLklOVEVHRVIsITEscyhlLmRRKSksZi5jcmVhdGUoZi5DbGFzcy5VTklWRVJTQUwsZi5UeXBlLklOVEVHRVIsITEscyhlLnFJbnYpKV0pfSxkLnB1YmxpY0tleUZyb21Bc24xPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9W107aWYoZi52YWxpZGF0ZShlLEMsdCxyKSl7dmFyIGE9Zi5kZXJUb09pZCh0LnB1YmxpY0tleU9pZCk7aWYoYSE9PWQub2lkcy5yc2FFbmNyeXB0aW9uKXt2YXIgbj1uZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBwdWJsaWMga2V5LiBVbmtub3duIE9JRC5cIik7dGhyb3cgbi5vaWQ9YSxufWU9dC5yc2FQdWJsaWNLZXl9aWYocj1bXSwhZi52YWxpZGF0ZShlLG0sdCxyKSl7dmFyIG49bmV3IEVycm9yKFwiQ2Fubm90IHJlYWQgcHVibGljIGtleS4gQVNOLjEgb2JqZWN0IGRvZXMgbm90IGNvbnRhaW4gYW4gUlNBUHVibGljS2V5LlwiKTt0aHJvdyBuLmVycm9ycz1yLG59dmFyIGk9cC51dGlsLmNyZWF0ZUJ1ZmZlcih0LnB1YmxpY0tleU1vZHVsdXMpLnRvSGV4KCkscz1wLnV0aWwuY3JlYXRlQnVmZmVyKHQucHVibGljS2V5RXhwb25lbnQpLnRvSGV4KCk7cmV0dXJuIGQuc2V0UnNhUHVibGljS2V5KG5ldyBoKGksMTYpLG5ldyBoKHMsMTYpKX0sZC5wdWJsaWNLZXlUb0FzbjE9ZC5wdWJsaWNLZXlUb1N1YmplY3RQdWJsaWNLZXlJbmZvPWZ1bmN0aW9uKGUpe3JldHVybiBmLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuU0VRVUVOQ0UsITAsW2YuY3JlYXRlKGYuQ2xhc3MuVU5JVkVSU0FMLGYuVHlwZS5TRVFVRU5DRSwhMCxbZi5jcmVhdGUoZi5DbGFzcy5VTklWRVJTQUwsZi5UeXBlLk9JRCwhMSxmLm9pZFRvRGVyKGQub2lkcy5yc2FFbmNyeXB0aW9uKS5nZXRCeXRlcygpKSxmLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuTlVMTCwhMSxcIlwiKV0pLGYuY3JlYXRlKGYuQ2xhc3MuVU5JVkVSU0FMLGYuVHlwZS5CSVRTVFJJTkcsITEsW2QucHVibGljS2V5VG9SU0FQdWJsaWNLZXkoZSldKV0pfSxkLnB1YmxpY0tleVRvUlNBUHVibGljS2V5PWZ1bmN0aW9uKGUpe3JldHVybiBmLmNyZWF0ZShmLkNsYXNzLlVOSVZFUlNBTCxmLlR5cGUuU0VRVUVOQ0UsITAsW2YuY3JlYXRlKGYuQ2xhc3MuVU5JVkVSU0FMLGYuVHlwZS5JTlRFR0VSLCExLHMoZS5uKSksZi5jcmVhdGUoZi5DbGFzcy5VTklWRVJTQUwsZi5UeXBlLklOVEVHRVIsITEscyhlLmUpKV0pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXIoMCk7cigxKSxlLmV4cG9ydHM9YS5jaXBoZXI9YS5jaXBoZXJ8fHt9LGEuY2lwaGVyLmFsZ29yaXRobXM9YS5jaXBoZXIuYWxnb3JpdGhtc3x8e30sYS5jaXBoZXIuY3JlYXRlQ2lwaGVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZTtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9YS5jaXBoZXIuZ2V0QWxnb3JpdGhtKHIpLHImJihyPXIoKSkpLCFyKXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFsZ29yaXRobTogXCIrZSk7cmV0dXJuIG5ldyBhLmNpcGhlci5CbG9ja0NpcGhlcih7YWxnb3JpdGhtOnIsa2V5OnQsZGVjcnlwdDohMX0pfSxhLmNpcGhlci5jcmVhdGVEZWNpcGhlcj1mdW5jdGlvbihlLHQpe3ZhciByPWU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHImJihyPWEuY2lwaGVyLmdldEFsZ29yaXRobShyKSxyJiYocj1yKCkpKSwhcil0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBhbGdvcml0aG06IFwiK2UpO3JldHVybiBuZXcgYS5jaXBoZXIuQmxvY2tDaXBoZXIoe2FsZ29yaXRobTpyLGtleTp0LGRlY3J5cHQ6ITB9KX0sYS5jaXBoZXIucmVnaXN0ZXJBbGdvcml0aG09ZnVuY3Rpb24oZSx0KXtlPWUudG9VcHBlckNhc2UoKSxhLmNpcGhlci5hbGdvcml0aG1zW2VdPXR9LGEuY2lwaGVyLmdldEFsZ29yaXRobT1mdW5jdGlvbihlKXtyZXR1cm4gZT1lLnRvVXBwZXJDYXNlKCksZSBpbiBhLmNpcGhlci5hbGdvcml0aG1zP2EuY2lwaGVyLmFsZ29yaXRobXNbZV06bnVsbH07dmFyIG49YS5jaXBoZXIuQmxvY2tDaXBoZXI9ZnVuY3Rpb24oZSl7dGhpcy5hbGdvcml0aG09ZS5hbGdvcml0aG0sdGhpcy5tb2RlPXRoaXMuYWxnb3JpdGhtLm1vZGUsdGhpcy5ibG9ja1NpemU9dGhpcy5tb2RlLmJsb2NrU2l6ZSx0aGlzLl9maW5pc2g9ITEsdGhpcy5faW5wdXQ9bnVsbCx0aGlzLm91dHB1dD1udWxsLHRoaXMuX29wPWUuZGVjcnlwdD90aGlzLm1vZGUuZGVjcnlwdDp0aGlzLm1vZGUuZW5jcnlwdCx0aGlzLl9kZWNyeXB0PWUuZGVjcnlwdCx0aGlzLmFsZ29yaXRobS5pbml0aWFsaXplKGUpfTtuLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXtlPWV8fHt9O3ZhciB0PXt9O2Zvcih2YXIgciBpbiBlKXRbcl09ZVtyXTt0LmRlY3J5cHQ9dGhpcy5fZGVjcnlwdCx0aGlzLl9maW5pc2g9ITEsdGhpcy5faW5wdXQ9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpLHRoaXMub3V0cHV0PWUub3V0cHV0fHxhLnV0aWwuY3JlYXRlQnVmZmVyKCksdGhpcy5tb2RlLnN0YXJ0KHQpfSxuLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7Zm9yKGUmJnRoaXMuX2lucHV0LnB1dEJ1ZmZlcihlKTshdGhpcy5fb3AuY2FsbCh0aGlzLm1vZGUsdGhpcy5faW5wdXQsdGhpcy5vdXRwdXQsdGhpcy5fZmluaXNoKSYmIXRoaXMuX2ZpbmlzaDspO3RoaXMuX2lucHV0LmNvbXBhY3QoKX0sbi5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKGUpeyFlfHxcIkVDQlwiIT09dGhpcy5tb2RlLm5hbWUmJlwiQ0JDXCIhPT10aGlzLm1vZGUubmFtZXx8KHRoaXMubW9kZS5wYWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcy5ibG9ja1NpemUsdCwhMSl9LHRoaXMubW9kZS51bnBhZD1mdW5jdGlvbih0KXtyZXR1cm4gZSh0aGlzLmJsb2NrU2l6ZSx0LCEwKX0pO3ZhciB0PXt9O3JldHVybiB0LmRlY3J5cHQ9dGhpcy5fZGVjcnlwdCx0Lm92ZXJmbG93PXRoaXMuX2lucHV0Lmxlbmd0aCgpJXRoaXMuYmxvY2tTaXplLCEoIXRoaXMuX2RlY3J5cHQmJnRoaXMubW9kZS5wYWQmJiF0aGlzLm1vZGUucGFkKHRoaXMuX2lucHV0LHQpKSYmKHRoaXMuX2ZpbmlzaD0hMCx0aGlzLnVwZGF0ZSgpLCEodGhpcy5fZGVjcnlwdCYmdGhpcy5tb2RlLnVucGFkJiYhdGhpcy5tb2RlLnVucGFkKHRoaXMub3V0cHV0LHQpKSYmISh0aGlzLm1vZGUuYWZ0ZXJGaW5pc2gmJiF0aGlzLm1vZGUuYWZ0ZXJGaW5pc2godGhpcy5vdXRwdXQsdCkpKX19LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBhKGUsdCxyKXt0aGlzLmRhdGE9W10sbnVsbCE9ZSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMuZnJvbU51bWJlcihlLHQscik6bnVsbD09dCYmXCJzdHJpbmdcIiE9dHlwZW9mIGU/dGhpcy5mcm9tU3RyaW5nKGUsMjU2KTp0aGlzLmZyb21TdHJpbmcoZSx0KSl9ZnVuY3Rpb24gbigpe3JldHVybiBuZXcgYShudWxsKX1mdW5jdGlvbiBpKGUsdCxyLGEsbixpKXtmb3IoOy0taT49MDspe3ZhciBzPXQqdGhpcy5kYXRhW2UrK10rci5kYXRhW2FdK247bj1NYXRoLmZsb29yKHMvNjcxMDg4NjQpLHIuZGF0YVthKytdPTY3MTA4ODYzJnN9cmV0dXJuIG59ZnVuY3Rpb24gcyhlLHQscixhLG4saSl7Zm9yKHZhciBzPTMyNzY3JnQsbz10Pj4xNTstLWk+PTA7KXt2YXIgYz0zMjc2NyZ0aGlzLmRhdGFbZV0sdT10aGlzLmRhdGFbZSsrXT4+MTUsbD1vKmMrdSpzO2M9cypjKygoMzI3NjcmbCk8PDE1KStyLmRhdGFbYV0rKDEwNzM3NDE4MjMmbiksbj0oYz4+PjMwKSsobD4+PjE1KStvKnUrKG4+Pj4zMCksci5kYXRhW2ErK109MTA3Mzc0MTgyMyZjfXJldHVybiBufWZ1bmN0aW9uIG8oZSx0LHIsYSxuLGkpe2Zvcih2YXIgcz0xNjM4MyZ0LG89dD4+MTQ7LS1pPj0wOyl7dmFyIGM9MTYzODMmdGhpcy5kYXRhW2VdLHU9dGhpcy5kYXRhW2UrK10+PjE0LGw9bypjK3UqcztjPXMqYysoKDE2MzgzJmwpPDwxNCkrci5kYXRhW2FdK24sbj0oYz4+MjgpKyhsPj4xNCkrbyp1LHIuZGF0YVthKytdPTI2ODQzNTQ1NSZjfXJldHVybiBufWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGN0LmNoYXJBdChlKX1mdW5jdGlvbiB1KGUsdCl7dmFyIHI9dXRbZS5jaGFyQ29kZUF0KHQpXTtyZXR1cm4gbnVsbD09cj8tMTpyfWZ1bmN0aW9uIGwoZSl7Zm9yKHZhciB0PXRoaXMudC0xO3Q+PTA7LS10KWUuZGF0YVt0XT10aGlzLmRhdGFbdF07ZS50PXRoaXMudCxlLnM9dGhpcy5zfWZ1bmN0aW9uIHAoZSl7dGhpcy50PTEsdGhpcy5zPWU8MD8tMTowLGU+MD90aGlzLmRhdGFbMF09ZTplPC0xP3RoaXMuZGF0YVswXT1lK3RoaXMuRFY6dGhpcy50PTB9ZnVuY3Rpb24gaChlKXt2YXIgdD1uKCk7cmV0dXJuIHQuZnJvbUludChlKSx0fWZ1bmN0aW9uIGYoZSx0KXt2YXIgcjtpZigxNj09dClyPTQ7ZWxzZSBpZig4PT10KXI9MztlbHNlIGlmKDI1Nj09dClyPTg7ZWxzZSBpZigyPT10KXI9MTtlbHNlIGlmKDMyPT10KXI9NTtlbHNle2lmKDQhPXQpcmV0dXJuIHZvaWQgdGhpcy5mcm9tUmFkaXgoZSx0KTtyPTJ9dGhpcy50PTAsdGhpcy5zPTA7Zm9yKHZhciBuPWUubGVuZ3RoLGk9ITEscz0wOy0tbj49MDspe3ZhciBvPTg9PXI/MjU1JmVbbl06dShlLG4pO288MD9cIi1cIj09ZS5jaGFyQXQobikmJihpPSEwKTooaT0hMSwwPT1zP3RoaXMuZGF0YVt0aGlzLnQrK109bzpzK3I+dGhpcy5EQj8odGhpcy5kYXRhW3RoaXMudC0xXXw9KG8mKDE8PHRoaXMuREItcyktMSk8PHMsdGhpcy5kYXRhW3RoaXMudCsrXT1vPj50aGlzLkRCLXMpOnRoaXMuZGF0YVt0aGlzLnQtMV18PW88PHMscys9cixzPj10aGlzLkRCJiYocy09dGhpcy5EQikpfTg9PXImJjAhPSgxMjgmZVswXSkmJih0aGlzLnM9LTEscz4wJiYodGhpcy5kYXRhW3RoaXMudC0xXXw9KDE8PHRoaXMuREItcyktMTw8cykpLHRoaXMuY2xhbXAoKSxpJiZhLlpFUk8uc3ViVG8odGhpcyx0aGlzKX1mdW5jdGlvbiBkKCl7Zm9yKHZhciBlPXRoaXMucyZ0aGlzLkRNO3RoaXMudD4wJiZ0aGlzLmRhdGFbdGhpcy50LTFdPT1lOyktLXRoaXMudH1mdW5jdGlvbiB5KGUpe2lmKHRoaXMuczwwKXJldHVyblwiLVwiK3RoaXMubmVnYXRlKCkudG9TdHJpbmcoZSk7dmFyIHQ7aWYoMTY9PWUpdD00O2Vsc2UgaWYoOD09ZSl0PTM7ZWxzZSBpZigyPT1lKXQ9MTtlbHNlIGlmKDMyPT1lKXQ9NTtlbHNle2lmKDQhPWUpcmV0dXJuIHRoaXMudG9SYWRpeChlKTt0PTJ9dmFyIHIsYT0oMTw8dCktMSxuPSExLGk9XCJcIixzPXRoaXMudCxvPXRoaXMuREItcyp0aGlzLkRCJXQ7aWYocy0tID4wKWZvcihvPHRoaXMuREImJihyPXRoaXMuZGF0YVtzXT4+byk+MCYmKG49ITAsaT1jKHIpKTtzPj0wOylvPHQ/KHI9KHRoaXMuZGF0YVtzXSYoMTw8byktMSk8PHQtbyxyfD10aGlzLmRhdGFbLS1zXT4+KG8rPXRoaXMuREItdCkpOihyPXRoaXMuZGF0YVtzXT4+KG8tPXQpJmEsbzw9MCYmKG8rPXRoaXMuREIsLS1zKSkscj4wJiYobj0hMCksbiYmKGkrPWMocikpO3JldHVybiBuP2k6XCIwXCJ9ZnVuY3Rpb24gZygpe3ZhciBlPW4oKTtyZXR1cm4gYS5aRVJPLnN1YlRvKHRoaXMsZSksZX1mdW5jdGlvbiB2KCl7cmV0dXJuIHRoaXMuczwwP3RoaXMubmVnYXRlKCk6dGhpc31mdW5jdGlvbiBtKGUpe3ZhciB0PXRoaXMucy1lLnM7aWYoMCE9dClyZXR1cm4gdDt2YXIgcj10aGlzLnQ7aWYodD1yLWUudCwwIT10KXJldHVybiB0aGlzLnM8MD8tdDp0O2Zvcig7LS1yPj0wOylpZigwIT0odD10aGlzLmRhdGFbcl0tZS5kYXRhW3JdKSlyZXR1cm4gdDtyZXR1cm4gMH1mdW5jdGlvbiBDKGUpe3ZhciB0LHI9MTtyZXR1cm4gMCE9KHQ9ZT4+PjE2KSYmKGU9dCxyKz0xNiksMCE9KHQ9ZT4+OCkmJihlPXQscis9OCksMCE9KHQ9ZT4+NCkmJihlPXQscis9NCksMCE9KHQ9ZT4+MikmJihlPXQscis9MiksMCE9KHQ9ZT4+MSkmJihlPXQscis9MSkscn1mdW5jdGlvbiBFKCl7cmV0dXJuIHRoaXMudDw9MD8wOnRoaXMuREIqKHRoaXMudC0xKStDKHRoaXMuZGF0YVt0aGlzLnQtMV1edGhpcy5zJnRoaXMuRE0pfWZ1bmN0aW9uIFMoZSx0KXt2YXIgcjtmb3Iocj10aGlzLnQtMTtyPj0wOy0tcil0LmRhdGFbcitlXT10aGlzLmRhdGFbcl07Zm9yKHI9ZS0xO3I+PTA7LS1yKXQuZGF0YVtyXT0wO3QudD10aGlzLnQrZSx0LnM9dGhpcy5zfWZ1bmN0aW9uIFQoZSx0KXtmb3IodmFyIHI9ZTtyPHRoaXMudDsrK3IpdC5kYXRhW3ItZV09dGhpcy5kYXRhW3JdO3QudD1NYXRoLm1heCh0aGlzLnQtZSwwKSx0LnM9dGhpcy5zfWZ1bmN0aW9uIEkoZSx0KXt2YXIgcixhPWUldGhpcy5EQixuPXRoaXMuREItYSxpPSgxPDxuKS0xLHM9TWF0aC5mbG9vcihlL3RoaXMuREIpLG89dGhpcy5zPDxhJnRoaXMuRE07Zm9yKHI9dGhpcy50LTE7cj49MDstLXIpdC5kYXRhW3IrcysxXT10aGlzLmRhdGFbcl0+Pm58byxvPSh0aGlzLmRhdGFbcl0maSk8PGE7Zm9yKHI9cy0xO3I+PTA7LS1yKXQuZGF0YVtyXT0wO3QuZGF0YVtzXT1vLHQudD10aGlzLnQrcysxLHQucz10aGlzLnMsdC5jbGFtcCgpfWZ1bmN0aW9uIEEoZSx0KXt0LnM9dGhpcy5zO3ZhciByPU1hdGguZmxvb3IoZS90aGlzLkRCKTtpZihyPj10aGlzLnQpcmV0dXJuIHZvaWQodC50PTApO3ZhciBhPWUldGhpcy5EQixuPXRoaXMuREItYSxpPSgxPDxhKS0xO3QuZGF0YVswXT10aGlzLmRhdGFbcl0+PmE7Zm9yKHZhciBzPXIrMTtzPHRoaXMudDsrK3MpdC5kYXRhW3Mtci0xXXw9KHRoaXMuZGF0YVtzXSZpKTw8bix0LmRhdGFbcy1yXT10aGlzLmRhdGFbc10+PmE7YT4wJiYodC5kYXRhW3RoaXMudC1yLTFdfD0odGhpcy5zJmkpPDxuKSx0LnQ9dGhpcy50LXIsdC5jbGFtcCgpfWZ1bmN0aW9uIGIoZSx0KXtmb3IodmFyIHI9MCxhPTAsbj1NYXRoLm1pbihlLnQsdGhpcy50KTtyPG47KWErPXRoaXMuZGF0YVtyXS1lLmRhdGFbcl0sdC5kYXRhW3IrK109YSZ0aGlzLkRNLGE+Pj10aGlzLkRCO2lmKGUudDx0aGlzLnQpe2ZvcihhLT1lLnM7cjx0aGlzLnQ7KWErPXRoaXMuZGF0YVtyXSx0LmRhdGFbcisrXT1hJnRoaXMuRE0sYT4+PXRoaXMuREI7YSs9dGhpcy5zfWVsc2V7Zm9yKGErPXRoaXMucztyPGUudDspYS09ZS5kYXRhW3JdLHQuZGF0YVtyKytdPWEmdGhpcy5ETSxhPj49dGhpcy5EQjthLT1lLnN9dC5zPWE8MD8tMTowLGE8LTE/dC5kYXRhW3IrK109dGhpcy5EVithOmE+MCYmKHQuZGF0YVtyKytdPWEpLHQudD1yLHQuY2xhbXAoKX1mdW5jdGlvbiBCKGUsdCl7dmFyIHI9dGhpcy5hYnMoKSxuPWUuYWJzKCksaT1yLnQ7Zm9yKHQudD1pK24udDstLWk+PTA7KXQuZGF0YVtpXT0wO2ZvcihpPTA7aTxuLnQ7KytpKXQuZGF0YVtpK3IudF09ci5hbSgwLG4uZGF0YVtpXSx0LGksMCxyLnQpO3Qucz0wLHQuY2xhbXAoKSx0aGlzLnMhPWUucyYmYS5aRVJPLnN1YlRvKHQsdCl9ZnVuY3Rpb24gTihlKXtmb3IodmFyIHQ9dGhpcy5hYnMoKSxyPWUudD0yKnQudDstLXI+PTA7KWUuZGF0YVtyXT0wO2ZvcihyPTA7cjx0LnQtMTsrK3Ipe3ZhciBhPXQuYW0ocix0LmRhdGFbcl0sZSwyKnIsMCwxKTsoZS5kYXRhW3IrdC50XSs9dC5hbShyKzEsMip0LmRhdGFbcl0sZSwyKnIrMSxhLHQudC1yLTEpKT49dC5EViYmKGUuZGF0YVtyK3QudF0tPXQuRFYsZS5kYXRhW3IrdC50KzFdPTEpfWUudD4wJiYoZS5kYXRhW2UudC0xXSs9dC5hbShyLHQuZGF0YVtyXSxlLDIqciwwLDEpKSxlLnM9MCxlLmNsYW1wKCl9ZnVuY3Rpb24gayhlLHQscil7dmFyIGk9ZS5hYnMoKTtpZighKGkudDw9MCkpe3ZhciBzPXRoaXMuYWJzKCk7aWYocy50PGkudClyZXR1cm4gbnVsbCE9dCYmdC5mcm9tSW50KDApLHZvaWQobnVsbCE9ciYmdGhpcy5jb3B5VG8ocikpO251bGw9PXImJihyPW4oKSk7dmFyIG89bigpLGM9dGhpcy5zLHU9ZS5zLGw9dGhpcy5EQi1DKGkuZGF0YVtpLnQtMV0pO2w+MD8oaS5sU2hpZnRUbyhsLG8pLHMubFNoaWZ0VG8obCxyKSk6KGkuY29weVRvKG8pLHMuY29weVRvKHIpKTt2YXIgcD1vLnQsaD1vLmRhdGFbcC0xXTtpZigwIT1oKXt2YXIgZj1oKigxPDx0aGlzLkYxKSsocD4xP28uZGF0YVtwLTJdPj50aGlzLkYyOjApLGQ9dGhpcy5GVi9mLHk9KDE8PHRoaXMuRjEpL2YsZz0xPDx0aGlzLkYyLHY9ci50LG09di1wLEU9bnVsbD09dD9uKCk6dDtmb3Ioby5kbFNoaWZ0VG8obSxFKSxyLmNvbXBhcmVUbyhFKT49MCYmKHIuZGF0YVtyLnQrK109MSxyLnN1YlRvKEUscikpLGEuT05FLmRsU2hpZnRUbyhwLEUpLEUuc3ViVG8obyxvKTtvLnQ8cDspby5kYXRhW28udCsrXT0wO2Zvcig7LS1tPj0wOyl7dmFyIFM9ci5kYXRhWy0tdl09PWg/dGhpcy5ETTpNYXRoLmZsb29yKHIuZGF0YVt2XSpkKyhyLmRhdGFbdi0xXStnKSp5KTtpZigoci5kYXRhW3ZdKz1vLmFtKDAsUyxyLG0sMCxwKSk8Uylmb3Ioby5kbFNoaWZ0VG8obSxFKSxyLnN1YlRvKEUscik7ci5kYXRhW3ZdPC0tUzspci5zdWJUbyhFLHIpfW51bGwhPXQmJihyLmRyU2hpZnRUbyhwLHQpLGMhPXUmJmEuWkVSTy5zdWJUbyh0LHQpKSxyLnQ9cCxyLmNsYW1wKCksbD4wJiZyLnJTaGlmdFRvKGwsciksYzwwJiZhLlpFUk8uc3ViVG8ocixyKX19fWZ1bmN0aW9uIFIoZSl7dmFyIHQ9bigpO3JldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKGUsbnVsbCx0KSx0aGlzLnM8MCYmdC5jb21wYXJlVG8oYS5aRVJPKT4wJiZlLnN1YlRvKHQsdCksdH1mdW5jdGlvbiB3KGUpe3RoaXMubT1lfWZ1bmN0aW9uIEwoZSl7cmV0dXJuIGUuczwwfHxlLmNvbXBhcmVUbyh0aGlzLm0pPj0wP2UubW9kKHRoaXMubSk6ZX1mdW5jdGlvbiBfKGUpe3JldHVybiBlfWZ1bmN0aW9uIFUoZSl7ZS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxlKX1mdW5jdGlvbiBEKGUsdCxyKXtlLm11bHRpcGx5VG8odCxyKSx0aGlzLnJlZHVjZShyKX1mdW5jdGlvbiBQKGUsdCl7ZS5zcXVhcmVUbyh0KSx0aGlzLnJlZHVjZSh0KX1mdW5jdGlvbiBWKCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIGU9dGhpcy5kYXRhWzBdO2lmKDA9PSgxJmUpKXJldHVybiAwO3ZhciB0PTMmZTtyZXR1cm4gdD10KigyLSgxNSZlKSp0KSYxNSx0PXQqKDItKDI1NSZlKSp0KSYyNTUsdD10KigyLSgoNjU1MzUmZSkqdCY2NTUzNSkpJjY1NTM1LHQ9dCooMi1lKnQldGhpcy5EVikldGhpcy5EVix0PjA/dGhpcy5EVi10Oi10fWZ1bmN0aW9uIE8oZSl7dGhpcy5tPWUsdGhpcy5tcD1lLmludkRpZ2l0KCksdGhpcy5tcGw9MzI3NjcmdGhpcy5tcCx0aGlzLm1waD10aGlzLm1wPj4xNSx0aGlzLnVtPSgxPDxlLkRCLTE1KS0xLHRoaXMubXQyPTIqZS50fWZ1bmN0aW9uIHgoZSl7dmFyIHQ9bigpO3JldHVybiBlLmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCx0KSx0LmRpdlJlbVRvKHRoaXMubSxudWxsLHQpLGUuczwwJiZ0LmNvbXBhcmVUbyhhLlpFUk8pPjAmJnRoaXMubS5zdWJUbyh0LHQpLHR9ZnVuY3Rpb24gSyhlKXt2YXIgdD1uKCk7cmV0dXJuIGUuY29weVRvKHQpLHRoaXMucmVkdWNlKHQpLHR9ZnVuY3Rpb24gTShlKXtmb3IoO2UudDw9dGhpcy5tdDI7KWUuZGF0YVtlLnQrK109MDtmb3IodmFyIHQ9MDt0PHRoaXMubS50OysrdCl7dmFyIHI9MzI3NjcmZS5kYXRhW3RdLGE9cip0aGlzLm1wbCsoKHIqdGhpcy5tcGgrKGUuZGF0YVt0XT4+MTUpKnRoaXMubXBsJnRoaXMudW0pPDwxNSkmZS5ETTtmb3Iocj10K3RoaXMubS50LGUuZGF0YVtyXSs9dGhpcy5tLmFtKDAsYSxlLHQsMCx0aGlzLm0udCk7ZS5kYXRhW3JdPj1lLkRWOyllLmRhdGFbcl0tPWUuRFYsZS5kYXRhWysrcl0rK31lLmNsYW1wKCksZS5kclNoaWZ0VG8odGhpcy5tLnQsZSksZS5jb21wYXJlVG8odGhpcy5tKT49MCYmZS5zdWJUbyh0aGlzLm0sZSl9ZnVuY3Rpb24gRihlLHQpe2Uuc3F1YXJlVG8odCksdGhpcy5yZWR1Y2UodCl9ZnVuY3Rpb24gcShlLHQscil7ZS5tdWx0aXBseVRvKHQsciksdGhpcy5yZWR1Y2Uocil9ZnVuY3Rpb24gaigpe3JldHVybiAwPT0odGhpcy50PjA/MSZ0aGlzLmRhdGFbMF06dGhpcy5zKX1mdW5jdGlvbiBIKGUsdCl7aWYoZT40Mjk0OTY3Mjk1fHxlPDEpcmV0dXJuIGEuT05FO3ZhciByPW4oKSxpPW4oKSxzPXQuY29udmVydCh0aGlzKSxvPUMoZSktMTtmb3Iocy5jb3B5VG8ocik7LS1vPj0wOylpZih0LnNxclRvKHIsaSksKGUmMTw8byk+MCl0Lm11bFRvKGkscyxyKTtlbHNle3ZhciBjPXI7cj1pLGk9Y31yZXR1cm4gdC5yZXZlcnQocil9ZnVuY3Rpb24gRyhlLHQpe3ZhciByO3JldHVybiByPWU8MjU2fHx0LmlzRXZlbigpP25ldyB3KHQpOm5ldyBPKHQpLHRoaXMuZXhwKGUscil9ZnVuY3Rpb24gUSgpe3ZhciBlPW4oKTtyZXR1cm4gdGhpcy5jb3B5VG8oZSksZX1mdW5jdGlvbiB6KCl7aWYodGhpcy5zPDApe2lmKDE9PXRoaXMudClyZXR1cm4gdGhpcy5kYXRhWzBdLXRoaXMuRFY7aWYoMD09dGhpcy50KXJldHVybi0xfWVsc2V7aWYoMT09dGhpcy50KXJldHVybiB0aGlzLmRhdGFbMF07aWYoMD09dGhpcy50KXJldHVybiAwfXJldHVybih0aGlzLmRhdGFbMV0mKDE8PDMyLXRoaXMuREIpLTEpPDx0aGlzLkRCfHRoaXMuZGF0YVswXX1mdW5jdGlvbiBXKCl7cmV0dXJuIDA9PXRoaXMudD90aGlzLnM6dGhpcy5kYXRhWzBdPDwyND4+MjR9ZnVuY3Rpb24gWCgpe3JldHVybiAwPT10aGlzLnQ/dGhpcy5zOnRoaXMuZGF0YVswXTw8MTY+PjE2fWZ1bmN0aW9uIFkoZSl7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5MTjIqdGhpcy5EQi9NYXRoLmxvZyhlKSl9ZnVuY3Rpb24gWigpe3JldHVybiB0aGlzLnM8MD8tMTp0aGlzLnQ8PTB8fDE9PXRoaXMudCYmdGhpcy5kYXRhWzBdPD0wPzA6MX1mdW5jdGlvbiBKKGUpe2lmKG51bGw9PWUmJihlPTEwKSwwPT10aGlzLnNpZ251bSgpfHxlPDJ8fGU+MzYpcmV0dXJuXCIwXCI7dmFyIHQ9dGhpcy5jaHVua1NpemUoZSkscj1NYXRoLnBvdyhlLHQpLGE9aChyKSxpPW4oKSxzPW4oKSxvPVwiXCI7Zm9yKHRoaXMuZGl2UmVtVG8oYSxpLHMpO2kuc2lnbnVtKCk+MDspbz0ocitzLmludFZhbHVlKCkpLnRvU3RyaW5nKGUpLnN1YnN0cigxKStvLGkuZGl2UmVtVG8oYSxpLHMpO3JldHVybiBzLmludFZhbHVlKCkudG9TdHJpbmcoZSkrb31mdW5jdGlvbiAkKGUsdCl7dGhpcy5mcm9tSW50KDApLG51bGw9PXQmJih0PTEwKTtmb3IodmFyIHI9dGhpcy5jaHVua1NpemUodCksbj1NYXRoLnBvdyh0LHIpLGk9ITEscz0wLG89MCxjPTA7YzxlLmxlbmd0aDsrK2Mpe3ZhciBsPXUoZSxjKTtsPDA/XCItXCI9PWUuY2hhckF0KGMpJiYwPT10aGlzLnNpZ251bSgpJiYoaT0hMCk6KG89dCpvK2wsKytzPj1yJiYodGhpcy5kTXVsdGlwbHkobiksdGhpcy5kQWRkT2Zmc2V0KG8sMCkscz0wLG89MCkpfXM+MCYmKHRoaXMuZE11bHRpcGx5KE1hdGgucG93KHQscykpLHRoaXMuZEFkZE9mZnNldChvLDApKSxpJiZhLlpFUk8uc3ViVG8odGhpcyx0aGlzKX1mdW5jdGlvbiBlZShlLHQscil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpaWYoZTwyKXRoaXMuZnJvbUludCgxKTtlbHNlIGZvcih0aGlzLmZyb21OdW1iZXIoZSxyKSx0aGlzLnRlc3RCaXQoZS0xKXx8dGhpcy5iaXR3aXNlVG8oYS5PTkUuc2hpZnRMZWZ0KGUtMSksY2UsdGhpcyksdGhpcy5pc0V2ZW4oKSYmdGhpcy5kQWRkT2Zmc2V0KDEsMCk7IXRoaXMuaXNQcm9iYWJsZVByaW1lKHQpOyl0aGlzLmRBZGRPZmZzZXQoMiwwKSx0aGlzLmJpdExlbmd0aCgpPmUmJnRoaXMuc3ViVG8oYS5PTkUuc2hpZnRMZWZ0KGUtMSksdGhpcyk7ZWxzZXt2YXIgbj1uZXcgQXJyYXksaT03JmU7bi5sZW5ndGg9KGU+PjMpKzEsdC5uZXh0Qnl0ZXMobiksaT4wP25bMF0mPSgxPDxpKS0xOm5bMF09MCx0aGlzLmZyb21TdHJpbmcobiwyNTYpfX1mdW5jdGlvbiB0ZSgpe3ZhciBlPXRoaXMudCx0PW5ldyBBcnJheTt0WzBdPXRoaXMuczt2YXIgcixhPXRoaXMuREItZSp0aGlzLkRCJTgsbj0wO2lmKGUtLSA+MClmb3IoYTx0aGlzLkRCJiYocj10aGlzLmRhdGFbZV0+PmEpIT0odGhpcy5zJnRoaXMuRE0pPj5hJiYodFtuKytdPXJ8dGhpcy5zPDx0aGlzLkRCLWEpO2U+PTA7KWE8OD8ocj0odGhpcy5kYXRhW2VdJigxPDxhKS0xKTw8OC1hLHJ8PXRoaXMuZGF0YVstLWVdPj4oYSs9dGhpcy5EQi04KSk6KHI9dGhpcy5kYXRhW2VdPj4oYS09OCkmMjU1LGE8PTAmJihhKz10aGlzLkRCLC0tZSkpLDAhPSgxMjgmcikmJihyfD0tMjU2KSwwPT1uJiYoMTI4JnRoaXMucykhPSgxMjgmcikmJisrbiwobj4wfHxyIT10aGlzLnMpJiYodFtuKytdPXIpO3JldHVybiB0fWZ1bmN0aW9uIHJlKGUpe3JldHVybiAwPT10aGlzLmNvbXBhcmVUbyhlKX1mdW5jdGlvbiBhZShlKXtyZXR1cm4gdGhpcy5jb21wYXJlVG8oZSk8MD90aGlzOmV9ZnVuY3Rpb24gbmUoZSl7cmV0dXJuIHRoaXMuY29tcGFyZVRvKGUpPjA/dGhpczplfWZ1bmN0aW9uIGllKGUsdCxyKXt2YXIgYSxuLGk9TWF0aC5taW4oZS50LHRoaXMudCk7Zm9yKGE9MDthPGk7KythKXIuZGF0YVthXT10KHRoaXMuZGF0YVthXSxlLmRhdGFbYV0pO2lmKGUudDx0aGlzLnQpe2ZvcihuPWUucyZ0aGlzLkRNLGE9aTthPHRoaXMudDsrK2Epci5kYXRhW2FdPXQodGhpcy5kYXRhW2FdLG4pO3IudD10aGlzLnR9ZWxzZXtmb3Iobj10aGlzLnMmdGhpcy5ETSxhPWk7YTxlLnQ7KythKXIuZGF0YVthXT10KG4sZS5kYXRhW2FdKTtyLnQ9ZS50fXIucz10KHRoaXMucyxlLnMpLHIuY2xhbXAoKX1mdW5jdGlvbiBzZShlLHQpe3JldHVybiBlJnR9ZnVuY3Rpb24gb2UoZSl7dmFyIHQ9bigpO3JldHVybiB0aGlzLmJpdHdpc2VUbyhlLHNlLHQpLHR9ZnVuY3Rpb24gY2UoZSx0KXtyZXR1cm4gZXx0fWZ1bmN0aW9uIHVlKGUpe3ZhciB0PW4oKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8oZSxjZSx0KSx0fWZ1bmN0aW9uIGxlKGUsdCl7cmV0dXJuIGVedH1mdW5jdGlvbiBwZShlKXt2YXIgdD1uKCk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKGUsbGUsdCksdH1mdW5jdGlvbiBoZShlLHQpe3JldHVybiBlJn50fWZ1bmN0aW9uIGZlKGUpe3ZhciB0PW4oKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8oZSxoZSx0KSx0fWZ1bmN0aW9uIGRlKCl7Zm9yKHZhciBlPW4oKSx0PTA7dDx0aGlzLnQ7Kyt0KWUuZGF0YVt0XT10aGlzLkRNJn50aGlzLmRhdGFbdF07cmV0dXJuIGUudD10aGlzLnQsZS5zPX50aGlzLnMsZX1mdW5jdGlvbiB5ZShlKXt2YXIgdD1uKCk7cmV0dXJuIGU8MD90aGlzLnJTaGlmdFRvKC1lLHQpOnRoaXMubFNoaWZ0VG8oZSx0KSx0fWZ1bmN0aW9uIGdlKGUpe3ZhciB0PW4oKTtyZXR1cm4gZTwwP3RoaXMubFNoaWZ0VG8oLWUsdCk6dGhpcy5yU2hpZnRUbyhlLHQpLHR9ZnVuY3Rpb24gdmUoZSl7aWYoMD09ZSlyZXR1cm4tMTt2YXIgdD0wO3JldHVybiAwPT0oNjU1MzUmZSkmJihlPj49MTYsdCs9MTYpLDA9PSgyNTUmZSkmJihlPj49OCx0Kz04KSwwPT0oMTUmZSkmJihlPj49NCx0Kz00KSwwPT0oMyZlKSYmKGU+Pj0yLHQrPTIpLDA9PSgxJmUpJiYrK3QsdH1mdW5jdGlvbiBtZSgpe2Zvcih2YXIgZT0wO2U8dGhpcy50OysrZSlpZigwIT10aGlzLmRhdGFbZV0pcmV0dXJuIGUqdGhpcy5EQit2ZSh0aGlzLmRhdGFbZV0pO3JldHVybiB0aGlzLnM8MD90aGlzLnQqdGhpcy5EQjotMX1mdW5jdGlvbiBDZShlKXtmb3IodmFyIHQ9MDswIT1lOyllJj1lLTEsKyt0O3JldHVybiB0fWZ1bmN0aW9uIEVlKCl7Zm9yKHZhciBlPTAsdD10aGlzLnMmdGhpcy5ETSxyPTA7cjx0aGlzLnQ7KytyKWUrPUNlKHRoaXMuZGF0YVtyXV50KTtyZXR1cm4gZX1mdW5jdGlvbiBTZShlKXt2YXIgdD1NYXRoLmZsb29yKGUvdGhpcy5EQik7cmV0dXJuIHQ+PXRoaXMudD8wIT10aGlzLnM6MCE9KHRoaXMuZGF0YVt0XSYxPDxlJXRoaXMuREIpfWZ1bmN0aW9uIFRlKGUsdCl7dmFyIHI9YS5PTkUuc2hpZnRMZWZ0KGUpO3JldHVybiB0aGlzLmJpdHdpc2VUbyhyLHQscikscn1mdW5jdGlvbiBJZShlKXtyZXR1cm4gdGhpcy5jaGFuZ2VCaXQoZSxjZSl9ZnVuY3Rpb24gQWUoZSl7cmV0dXJuIHRoaXMuY2hhbmdlQml0KGUsaGUpfWZ1bmN0aW9uIGJlKGUpe3JldHVybiB0aGlzLmNoYW5nZUJpdChlLGxlKX1mdW5jdGlvbiBCZShlLHQpe2Zvcih2YXIgcj0wLGE9MCxuPU1hdGgubWluKGUudCx0aGlzLnQpO3I8bjspYSs9dGhpcy5kYXRhW3JdK2UuZGF0YVtyXSx0LmRhdGFbcisrXT1hJnRoaXMuRE0sYT4+PXRoaXMuREI7aWYoZS50PHRoaXMudCl7Zm9yKGErPWUucztyPHRoaXMudDspYSs9dGhpcy5kYXRhW3JdLHQuZGF0YVtyKytdPWEmdGhpcy5ETSxhPj49dGhpcy5EQjthKz10aGlzLnN9ZWxzZXtmb3IoYSs9dGhpcy5zO3I8ZS50OylhKz1lLmRhdGFbcl0sdC5kYXRhW3IrK109YSZ0aGlzLkRNLGE+Pj10aGlzLkRCO2ErPWUuc310LnM9YTwwPy0xOjAsYT4wP3QuZGF0YVtyKytdPWE6YTwtMSYmKHQuZGF0YVtyKytdPXRoaXMuRFYrYSksdC50PXIsdC5jbGFtcCgpfWZ1bmN0aW9uIE5lKGUpe3ZhciB0PW4oKTtyZXR1cm4gdGhpcy5hZGRUbyhlLHQpLHR9ZnVuY3Rpb24ga2UoZSl7dmFyIHQ9bigpO3JldHVybiB0aGlzLnN1YlRvKGUsdCksdH1mdW5jdGlvbiBSZShlKXt2YXIgdD1uKCk7cmV0dXJuIHRoaXMubXVsdGlwbHlUbyhlLHQpLHR9ZnVuY3Rpb24gd2UoZSl7dmFyIHQ9bigpO3JldHVybiB0aGlzLmRpdlJlbVRvKGUsdCxudWxsKSx0fWZ1bmN0aW9uIExlKGUpe3ZhciB0PW4oKTtyZXR1cm4gdGhpcy5kaXZSZW1UbyhlLG51bGwsdCksdH1mdW5jdGlvbiBfZShlKXt2YXIgdD1uKCkscj1uKCk7cmV0dXJuIHRoaXMuZGl2UmVtVG8oZSx0LHIpLG5ldyBBcnJheSh0LHIpfWZ1bmN0aW9uIFVlKGUpe3RoaXMuZGF0YVt0aGlzLnRdPXRoaXMuYW0oMCxlLTEsdGhpcywwLDAsdGhpcy50KSwrK3RoaXMudCx0aGlzLmNsYW1wKCl9ZnVuY3Rpb24gRGUoZSx0KXtpZigwIT1lKXtmb3IoO3RoaXMudDw9dDspdGhpcy5kYXRhW3RoaXMudCsrXT0wO2Zvcih0aGlzLmRhdGFbdF0rPWU7dGhpcy5kYXRhW3RdPj10aGlzLkRWOyl0aGlzLmRhdGFbdF0tPXRoaXMuRFYsKyt0Pj10aGlzLnQmJih0aGlzLmRhdGFbdGhpcy50KytdPTApLCsrdGhpcy5kYXRhW3RdfX1mdW5jdGlvbiBQZSgpe31mdW5jdGlvbiBWZShlKXtyZXR1cm4gZX1mdW5jdGlvbiBPZShlLHQscil7ZS5tdWx0aXBseVRvKHQscil9ZnVuY3Rpb24geGUoZSx0KXtlLnNxdWFyZVRvKHQpfWZ1bmN0aW9uIEtlKGUpe3JldHVybiB0aGlzLmV4cChlLG5ldyBQZSl9ZnVuY3Rpb24gTWUoZSx0LHIpe3ZhciBhPU1hdGgubWluKHRoaXMudCtlLnQsdCk7Zm9yKHIucz0wLHIudD1hO2E+MDspci5kYXRhWy0tYV09MDt2YXIgbjtmb3Iobj1yLnQtdGhpcy50O2E8bjsrK2Epci5kYXRhW2ErdGhpcy50XT10aGlzLmFtKDAsZS5kYXRhW2FdLHIsYSwwLHRoaXMudCk7Zm9yKG49TWF0aC5taW4oZS50LHQpO2E8bjsrK2EpdGhpcy5hbSgwLGUuZGF0YVthXSxyLGEsMCx0LWEpO3IuY2xhbXAoKX1mdW5jdGlvbiBGZShlLHQscil7LS10O3ZhciBhPXIudD10aGlzLnQrZS50LXQ7Zm9yKHIucz0wOy0tYT49MDspci5kYXRhW2FdPTA7Zm9yKGE9TWF0aC5tYXgodC10aGlzLnQsMCk7YTxlLnQ7KythKXIuZGF0YVt0aGlzLnQrYS10XT10aGlzLmFtKHQtYSxlLmRhdGFbYV0sciwwLDAsdGhpcy50K2EtdCk7ci5jbGFtcCgpLHIuZHJTaGlmdFRvKDEscil9ZnVuY3Rpb24gcWUoZSl7dGhpcy5yMj1uKCksdGhpcy5xMz1uKCksYS5PTkUuZGxTaGlmdFRvKDIqZS50LHRoaXMucjIpLHRoaXMubXU9dGhpcy5yMi5kaXZpZGUoZSksdGhpcy5tPWV9ZnVuY3Rpb24gamUoZSl7aWYoZS5zPDB8fGUudD4yKnRoaXMubS50KXJldHVybiBlLm1vZCh0aGlzLm0pO2lmKGUuY29tcGFyZVRvKHRoaXMubSk8MClyZXR1cm4gZTt2YXIgdD1uKCk7cmV0dXJuIGUuY29weVRvKHQpLHRoaXMucmVkdWNlKHQpLHR9ZnVuY3Rpb24gSGUoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gR2UoZSl7Zm9yKGUuZHJTaGlmdFRvKHRoaXMubS50LTEsdGhpcy5yMiksZS50PnRoaXMubS50KzEmJihlLnQ9dGhpcy5tLnQrMSxlLmNsYW1wKCkpLHRoaXMubXUubXVsdGlwbHlVcHBlclRvKHRoaXMucjIsdGhpcy5tLnQrMSx0aGlzLnEzKSx0aGlzLm0ubXVsdGlwbHlMb3dlclRvKHRoaXMucTMsdGhpcy5tLnQrMSx0aGlzLnIyKTtlLmNvbXBhcmVUbyh0aGlzLnIyKTwwOyllLmRBZGRPZmZzZXQoMSx0aGlzLm0udCsxKTtmb3IoZS5zdWJUbyh0aGlzLnIyLGUpO2UuY29tcGFyZVRvKHRoaXMubSk+PTA7KWUuc3ViVG8odGhpcy5tLGUpfWZ1bmN0aW9uIFFlKGUsdCl7ZS5zcXVhcmVUbyh0KSx0aGlzLnJlZHVjZSh0KX1mdW5jdGlvbiB6ZShlLHQscil7ZS5tdWx0aXBseVRvKHQsciksdGhpcy5yZWR1Y2Uocil9ZnVuY3Rpb24gV2UoZSx0KXt2YXIgcixhLGk9ZS5iaXRMZW5ndGgoKSxzPWgoMSk7aWYoaTw9MClyZXR1cm4gcztyPWk8MTg/MTppPDQ4PzM6aTwxNDQ/NDppPDc2OD81OjYsYT1pPDg/bmV3IHcodCk6dC5pc0V2ZW4oKT9uZXcgcWUodCk6bmV3IE8odCk7dmFyIG89bmV3IEFycmF5LGM9Myx1PXItMSxsPSgxPDxyKS0xO2lmKG9bMV09YS5jb252ZXJ0KHRoaXMpLHI+MSl7dmFyIHA9bigpO2ZvcihhLnNxclRvKG9bMV0scCk7Yzw9bDspb1tjXT1uKCksYS5tdWxUbyhwLG9bYy0yXSxvW2NdKSxjKz0yfXZhciBmLGQseT1lLnQtMSxnPSEwLHY9bigpO2ZvcihpPUMoZS5kYXRhW3ldKS0xO3k+PTA7KXtmb3IoaT49dT9mPWUuZGF0YVt5XT4+aS11Jmw6KGY9KGUuZGF0YVt5XSYoMTw8aSsxKS0xKTw8dS1pLHk+MCYmKGZ8PWUuZGF0YVt5LTFdPj50aGlzLkRCK2ktdSkpLGM9cjswPT0oMSZmKTspZj4+PTEsLS1jO2lmKChpLT1jKTwwJiYoaSs9dGhpcy5EQiwtLXkpLGcpb1tmXS5jb3B5VG8ocyksZz0hMTtlbHNle2Zvcig7Yz4xOylhLnNxclRvKHMsdiksYS5zcXJUbyh2LHMpLGMtPTI7Yz4wP2Euc3FyVG8ocyx2KTooZD1zLHM9dix2PWQpLGEubXVsVG8odixvW2ZdLHMpfWZvcig7eT49MCYmMD09KGUuZGF0YVt5XSYxPDxpKTspYS5zcXJUbyhzLHYpLGQ9cyxzPXYsdj1kLC0taTwwJiYoaT10aGlzLkRCLTEsLS15KX1yZXR1cm4gYS5yZXZlcnQocyl9ZnVuY3Rpb24gWGUoZSl7dmFyIHQ9dGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzLmNsb25lKCkscj1lLnM8MD9lLm5lZ2F0ZSgpOmUuY2xvbmUoKTtpZih0LmNvbXBhcmVUbyhyKTwwKXt2YXIgYT10O3Q9cixyPWF9dmFyIG49dC5nZXRMb3dlc3RTZXRCaXQoKSxpPXIuZ2V0TG93ZXN0U2V0Qml0KCk7aWYoaTwwKXJldHVybiB0O2ZvcihuPGkmJihpPW4pLGk+MCYmKHQuclNoaWZ0VG8oaSx0KSxyLnJTaGlmdFRvKGkscikpO3Quc2lnbnVtKCk+MDspKG49dC5nZXRMb3dlc3RTZXRCaXQoKSk+MCYmdC5yU2hpZnRUbyhuLHQpLChuPXIuZ2V0TG93ZXN0U2V0Qml0KCkpPjAmJnIuclNoaWZ0VG8obixyKSx0LmNvbXBhcmVUbyhyKT49MD8odC5zdWJUbyhyLHQpLHQuclNoaWZ0VG8oMSx0KSk6KHIuc3ViVG8odCxyKSxyLnJTaGlmdFRvKDEscikpO3JldHVybiBpPjAmJnIubFNoaWZ0VG8oaSxyKSxyfWZ1bmN0aW9uIFllKGUpe2lmKGU8PTApcmV0dXJuIDA7dmFyIHQ9dGhpcy5EViVlLHI9dGhpcy5zPDA/ZS0xOjA7aWYodGhpcy50PjApaWYoMD09dClyPXRoaXMuZGF0YVswXSVlO2Vsc2UgZm9yKHZhciBhPXRoaXMudC0xO2E+PTA7LS1hKXI9KHQqcit0aGlzLmRhdGFbYV0pJWU7cmV0dXJuIHJ9ZnVuY3Rpb24gWmUoZSl7dmFyIHQ9ZS5pc0V2ZW4oKTtpZih0aGlzLmlzRXZlbigpJiZ0fHwwPT1lLnNpZ251bSgpKXJldHVybiBhLlpFUk87Zm9yKHZhciByPWUuY2xvbmUoKSxuPXRoaXMuY2xvbmUoKSxpPWgoMSkscz1oKDApLG89aCgwKSxjPWgoMSk7MCE9ci5zaWdudW0oKTspe2Zvcig7ci5pc0V2ZW4oKTspci5yU2hpZnRUbygxLHIpLHQ/KGkuaXNFdmVuKCkmJnMuaXNFdmVuKCl8fChpLmFkZFRvKHRoaXMsaSkscy5zdWJUbyhlLHMpKSxpLnJTaGlmdFRvKDEsaSkpOnMuaXNFdmVuKCl8fHMuc3ViVG8oZSxzKSxzLnJTaGlmdFRvKDEscyk7Zm9yKDtuLmlzRXZlbigpOyluLnJTaGlmdFRvKDEsbiksdD8oby5pc0V2ZW4oKSYmYy5pc0V2ZW4oKXx8KG8uYWRkVG8odGhpcyxvKSxjLnN1YlRvKGUsYykpLG8uclNoaWZ0VG8oMSxvKSk6Yy5pc0V2ZW4oKXx8Yy5zdWJUbyhlLGMpLGMuclNoaWZ0VG8oMSxjKTtyLmNvbXBhcmVUbyhuKT49MD8oci5zdWJUbyhuLHIpLHQmJmkuc3ViVG8obyxpKSxzLnN1YlRvKGMscykpOihuLnN1YlRvKHIsbiksdCYmby5zdWJUbyhpLG8pLGMuc3ViVG8ocyxjKSl9cmV0dXJuIDAhPW4uY29tcGFyZVRvKGEuT05FKT9hLlpFUk86Yy5jb21wYXJlVG8oZSk+PTA/Yy5zdWJ0cmFjdChlKTpjLnNpZ251bSgpPDA/KGMuYWRkVG8oZSxjKSxjLnNpZ251bSgpPDA/Yy5hZGQoZSk6Yyk6Y31mdW5jdGlvbiBKZShlKXt2YXIgdCxyPXRoaXMuYWJzKCk7aWYoMT09ci50JiZyLmRhdGFbMF08PWx0W2x0Lmxlbmd0aC0xXSl7Zm9yKHQ9MDt0PGx0Lmxlbmd0aDsrK3QpaWYoci5kYXRhWzBdPT1sdFt0XSlyZXR1cm4hMDtyZXR1cm4hMX1pZihyLmlzRXZlbigpKXJldHVybiExO2Zvcih0PTE7dDxsdC5sZW5ndGg7KXtmb3IodmFyIGE9bHRbdF0sbj10KzE7bjxsdC5sZW5ndGgmJmE8cHQ7KWEqPWx0W24rK107Zm9yKGE9ci5tb2RJbnQoYSk7dDxuOylpZihhJWx0W3QrK109PTApcmV0dXJuITF9cmV0dXJuIHIubWlsbGVyUmFiaW4oZSl9ZnVuY3Rpb24gJGUoZSl7dmFyIHQ9dGhpcy5zdWJ0cmFjdChhLk9ORSkscj10LmdldExvd2VzdFNldEJpdCgpO2lmKHI8PTApcmV0dXJuITE7Zm9yKHZhciBuLGk9dC5zaGlmdFJpZ2h0KHIpLHM9ZXQoKSxvPTA7bzxlOysrbyl7ZG8gbj1uZXcgYSh0aGlzLmJpdExlbmd0aCgpLHMpO3doaWxlKG4uY29tcGFyZVRvKGEuT05FKTw9MHx8bi5jb21wYXJlVG8odCk+PTApO3ZhciBjPW4ubW9kUG93KGksdGhpcyk7aWYoMCE9Yy5jb21wYXJlVG8oYS5PTkUpJiYwIT1jLmNvbXBhcmVUbyh0KSl7Zm9yKHZhciB1PTE7dSsrPHImJjAhPWMuY29tcGFyZVRvKHQpOylpZihjPWMubW9kUG93SW50KDIsdGhpcyksMD09Yy5jb21wYXJlVG8oYS5PTkUpKXJldHVybiExO2lmKDAhPWMuY29tcGFyZVRvKHQpKXJldHVybiExfX1yZXR1cm4hMH1mdW5jdGlvbiBldCgpe3JldHVybntuZXh0Qnl0ZXM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3QpZVt0XT1NYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKX19fXZhciB0dD1yKDApO2UuZXhwb3J0cz10dC5qc2JuPXR0LmpzYm58fHt9O3ZhciBydCxhdD0weGRlYWRiZWVmY2FmZSxudD0xNTcxNTA3MD09KDE2Nzc3MjE1JmF0KTt0dC5qc2JuLkJpZ0ludGVnZXI9YSxcInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yPyhhLnByb3RvdHlwZS5hbT1vLHJ0PTI4KTpudCYmXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09bmF2aWdhdG9yLmFwcE5hbWU/KGEucHJvdG90eXBlLmFtPXMscnQ9MzApOm50JiZcIk5ldHNjYXBlXCIhPW5hdmlnYXRvci5hcHBOYW1lPyhhLnByb3RvdHlwZS5hbT1pLHJ0PTI2KTooYS5wcm90b3R5cGUuYW09byxydD0yOCksYS5wcm90b3R5cGUuREI9cnQsYS5wcm90b3R5cGUuRE09KDE8PHJ0KS0xLGEucHJvdG90eXBlLkRWPTE8PHJ0O3ZhciBpdD01MjthLnByb3RvdHlwZS5GVj1NYXRoLnBvdygyLGl0KSxhLnByb3RvdHlwZS5GMT1pdC1ydCxhLnByb3RvdHlwZS5GMj0yKnJ0LWl0O3ZhciBzdCxvdCxjdD1cIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLHV0PW5ldyBBcnJheTtmb3Ioc3Q9XCIwXCIuY2hhckNvZGVBdCgwKSxvdD0wO290PD05Oysrb3QpdXRbc3QrK109b3Q7Zm9yKHN0PVwiYVwiLmNoYXJDb2RlQXQoMCksb3Q9MTA7b3Q8MzY7KytvdCl1dFtzdCsrXT1vdDtmb3Ioc3Q9XCJBXCIuY2hhckNvZGVBdCgwKSxvdD0xMDtvdDwzNjsrK290KXV0W3N0KytdPW90O3cucHJvdG90eXBlLmNvbnZlcnQ9TCx3LnByb3RvdHlwZS5yZXZlcnQ9Xyx3LnByb3RvdHlwZS5yZWR1Y2U9VSx3LnByb3RvdHlwZS5tdWxUbz1ELHcucHJvdG90eXBlLnNxclRvPVAsTy5wcm90b3R5cGUuY29udmVydD14LE8ucHJvdG90eXBlLnJldmVydD1LLE8ucHJvdG90eXBlLnJlZHVjZT1NLE8ucHJvdG90eXBlLm11bFRvPXEsTy5wcm90b3R5cGUuc3FyVG89RixhLnByb3RvdHlwZS5jb3B5VG89bCxhLnByb3RvdHlwZS5mcm9tSW50PXAsXG5hLnByb3RvdHlwZS5mcm9tU3RyaW5nPWYsYS5wcm90b3R5cGUuY2xhbXA9ZCxhLnByb3RvdHlwZS5kbFNoaWZ0VG89UyxhLnByb3RvdHlwZS5kclNoaWZ0VG89VCxhLnByb3RvdHlwZS5sU2hpZnRUbz1JLGEucHJvdG90eXBlLnJTaGlmdFRvPUEsYS5wcm90b3R5cGUuc3ViVG89YixhLnByb3RvdHlwZS5tdWx0aXBseVRvPUIsYS5wcm90b3R5cGUuc3F1YXJlVG89TixhLnByb3RvdHlwZS5kaXZSZW1Ubz1rLGEucHJvdG90eXBlLmludkRpZ2l0PVYsYS5wcm90b3R5cGUuaXNFdmVuPWosYS5wcm90b3R5cGUuZXhwPUgsYS5wcm90b3R5cGUudG9TdHJpbmc9eSxhLnByb3RvdHlwZS5uZWdhdGU9ZyxhLnByb3RvdHlwZS5hYnM9dixhLnByb3RvdHlwZS5jb21wYXJlVG89bSxhLnByb3RvdHlwZS5iaXRMZW5ndGg9RSxhLnByb3RvdHlwZS5tb2Q9UixhLnByb3RvdHlwZS5tb2RQb3dJbnQ9RyxhLlpFUk89aCgwKSxhLk9ORT1oKDEpLFBlLnByb3RvdHlwZS5jb252ZXJ0PVZlLFBlLnByb3RvdHlwZS5yZXZlcnQ9VmUsUGUucHJvdG90eXBlLm11bFRvPU9lLFBlLnByb3RvdHlwZS5zcXJUbz14ZSxxZS5wcm90b3R5cGUuY29udmVydD1qZSxxZS5wcm90b3R5cGUucmV2ZXJ0PUhlLHFlLnByb3RvdHlwZS5yZWR1Y2U9R2UscWUucHJvdG90eXBlLm11bFRvPXplLHFlLnByb3RvdHlwZS5zcXJUbz1RZTt2YXIgbHQ9WzIsMyw1LDcsMTEsMTMsMTcsMTksMjMsMjksMzEsMzcsNDEsNDMsNDcsNTMsNTksNjEsNjcsNzEsNzMsNzksODMsODksOTcsMTAxLDEwMywxMDcsMTA5LDExMywxMjcsMTMxLDEzNywxMzksMTQ5LDE1MSwxNTcsMTYzLDE2NywxNzMsMTc5LDE4MSwxOTEsMTkzLDE5NywxOTksMjExLDIyMywyMjcsMjI5LDIzMywyMzksMjQxLDI1MSwyNTcsMjYzLDI2OSwyNzEsMjc3LDI4MSwyODMsMjkzLDMwNywzMTEsMzEzLDMxNywzMzEsMzM3LDM0NywzNDksMzUzLDM1OSwzNjcsMzczLDM3OSwzODMsMzg5LDM5Nyw0MDEsNDA5LDQxOSw0MjEsNDMxLDQzMyw0MzksNDQzLDQ0OSw0NTcsNDYxLDQ2Myw0NjcsNDc5LDQ4Nyw0OTEsNDk5LDUwMyw1MDldLHB0PSgxPDwyNikvbHRbbHQubGVuZ3RoLTFdO2EucHJvdG90eXBlLmNodW5rU2l6ZT1ZLGEucHJvdG90eXBlLnRvUmFkaXg9SixhLnByb3RvdHlwZS5mcm9tUmFkaXg9JCxhLnByb3RvdHlwZS5mcm9tTnVtYmVyPWVlLGEucHJvdG90eXBlLmJpdHdpc2VUbz1pZSxhLnByb3RvdHlwZS5jaGFuZ2VCaXQ9VGUsYS5wcm90b3R5cGUuYWRkVG89QmUsYS5wcm90b3R5cGUuZE11bHRpcGx5PVVlLGEucHJvdG90eXBlLmRBZGRPZmZzZXQ9RGUsYS5wcm90b3R5cGUubXVsdGlwbHlMb3dlclRvPU1lLGEucHJvdG90eXBlLm11bHRpcGx5VXBwZXJUbz1GZSxhLnByb3RvdHlwZS5tb2RJbnQ9WWUsYS5wcm90b3R5cGUubWlsbGVyUmFiaW49JGUsYS5wcm90b3R5cGUuY2xvbmU9USxhLnByb3RvdHlwZS5pbnRWYWx1ZT16LGEucHJvdG90eXBlLmJ5dGVWYWx1ZT1XLGEucHJvdG90eXBlLnNob3J0VmFsdWU9WCxhLnByb3RvdHlwZS5zaWdudW09WixhLnByb3RvdHlwZS50b0J5dGVBcnJheT10ZSxhLnByb3RvdHlwZS5lcXVhbHM9cmUsYS5wcm90b3R5cGUubWluPWFlLGEucHJvdG90eXBlLm1heD1uZSxhLnByb3RvdHlwZS5hbmQ9b2UsYS5wcm90b3R5cGUub3I9dWUsYS5wcm90b3R5cGUueG9yPXBlLGEucHJvdG90eXBlLmFuZE5vdD1mZSxhLnByb3RvdHlwZS5ub3Q9ZGUsYS5wcm90b3R5cGUuc2hpZnRMZWZ0PXllLGEucHJvdG90eXBlLnNoaWZ0UmlnaHQ9Z2UsYS5wcm90b3R5cGUuZ2V0TG93ZXN0U2V0Qml0PW1lLGEucHJvdG90eXBlLmJpdENvdW50PUVlLGEucHJvdG90eXBlLnRlc3RCaXQ9U2UsYS5wcm90b3R5cGUuc2V0Qml0PUllLGEucHJvdG90eXBlLmNsZWFyQml0PUFlLGEucHJvdG90eXBlLmZsaXBCaXQ9YmUsYS5wcm90b3R5cGUuYWRkPU5lLGEucHJvdG90eXBlLnN1YnRyYWN0PWtlLGEucHJvdG90eXBlLm11bHRpcGx5PVJlLGEucHJvdG90eXBlLmRpdmlkZT13ZSxhLnByb3RvdHlwZS5yZW1haW5kZXI9TGUsYS5wcm90b3R5cGUuZGl2aWRlQW5kUmVtYWluZGVyPV9lLGEucHJvdG90eXBlLm1vZFBvdz1XZSxhLnByb3RvdHlwZS5tb2RJbnZlcnNlPVplLGEucHJvdG90eXBlLnBvdz1LZSxhLnByb3RvdHlwZS5nY2Q9WGUsYS5wcm90b3R5cGUuaXNQcm9iYWJsZVByaW1lPUplfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gYSgpe289U3RyaW5nLmZyb21DaGFyQ29kZSgxMjgpLG8rPWkudXRpbC5maWxsU3RyaW5nKFN0cmluZy5mcm9tQ2hhckNvZGUoMCksNjQpLGM9WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMSw2LDExLDAsNSwxMCwxNSw0LDksMTQsMyw4LDEzLDIsNywxMiw1LDgsMTEsMTQsMSw0LDcsMTAsMTMsMCwzLDYsOSwxMiwxNSwyLDAsNywxNCw1LDEyLDMsMTAsMSw4LDE1LDYsMTMsNCwxMSwyLDldLHU9WzcsMTIsMTcsMjIsNywxMiwxNywyMiw3LDEyLDE3LDIyLDcsMTIsMTcsMjIsNSw5LDE0LDIwLDUsOSwxNCwyMCw1LDksMTQsMjAsNSw5LDE0LDIwLDQsMTEsMTYsMjMsNCwxMSwxNiwyMyw0LDExLDE2LDIzLDQsMTEsMTYsMjMsNiwxMCwxNSwyMSw2LDEwLDE1LDIxLDYsMTAsMTUsMjEsNiwxMCwxNSwyMV0sbD1uZXcgQXJyYXkoNjQpO2Zvcih2YXIgZT0wO2U8NjQ7KytlKWxbZV09TWF0aC5mbG9vcig0Mjk0OTY3Mjk2Kk1hdGguYWJzKE1hdGguc2luKGUrMSkpKTtwPSEwfWZ1bmN0aW9uIG4oZSx0LHIpe2Zvcih2YXIgYSxuLGkscyxvLHAsaCxmLGQ9ci5sZW5ndGgoKTtkPj02NDspe2ZvcihuPWUuaDAsaT1lLmgxLHM9ZS5oMixvPWUuaDMsZj0wO2Y8MTY7KytmKXRbZl09ci5nZXRJbnQzMkxlKCkscD1vXmkmKHNebyksYT1uK3ArbFtmXSt0W2ZdLGg9dVtmXSxuPW8sbz1zLHM9aSxpKz1hPDxofGE+Pj4zMi1oO2Zvcig7ZjwzMjsrK2YpcD1zXm8mKGlecyksYT1uK3ArbFtmXSt0W2NbZl1dLGg9dVtmXSxuPW8sbz1zLHM9aSxpKz1hPDxofGE+Pj4zMi1oO2Zvcig7Zjw0ODsrK2YpcD1pXnNebyxhPW4rcCtsW2ZdK3RbY1tmXV0saD11W2ZdLG49byxvPXMscz1pLGkrPWE8PGh8YT4+PjMyLWg7Zm9yKDtmPDY0OysrZilwPXNeKGl8fm8pLGE9bitwK2xbZl0rdFtjW2ZdXSxoPXVbZl0sbj1vLG89cyxzPWksaSs9YTw8aHxhPj4+MzItaDtlLmgwPWUuaDArbnwwLGUuaDE9ZS5oMStpfDAsZS5oMj1lLmgyK3N8MCxlLmgzPWUuaDMrb3wwLGQtPTY0fX12YXIgaT1yKDApO3IoNCkscigxKTt2YXIgcz1lLmV4cG9ydHM9aS5tZDU9aS5tZDV8fHt9O2kubWQubWQ1PWkubWQuYWxnb3JpdGhtcy5tZDU9cyxzLmNyZWF0ZT1mdW5jdGlvbigpe3B8fGEoKTt2YXIgZT1udWxsLHQ9aS51dGlsLmNyZWF0ZUJ1ZmZlcigpLHI9bmV3IEFycmF5KDE2KSxzPXthbGdvcml0aG06XCJtZDVcIixibG9ja0xlbmd0aDo2NCxkaWdlc3RMZW5ndGg6MTYsbWVzc2FnZUxlbmd0aDowLGZ1bGxNZXNzYWdlTGVuZ3RoOm51bGwsbWVzc2FnZUxlbmd0aFNpemU6OH07cmV0dXJuIHMuc3RhcnQ9ZnVuY3Rpb24oKXtzLm1lc3NhZ2VMZW5ndGg9MCxzLmZ1bGxNZXNzYWdlTGVuZ3RoPXMubWVzc2FnZUxlbmd0aDY0PVtdO2Zvcih2YXIgcj1zLm1lc3NhZ2VMZW5ndGhTaXplLzQsYT0wO2E8cjsrK2Epcy5mdWxsTWVzc2FnZUxlbmd0aC5wdXNoKDApO3JldHVybiB0PWkudXRpbC5jcmVhdGVCdWZmZXIoKSxlPXtoMDoxNzMyNTg0MTkzLGgxOjQwMjMyMzM0MTcsaDI6MjU2MjM4MzEwMixoMzoyNzE3MzM4Nzh9LHN9LHMuc3RhcnQoKSxzLnVwZGF0ZT1mdW5jdGlvbihhLG8pe1widXRmOFwiPT09byYmKGE9aS51dGlsLmVuY29kZVV0ZjgoYSkpO3ZhciBjPWEubGVuZ3RoO3MubWVzc2FnZUxlbmd0aCs9YyxjPVtjLzQyOTQ5NjcyOTY+Pj4wLGM+Pj4wXTtmb3IodmFyIHU9cy5mdWxsTWVzc2FnZUxlbmd0aC5sZW5ndGgtMTt1Pj0wOy0tdSlzLmZ1bGxNZXNzYWdlTGVuZ3RoW3VdKz1jWzFdLGNbMV09Y1swXSsocy5mdWxsTWVzc2FnZUxlbmd0aFt1XS80Mjk0OTY3Mjk2Pj4+MCkscy5mdWxsTWVzc2FnZUxlbmd0aFt1XT1zLmZ1bGxNZXNzYWdlTGVuZ3RoW3VdPj4+MCxjWzBdPWNbMV0vNDI5NDk2NzI5Nj4+PjA7cmV0dXJuIHQucHV0Qnl0ZXMoYSksbihlLHIsdCksKHQucmVhZD4yMDQ4fHwwPT09dC5sZW5ndGgoKSkmJnQuY29tcGFjdCgpLHN9LHMuZGlnZXN0PWZ1bmN0aW9uKCl7dmFyIGE9aS51dGlsLmNyZWF0ZUJ1ZmZlcigpO2EucHV0Qnl0ZXModC5ieXRlcygpKTt2YXIgYz1zLmZ1bGxNZXNzYWdlTGVuZ3RoW3MuZnVsbE1lc3NhZ2VMZW5ndGgubGVuZ3RoLTFdK3MubWVzc2FnZUxlbmd0aFNpemUsdT1jJnMuYmxvY2tMZW5ndGgtMTthLnB1dEJ5dGVzKG8uc3Vic3RyKDAscy5ibG9ja0xlbmd0aC11KSk7Zm9yKHZhciBsLHA9MCxoPXMuZnVsbE1lc3NhZ2VMZW5ndGgubGVuZ3RoLTE7aD49MDstLWgpbD04KnMuZnVsbE1lc3NhZ2VMZW5ndGhbaF0rcCxwPWwvNDI5NDk2NzI5Nj4+PjAsYS5wdXRJbnQzMkxlKGw+Pj4wKTt2YXIgZj17aDA6ZS5oMCxoMTplLmgxLGgyOmUuaDIsaDM6ZS5oM307bihmLHIsYSk7dmFyIGQ9aS51dGlsLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiBkLnB1dEludDMyTGUoZi5oMCksZC5wdXRJbnQzMkxlKGYuaDEpLGQucHV0SW50MzJMZShmLmgyKSxkLnB1dEludDMyTGUoZi5oMyksZH0sc307dmFyIG89bnVsbCxjPW51bGwsdT1udWxsLGw9bnVsbCxwPSExfSxmdW5jdGlvbihlLHQscil7dmFyIGE9cigwKTtyKDgpLHIoNCkscigxKTt2YXIgbixpPWEucGtjczU9YS5wa2NzNXx8e307YS51dGlsLmlzTm9kZWpzJiYhYS5vcHRpb25zLnVzZVB1cmVKYXZhU2NyaXB0JiYobj1yKDMyKSksZS5leHBvcnRzPWEucGJrZGYyPWkucGJrZGYyPWZ1bmN0aW9uKGUsdCxyLGkscyxvKXtmdW5jdGlvbiBjKCl7cmV0dXJuIEM+aD9vKG51bGwsbSk6KGQuc3RhcnQobnVsbCxudWxsKSxkLnVwZGF0ZSh0KSxkLnVwZGF0ZShhLnV0aWwuaW50MzJUb0J5dGVzKEMpKSx5PXY9ZC5kaWdlc3QoKS5nZXRCeXRlcygpLEU9Mix2b2lkIHUoKSl9ZnVuY3Rpb24gdSgpe3JldHVybiBFPD1yPyhkLnN0YXJ0KG51bGwsbnVsbCksZC51cGRhdGUodiksZz1kLmRpZ2VzdCgpLmdldEJ5dGVzKCkseT1hLnV0aWwueG9yQnl0ZXMoeSxnLGwpLHY9ZywrK0UsYS51dGlsLnNldEltbWVkaWF0ZSh1KSk6KG0rPUM8aD95Onkuc3Vic3RyKDAsZiksKytDLHZvaWQgYygpKX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiYobz1zLHM9bnVsbCksYS51dGlsLmlzTm9kZWpzJiYhYS5vcHRpb25zLnVzZVB1cmVKYXZhU2NyaXB0JiZuLnBia2RmMiYmKG51bGw9PT1zfHxcIm9iamVjdFwiIT10eXBlb2YgcykmJihuLnBia2RmMlN5bmMubGVuZ3RoPjR8fCFzfHxcInNoYTFcIj09PXMpKXJldHVyblwic3RyaW5nXCIhPXR5cGVvZiBzJiYocz1cInNoYTFcIiksZT1uZXcgQnVmZmVyKGUsXCJiaW5hcnlcIiksdD1uZXcgQnVmZmVyKHQsXCJiaW5hcnlcIiksbz80PT09bi5wYmtkZjJTeW5jLmxlbmd0aD9uLnBia2RmMihlLHQscixpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/byhlKTp2b2lkIG8obnVsbCx0LnRvU3RyaW5nKFwiYmluYXJ5XCIpKX0pOm4ucGJrZGYyKGUsdCxyLGkscyxmdW5jdGlvbihlLHQpe3JldHVybiBlP28oZSk6dm9pZCBvKG51bGwsdC50b1N0cmluZyhcImJpbmFyeVwiKSl9KTo0PT09bi5wYmtkZjJTeW5jLmxlbmd0aD9uLnBia2RmMlN5bmMoZSx0LHIsaSkudG9TdHJpbmcoXCJiaW5hcnlcIik6bi5wYmtkZjJTeW5jKGUsdCxyLGkscykudG9TdHJpbmcoXCJiaW5hcnlcIik7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHMmJm51bGwhPT1zfHwocz1cInNoYTFcIiksXCJzdHJpbmdcIj09dHlwZW9mIHMpe2lmKCEocyBpbiBhLm1kLmFsZ29yaXRobXMpKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gaGFzaCBhbGdvcml0aG06IFwiK3MpO3M9YS5tZFtzXS5jcmVhdGUoKX12YXIgbD1zLmRpZ2VzdExlbmd0aDtpZihpPjQyOTQ5NjcyOTUqbCl7dmFyIHA9bmV3IEVycm9yKFwiRGVyaXZlZCBrZXkgaXMgdG9vIGxvbmcuXCIpO2lmKG8pcmV0dXJuIG8ocCk7dGhyb3cgcH12YXIgaD1NYXRoLmNlaWwoaS9sKSxmPWktKGgtMSkqbCxkPWEuaG1hYy5jcmVhdGUoKTtkLnN0YXJ0KHMsZSk7dmFyIHksZyx2LG09XCJcIjtpZighbyl7Zm9yKHZhciBDPTE7Qzw9aDsrK0Mpe2Quc3RhcnQobnVsbCxudWxsKSxkLnVwZGF0ZSh0KSxkLnVwZGF0ZShhLnV0aWwuaW50MzJUb0J5dGVzKEMpKSx5PXY9ZC5kaWdlc3QoKS5nZXRCeXRlcygpO2Zvcih2YXIgRT0yO0U8PXI7KytFKWQuc3RhcnQobnVsbCxudWxsKSxkLnVwZGF0ZSh2KSxnPWQuZGlnZXN0KCkuZ2V0Qnl0ZXMoKSx5PWEudXRpbC54b3JCeXRlcyh5LGcsbCksdj1nO20rPUM8aD95Onkuc3Vic3RyKDAsZil9cmV0dXJuIG19dmFyIEUsQz0xO2MoKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yKDApO3IoMikscigxKTt2YXIgbj1lLmV4cG9ydHM9YS5wc3M9YS5wc3N8fHt9O24uY3JlYXRlPWZ1bmN0aW9uKGUpezM9PT1hcmd1bWVudHMubGVuZ3RoJiYoZT17bWQ6YXJndW1lbnRzWzBdLG1nZjphcmd1bWVudHNbMV0sc2FsdExlbmd0aDphcmd1bWVudHNbMl19KTt2YXIgdD1lLm1kLHI9ZS5tZ2Ysbj10LmRpZ2VzdExlbmd0aCxpPWUuc2FsdHx8bnVsbDtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9YS51dGlsLmNyZWF0ZUJ1ZmZlcihpKSk7dmFyIHM7aWYoXCJzYWx0TGVuZ3RoXCJpbiBlKXM9ZS5zYWx0TGVuZ3RoO2Vsc2V7aWYobnVsbD09PWkpdGhyb3cgbmV3IEVycm9yKFwiU2FsdCBsZW5ndGggbm90IHNwZWNpZmllZCBvciBzcGVjaWZpYyBzYWx0IG5vdCBnaXZlbi5cIik7cz1pLmxlbmd0aCgpfWlmKG51bGwhPT1pJiZpLmxlbmd0aCgpIT09cyl0aHJvdyBuZXcgRXJyb3IoXCJHaXZlbiBzYWx0IGxlbmd0aCBkb2VzIG5vdCBtYXRjaCBsZW5ndGggb2YgZ2l2ZW4gc2FsdC5cIik7dmFyIG89ZS5wcm5nfHxhLnJhbmRvbSxjPXt9O3JldHVybiBjLmVuY29kZT1mdW5jdGlvbihlLGMpe3ZhciB1LGw9Yy0xLHA9TWF0aC5jZWlsKGwvOCksaD1lLmRpZ2VzdCgpLmdldEJ5dGVzKCk7aWYocDxuK3MrMil0aHJvdyBuZXcgRXJyb3IoXCJNZXNzYWdlIGlzIHRvbyBsb25nIHRvIGVuY3J5cHQuXCIpO3ZhciBmO2Y9bnVsbD09PWk/by5nZXRCeXRlc1N5bmMocyk6aS5ieXRlcygpO3ZhciBkPW5ldyBhLnV0aWwuQnl0ZUJ1ZmZlcjtkLmZpbGxXaXRoQnl0ZSgwLDgpLGQucHV0Qnl0ZXMoaCksZC5wdXRCeXRlcyhmKSx0LnN0YXJ0KCksdC51cGRhdGUoZC5nZXRCeXRlcygpKTt2YXIgeT10LmRpZ2VzdCgpLmdldEJ5dGVzKCksZz1uZXcgYS51dGlsLkJ5dGVCdWZmZXI7Zy5maWxsV2l0aEJ5dGUoMCxwLXMtbi0yKSxnLnB1dEJ5dGUoMSksZy5wdXRCeXRlcyhmKTt2YXIgdj1nLmdldEJ5dGVzKCksbT1wLW4tMSxDPXIuZ2VuZXJhdGUoeSxtKSxFPVwiXCI7Zm9yKHU9MDt1PG07dSsrKUUrPVN0cmluZy5mcm9tQ2hhckNvZGUodi5jaGFyQ29kZUF0KHUpXkMuY2hhckNvZGVBdCh1KSk7dmFyIFM9NjUyODA+PjgqcC1sJjI1NTtyZXR1cm4gRT1TdHJpbmcuZnJvbUNoYXJDb2RlKEUuY2hhckNvZGVBdCgwKSZ+UykrRS5zdWJzdHIoMSksRSt5K1N0cmluZy5mcm9tQ2hhckNvZGUoMTg4KX0sYy52ZXJpZnk9ZnVuY3Rpb24oZSxpLG8pe3ZhciBjLHU9by0xLGw9TWF0aC5jZWlsKHUvOCk7aWYoaT1pLnN1YnN0cigtbCksbDxuK3MrMil0aHJvdyBuZXcgRXJyb3IoXCJJbmNvbnNpc3RlbnQgcGFyYW1ldGVycyB0byBQU1Mgc2lnbmF0dXJlIHZlcmlmaWNhdGlvbi5cIik7aWYoMTg4IT09aS5jaGFyQ29kZUF0KGwtMSkpdGhyb3cgbmV3IEVycm9yKFwiRW5jb2RlZCBtZXNzYWdlIGRvZXMgbm90IGVuZCBpbiAweEJDLlwiKTt2YXIgcD1sLW4tMSxoPWkuc3Vic3RyKDAscCksZj1pLnN1YnN0cihwLG4pLGQ9NjUyODA+PjgqbC11JjI1NTtpZigwIT09KGguY2hhckNvZGVBdCgwKSZkKSl0aHJvdyBuZXcgRXJyb3IoXCJCaXRzIGJleW9uZCBrZXlzaXplIG5vdCB6ZXJvIGFzIGV4cGVjdGVkLlwiKTt2YXIgeT1yLmdlbmVyYXRlKGYscCksZz1cIlwiO2ZvcihjPTA7YzxwO2MrKylnKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGguY2hhckNvZGVBdChjKV55LmNoYXJDb2RlQXQoYykpO2c9U3RyaW5nLmZyb21DaGFyQ29kZShnLmNoYXJDb2RlQXQoMCkmfmQpK2cuc3Vic3RyKDEpO3ZhciB2PWwtbi1zLTI7Zm9yKGM9MDtjPHY7YysrKWlmKDAhPT1nLmNoYXJDb2RlQXQoYykpdGhyb3cgbmV3IEVycm9yKFwiTGVmdG1vc3Qgb2N0ZXRzIG5vdCB6ZXJvIGFzIGV4cGVjdGVkXCIpO2lmKDEhPT1nLmNoYXJDb2RlQXQodikpdGhyb3cgbmV3IEVycm9yKFwiSW5jb25zaXN0ZW50IFBTUyBzaWduYXR1cmUsIDB4MDEgbWFya2VyIG5vdCBmb3VuZFwiKTt2YXIgbT1nLnN1YnN0cigtcyksQz1uZXcgYS51dGlsLkJ5dGVCdWZmZXI7Qy5maWxsV2l0aEJ5dGUoMCw4KSxDLnB1dEJ5dGVzKGUpLEMucHV0Qnl0ZXMobSksdC5zdGFydCgpLHQudXBkYXRlKEMuZ2V0Qnl0ZXMoKSk7dmFyIEU9dC5kaWdlc3QoKS5nZXRCeXRlcygpO3JldHVybiBmPT09RX0sY319LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBhKGUsdCl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXtzaG9ydE5hbWU6dH0pO2Zvcih2YXIgcixhPW51bGwsbj0wO251bGw9PT1hJiZuPGUuYXR0cmlidXRlcy5sZW5ndGg7KytuKXI9ZS5hdHRyaWJ1dGVzW25dLHQudHlwZSYmdC50eXBlPT09ci50eXBlP2E9cjp0Lm5hbWUmJnQubmFtZT09PXIubmFtZT9hPXI6dC5zaG9ydE5hbWUmJnQuc2hvcnROYW1lPT09ci5zaG9ydE5hbWUmJihhPXIpO3JldHVybiBhfWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciB0LHIsYT1sLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW10pLG49ZS5hdHRyaWJ1dGVzLGk9MDtpPG4ubGVuZ3RoOysraSl7dD1uW2ldO3ZhciBzPXQudmFsdWUsbz1sLlR5cGUuUFJJTlRBQkxFU1RSSU5HO1widmFsdWVUYWdDbGFzc1wiaW4gdCYmKG89dC52YWx1ZVRhZ0NsYXNzLG89PT1sLlR5cGUuVVRGOCYmKHM9dS51dGlsLmVuY29kZVV0ZjgocykpKSxyPWwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVQsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9JRCwhMSxsLm9pZFRvRGVyKHQudHlwZSkuZ2V0Qnl0ZXMoKSksbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbywhMSxzKV0pXSksYS52YWx1ZS5wdXNoKHIpfXJldHVybiBhfWZ1bmN0aW9uIGkoZSl7Zm9yKHZhciB0LHI9MDtyPGUubGVuZ3RoOysrcil7aWYodD1lW3JdLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0Lm5hbWUmJih0LnR5cGUmJnQudHlwZSBpbiBwLm9pZHM/dC5uYW1lPXAub2lkc1t0LnR5cGVdOnQuc2hvcnROYW1lJiZ0LnNob3J0TmFtZSBpbiBmJiYodC5uYW1lPXAub2lkc1tmW3Quc2hvcnROYW1lXV0pKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgdC50eXBlKXtpZighKHQubmFtZSYmdC5uYW1lIGluIHAub2lkcykpe3ZhciBhPW5ldyBFcnJvcihcIkF0dHJpYnV0ZSB0eXBlIG5vdCBzcGVjaWZpZWQuXCIpO3Rocm93IGEuYXR0cmlidXRlPXQsYX10LnR5cGU9cC5vaWRzW3QubmFtZV19aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQuc2hvcnROYW1lJiZ0Lm5hbWUmJnQubmFtZSBpbiBmJiYodC5zaG9ydE5hbWU9Zlt0Lm5hbWVdKSx0LnR5cGU9PT1oLmV4dGVuc2lvblJlcXVlc3QmJih0LnZhbHVlQ29uc3RydWN0ZWQ9ITAsdC52YWx1ZVRhZ0NsYXNzPWwuVHlwZS5TRVFVRU5DRSwhdC52YWx1ZSYmdC5leHRlbnNpb25zKSl7dC52YWx1ZT1bXTtmb3IodmFyIG49MDtuPHQuZXh0ZW5zaW9ucy5sZW5ndGg7KytuKXQudmFsdWUucHVzaChwLmNlcnRpZmljYXRlRXh0ZW5zaW9uVG9Bc24xKHModC5leHRlbnNpb25zW25dKSkpfWlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0LnZhbHVlKXt2YXIgYT1uZXcgRXJyb3IoXCJBdHRyaWJ1dGUgdmFsdWUgbm90IHNwZWNpZmllZC5cIik7dGhyb3cgYS5hdHRyaWJ1dGU9dCxhfX19ZnVuY3Rpb24gcyhlLHQpe2lmKHQ9dHx8e30sXCJ1bmRlZmluZWRcIj09dHlwZW9mIGUubmFtZSYmZS5pZCYmZS5pZCBpbiBwLm9pZHMmJihlLm5hbWU9cC5vaWRzW2UuaWRdKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgZS5pZCl7aWYoIShlLm5hbWUmJmUubmFtZSBpbiBwLm9pZHMpKXt2YXIgcj1uZXcgRXJyb3IoXCJFeHRlbnNpb24gSUQgbm90IHNwZWNpZmllZC5cIik7dGhyb3cgci5leHRlbnNpb249ZSxyfWUuaWQ9cC5vaWRzW2UubmFtZV19aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUudmFsdWUpcmV0dXJuIGU7aWYoXCJrZXlVc2FnZVwiPT09ZS5uYW1lKXt2YXIgYT0wLGk9MCxzPTA7ZS5kaWdpdGFsU2lnbmF0dXJlJiYoaXw9MTI4LGE9NyksZS5ub25SZXB1ZGlhdGlvbiYmKGl8PTY0LGE9NiksZS5rZXlFbmNpcGhlcm1lbnQmJihpfD0zMixhPTUpLGUuZGF0YUVuY2lwaGVybWVudCYmKGl8PTE2LGE9NCksZS5rZXlBZ3JlZW1lbnQmJihpfD04LGE9MyksZS5rZXlDZXJ0U2lnbiYmKGl8PTQsYT0yKSxlLmNSTFNpZ24mJihpfD0yLGE9MSksZS5lbmNpcGhlck9ubHkmJihpfD0xLGE9MCksZS5kZWNpcGhlck9ubHkmJihzfD0xMjgsYT03KTt2YXIgbz1TdHJpbmcuZnJvbUNoYXJDb2RlKGEpOzAhPT1zP28rPVN0cmluZy5mcm9tQ2hhckNvZGUoaSkrU3RyaW5nLmZyb21DaGFyQ29kZShzKTowIT09aSYmKG8rPVN0cmluZy5mcm9tQ2hhckNvZGUoaSkpLGUudmFsdWU9bC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLkJJVFNUUklORywhMSxvKX1lbHNlIGlmKFwiYmFzaWNDb25zdHJhaW50c1wiPT09ZS5uYW1lKWUudmFsdWU9bC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFUVVFTkNFLCEwLFtdKSxlLmNBJiZlLnZhbHVlLnZhbHVlLnB1c2gobC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLkJPT0xFQU4sITEsU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUpKSksXCJwYXRoTGVuQ29uc3RyYWludFwiaW4gZSYmZS52YWx1ZS52YWx1ZS5wdXNoKGwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5JTlRFR0VSLCExLGwuaW50ZWdlclRvRGVyKGUucGF0aExlbkNvbnN0cmFpbnQpLmdldEJ5dGVzKCkpKTtlbHNlIGlmKFwiZXh0S2V5VXNhZ2VcIj09PWUubmFtZSl7ZS52YWx1ZT1sLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW10pO3ZhciBjPWUudmFsdWUudmFsdWU7Zm9yKHZhciBmIGluIGUpZVtmXT09PSEwJiYoZiBpbiBoP2MucHVzaChsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuT0lELCExLGwub2lkVG9EZXIoaFtmXSkuZ2V0Qnl0ZXMoKSkpOmYuaW5kZXhPZihcIi5cIikhPT0tMSYmYy5wdXNoKGwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5PSUQsITEsbC5vaWRUb0RlcihmKS5nZXRCeXRlcygpKSkpfWVsc2UgaWYoXCJuc0NlcnRUeXBlXCI9PT1lLm5hbWUpe3ZhciBhPTAsaT0wO2UuY2xpZW50JiYoaXw9MTI4LGE9NyksZS5zZXJ2ZXImJihpfD02NCxhPTYpLGUuZW1haWwmJihpfD0zMixhPTUpLGUub2Jqc2lnbiYmKGl8PTE2LGE9NCksZS5yZXNlcnZlZCYmKGl8PTgsYT0zKSxlLnNzbENBJiYoaXw9NCxhPTIpLGUuZW1haWxDQSYmKGl8PTIsYT0xKSxlLm9iakNBJiYoaXw9MSxhPTApO3ZhciBvPVN0cmluZy5mcm9tQ2hhckNvZGUoYSk7MCE9PWkmJihvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpKSxlLnZhbHVlPWwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5CSVRTVFJJTkcsITEsbyl9ZWxzZSBpZihcInN1YmplY3RBbHROYW1lXCI9PT1lLm5hbWV8fFwiaXNzdWVyQWx0TmFtZVwiPT09ZS5uYW1lKXtlLnZhbHVlPWwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbXSk7Zm9yKHZhciBkLHk9MDt5PGUuYWx0TmFtZXMubGVuZ3RoOysreSl7ZD1lLmFsdE5hbWVzW3ldO3ZhciBvPWQudmFsdWU7aWYoNz09PWQudHlwZSYmZC5pcCl7aWYobz11LnV0aWwuYnl0ZXNGcm9tSVAoZC5pcCksbnVsbD09PW8pe3ZhciByPW5ldyBFcnJvcignRXh0ZW5zaW9uIFwiaXBcIiB2YWx1ZSBpcyBub3QgYSB2YWxpZCBJUHY0IG9yIElQdjYgYWRkcmVzcy4nKTt0aHJvdyByLmV4dGVuc2lvbj1lLHJ9fWVsc2UgOD09PWQudHlwZSYmKG89ZC5vaWQ/bC5vaWRUb0RlcihsLm9pZFRvRGVyKGQub2lkKSk6bC5vaWRUb0RlcihvKSk7ZS52YWx1ZS52YWx1ZS5wdXNoKGwuY3JlYXRlKGwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQyxkLnR5cGUsITEsbykpfX1lbHNlIGlmKFwic3ViamVjdEtleUlkZW50aWZpZXJcIj09PWUubmFtZSYmdC5jZXJ0KXt2YXIgZz10LmNlcnQuZ2VuZXJhdGVTdWJqZWN0S2V5SWRlbnRpZmllcigpO2Uuc3ViamVjdEtleUlkZW50aWZpZXI9Zy50b0hleCgpLGUudmFsdWU9bC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9DVEVUU1RSSU5HLCExLGcuZ2V0Qnl0ZXMoKSl9ZWxzZSBpZihcImF1dGhvcml0eUtleUlkZW50aWZpZXJcIj09PWUubmFtZSYmdC5jZXJ0KXtlLnZhbHVlPWwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbXSk7dmFyIGM9ZS52YWx1ZS52YWx1ZTtpZihlLmtleUlkZW50aWZpZXIpe3ZhciB2PWUua2V5SWRlbnRpZmllcj09PSEwP3QuY2VydC5nZW5lcmF0ZVN1YmplY3RLZXlJZGVudGlmaWVyKCkuZ2V0Qnl0ZXMoKTplLmtleUlkZW50aWZpZXI7Yy5wdXNoKGwuY3JlYXRlKGwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQywwLCExLHYpKX1pZihlLmF1dGhvcml0eUNlcnRJc3N1ZXIpe3ZhciBtPVtsLmNyZWF0ZShsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsNCwhMCxbbihlLmF1dGhvcml0eUNlcnRJc3N1ZXI9PT0hMD90LmNlcnQuaXNzdWVyOmUuYXV0aG9yaXR5Q2VydElzc3VlcildKV07Yy5wdXNoKGwuY3JlYXRlKGwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQywxLCEwLG0pKX1pZihlLnNlcmlhbE51bWJlcil7dmFyIEM9dS51dGlsLmhleFRvQnl0ZXMoZS5zZXJpYWxOdW1iZXI9PT0hMD90LmNlcnQuc2VyaWFsTnVtYmVyOmUuc2VyaWFsTnVtYmVyKTtjLnB1c2gobC5jcmVhdGUobC5DbGFzcy5DT05URVhUX1NQRUNJRklDLDIsITEsQykpfX1lbHNlIGlmKFwiY1JMRGlzdHJpYnV0aW9uUG9pbnRzXCI9PT1lLm5hbWUpe2UudmFsdWU9bC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFUVVFTkNFLCEwLFtdKTtmb3IodmFyIGQsYz1lLnZhbHVlLnZhbHVlLEU9bC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFUVVFTkNFLCEwLFtdKSxTPWwuY3JlYXRlKGwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQywwLCEwLFtdKSx5PTA7eTxlLmFsdE5hbWVzLmxlbmd0aDsrK3kpe2Q9ZS5hbHROYW1lc1t5XTt2YXIgbz1kLnZhbHVlO2lmKDc9PT1kLnR5cGUmJmQuaXApe2lmKG89dS51dGlsLmJ5dGVzRnJvbUlQKGQuaXApLG51bGw9PT1vKXt2YXIgcj1uZXcgRXJyb3IoJ0V4dGVuc2lvbiBcImlwXCIgdmFsdWUgaXMgbm90IGEgdmFsaWQgSVB2NCBvciBJUHY2IGFkZHJlc3MuJyk7dGhyb3cgci5leHRlbnNpb249ZSxyfX1lbHNlIDg9PT1kLnR5cGUmJihvPWQub2lkP2wub2lkVG9EZXIobC5vaWRUb0RlcihkLm9pZCkpOmwub2lkVG9EZXIobykpO1MudmFsdWUucHVzaChsLmNyZWF0ZShsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsZC50eXBlLCExLG8pKX1FLnZhbHVlLnB1c2gobC5jcmVhdGUobC5DbGFzcy5DT05URVhUX1NQRUNJRklDLDAsITAsW1NdKSksYy5wdXNoKEUpfWlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlLnZhbHVlKXt2YXIgcj1uZXcgRXJyb3IoXCJFeHRlbnNpb24gdmFsdWUgbm90IHNwZWNpZmllZC5cIik7dGhyb3cgci5leHRlbnNpb249ZSxyfXJldHVybiBlfWZ1bmN0aW9uIG8oZSx0KXtzd2l0Y2goZSl7Y2FzZSBoW1wiUlNBU1NBLVBTU1wiXTp2YXIgcj1bXTtyZXR1cm4gdm9pZCAwIT09dC5oYXNoLmFsZ29yaXRobU9pZCYmci5wdXNoKGwuY3JlYXRlKGwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQywwLCEwLFtsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5PSUQsITEsbC5vaWRUb0Rlcih0Lmhhc2guYWxnb3JpdGhtT2lkKS5nZXRCeXRlcygpKSxsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuTlVMTCwhMSxcIlwiKV0pXSkpLHZvaWQgMCE9PXQubWdmLmFsZ29yaXRobU9pZCYmci5wdXNoKGwuY3JlYXRlKGwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQywxLCEwLFtsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5PSUQsITEsbC5vaWRUb0Rlcih0Lm1nZi5hbGdvcml0aG1PaWQpLmdldEJ5dGVzKCkpLGwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9JRCwhMSxsLm9pZFRvRGVyKHQubWdmLmhhc2guYWxnb3JpdGhtT2lkKS5nZXRCeXRlcygpKSxsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuTlVMTCwhMSxcIlwiKV0pXSldKSksdm9pZCAwIT09dC5zYWx0TGVuZ3RoJiZyLnB1c2gobC5jcmVhdGUobC5DbGFzcy5DT05URVhUX1NQRUNJRklDLDIsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5JTlRFR0VSLCExLGwuaW50ZWdlclRvRGVyKHQuc2FsdExlbmd0aCkuZ2V0Qnl0ZXMoKSldKSksbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFUVVFTkNFLCEwLHIpO2RlZmF1bHQ6cmV0dXJuIGwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5OVUxMLCExLFwiXCIpfX1mdW5jdGlvbiBjKGUpe3ZhciB0PWwuY3JlYXRlKGwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQywwLCEwLFtdKTtpZigwPT09ZS5hdHRyaWJ1dGVzLmxlbmd0aClyZXR1cm4gdDtmb3IodmFyIHI9ZS5hdHRyaWJ1dGVzLGE9MDthPHIubGVuZ3RoOysrYSl7dmFyIG49clthXSxpPW4udmFsdWUscz1sLlR5cGUuVVRGODtcInZhbHVlVGFnQ2xhc3NcImluIG4mJihzPW4udmFsdWVUYWdDbGFzcykscz09PWwuVHlwZS5VVEY4JiYoaT11LnV0aWwuZW5jb2RlVXRmOChpKSk7dmFyIG89ITE7XCJ2YWx1ZUNvbnN0cnVjdGVkXCJpbiBuJiYobz1uLnZhbHVlQ29uc3RydWN0ZWQpO3ZhciBjPWwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9JRCwhMSxsLm9pZFRvRGVyKG4udHlwZSkuZ2V0Qnl0ZXMoKSksbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFVCwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwscyxvLGkpXSldKTt0LnZhbHVlLnB1c2goYyl9cmV0dXJuIHR9dmFyIHU9cigwKTtyKDUpLHIoMykscigxMCkscig0KSxyKDM3KSxyKDYpLHIoNykscigxNikscigxMSkscigxKTt2YXIgbD11LmFzbjEscD1lLmV4cG9ydHM9dS5wa2k9dS5wa2l8fHt9LGg9cC5vaWRzLGY9e307Zi5DTj1oLmNvbW1vbk5hbWUsZi5jb21tb25OYW1lPVwiQ05cIixmLkM9aC5jb3VudHJ5TmFtZSxmLmNvdW50cnlOYW1lPVwiQ1wiLGYuTD1oLmxvY2FsaXR5TmFtZSxmLmxvY2FsaXR5TmFtZT1cIkxcIixmLlNUPWguc3RhdGVPclByb3ZpbmNlTmFtZSxmLnN0YXRlT3JQcm92aW5jZU5hbWU9XCJTVFwiLGYuTz1oLm9yZ2FuaXphdGlvbk5hbWUsZi5vcmdhbml6YXRpb25OYW1lPVwiT1wiLGYuT1U9aC5vcmdhbml6YXRpb25hbFVuaXROYW1lLGYub3JnYW5pemF0aW9uYWxVbml0TmFtZT1cIk9VXCIsZi5FPWguZW1haWxBZGRyZXNzLGYuZW1haWxBZGRyZXNzPVwiRVwiO3ZhciBkPXUucGtpLnJzYS5wdWJsaWNLZXlWYWxpZGF0b3IseT17bmFtZTpcIkNlcnRpZmljYXRlXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiQ2VydGlmaWNhdGUuVEJTQ2VydGlmaWNhdGVcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCxjYXB0dXJlQXNuMTpcInRic0NlcnRpZmljYXRlXCIsdmFsdWU6W3tuYW1lOlwiQ2VydGlmaWNhdGUuVEJTQ2VydGlmaWNhdGUudmVyc2lvblwiLHRhZ0NsYXNzOmwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQyx0eXBlOjAsY29uc3RydWN0ZWQ6ITAsb3B0aW9uYWw6ITAsdmFsdWU6W3tuYW1lOlwiQ2VydGlmaWNhdGUuVEJTQ2VydGlmaWNhdGUudmVyc2lvbi5pbnRlZ2VyXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwiY2VydFZlcnNpb25cIn1dfSx7bmFtZTpcIkNlcnRpZmljYXRlLlRCU0NlcnRpZmljYXRlLnNlcmlhbE51bWJlclwiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLklOVEVHRVIsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcImNlcnRTZXJpYWxOdW1iZXJcIn0se25hbWU6XCJDZXJ0aWZpY2F0ZS5UQlNDZXJ0aWZpY2F0ZS5zaWduYXR1cmVcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJDZXJ0aWZpY2F0ZS5UQlNDZXJ0aWZpY2F0ZS5zaWduYXR1cmUuYWxnb3JpdGhtXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuT0lELGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJjZXJ0aW5mb1NpZ25hdHVyZU9pZFwifSx7bmFtZTpcIkNlcnRpZmljYXRlLlRCU0NlcnRpZmljYXRlLnNpZ25hdHVyZS5wYXJhbWV0ZXJzXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsb3B0aW9uYWw6ITAsY2FwdHVyZUFzbjE6XCJjZXJ0aW5mb1NpZ25hdHVyZVBhcmFtc1wifV19LHtuYW1lOlwiQ2VydGlmaWNhdGUuVEJTQ2VydGlmaWNhdGUuaXNzdWVyXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsY2FwdHVyZUFzbjE6XCJjZXJ0SXNzdWVyXCJ9LHtuYW1lOlwiQ2VydGlmaWNhdGUuVEJTQ2VydGlmaWNhdGUudmFsaWRpdHlcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJDZXJ0aWZpY2F0ZS5UQlNDZXJ0aWZpY2F0ZS52YWxpZGl0eS5ub3RCZWZvcmUgKHV0YylcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5VVENUSU1FLGNvbnN0cnVjdGVkOiExLG9wdGlvbmFsOiEwLGNhcHR1cmU6XCJjZXJ0VmFsaWRpdHkxVVRDVGltZVwifSx7bmFtZTpcIkNlcnRpZmljYXRlLlRCU0NlcnRpZmljYXRlLnZhbGlkaXR5Lm5vdEJlZm9yZSAoZ2VuZXJhbGl6ZWQpXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuR0VORVJBTElaRURUSU1FLGNvbnN0cnVjdGVkOiExLG9wdGlvbmFsOiEwLGNhcHR1cmU6XCJjZXJ0VmFsaWRpdHkyR2VuZXJhbGl6ZWRUaW1lXCJ9LHtuYW1lOlwiQ2VydGlmaWNhdGUuVEJTQ2VydGlmaWNhdGUudmFsaWRpdHkubm90QWZ0ZXIgKHV0YylcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5VVENUSU1FLGNvbnN0cnVjdGVkOiExLG9wdGlvbmFsOiEwLGNhcHR1cmU6XCJjZXJ0VmFsaWRpdHkzVVRDVGltZVwifSx7bmFtZTpcIkNlcnRpZmljYXRlLlRCU0NlcnRpZmljYXRlLnZhbGlkaXR5Lm5vdEFmdGVyIChnZW5lcmFsaXplZClcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5HRU5FUkFMSVpFRFRJTUUsY29uc3RydWN0ZWQ6ITEsb3B0aW9uYWw6ITAsY2FwdHVyZTpcImNlcnRWYWxpZGl0eTRHZW5lcmFsaXplZFRpbWVcIn1dfSx7bmFtZTpcIkNlcnRpZmljYXRlLlRCU0NlcnRpZmljYXRlLnN1YmplY3RcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCxjYXB0dXJlQXNuMTpcImNlcnRTdWJqZWN0XCJ9LGQse25hbWU6XCJDZXJ0aWZpY2F0ZS5UQlNDZXJ0aWZpY2F0ZS5pc3N1ZXJVbmlxdWVJRFwiLHRhZ0NsYXNzOmwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQyx0eXBlOjEsY29uc3RydWN0ZWQ6ITAsb3B0aW9uYWw6ITAsdmFsdWU6W3tuYW1lOlwiQ2VydGlmaWNhdGUuVEJTQ2VydGlmaWNhdGUuaXNzdWVyVW5pcXVlSUQuaWRcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5CSVRTVFJJTkcsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZUJpdFN0cmluZ1ZhbHVlOlwiY2VydElzc3VlclVuaXF1ZUlkXCJ9XX0se25hbWU6XCJDZXJ0aWZpY2F0ZS5UQlNDZXJ0aWZpY2F0ZS5zdWJqZWN0VW5pcXVlSURcIix0YWdDbGFzczpsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsdHlwZToyLGNvbnN0cnVjdGVkOiEwLG9wdGlvbmFsOiEwLHZhbHVlOlt7bmFtZTpcIkNlcnRpZmljYXRlLlRCU0NlcnRpZmljYXRlLnN1YmplY3RVbmlxdWVJRC5pZFwiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLkJJVFNUUklORyxjb25zdHJ1Y3RlZDohMSxjYXB0dXJlQml0U3RyaW5nVmFsdWU6XCJjZXJ0U3ViamVjdFVuaXF1ZUlkXCJ9XX0se25hbWU6XCJDZXJ0aWZpY2F0ZS5UQlNDZXJ0aWZpY2F0ZS5leHRlbnNpb25zXCIsdGFnQ2xhc3M6bC5DbGFzcy5DT05URVhUX1NQRUNJRklDLHR5cGU6Myxjb25zdHJ1Y3RlZDohMCxjYXB0dXJlQXNuMTpcImNlcnRFeHRlbnNpb25zXCIsb3B0aW9uYWw6ITB9XX0se25hbWU6XCJDZXJ0aWZpY2F0ZS5zaWduYXR1cmVBbGdvcml0aG1cIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJDZXJ0aWZpY2F0ZS5zaWduYXR1cmVBbGdvcml0aG0uYWxnb3JpdGhtXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuT0lELGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJjZXJ0U2lnbmF0dXJlT2lkXCJ9LHtuYW1lOlwiQ2VydGlmaWNhdGUuVEJTQ2VydGlmaWNhdGUuc2lnbmF0dXJlLnBhcmFtZXRlcnNcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCxvcHRpb25hbDohMCxjYXB0dXJlQXNuMTpcImNlcnRTaWduYXR1cmVQYXJhbXNcIn1dfSx7bmFtZTpcIkNlcnRpZmljYXRlLnNpZ25hdHVyZVZhbHVlXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuQklUU1RSSU5HLGNvbnN0cnVjdGVkOiExLGNhcHR1cmVCaXRTdHJpbmdWYWx1ZTpcImNlcnRTaWduYXR1cmVcIn1dfSxnPXtuYW1lOlwicnNhcHNzXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwicnNhcHNzLmhhc2hBbGdvcml0aG1cIix0YWdDbGFzczpsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsdHlwZTowLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcInJzYXBzcy5oYXNoQWxnb3JpdGhtLkFsZ29yaXRobUlkZW50aWZpZXJcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuQ2xhc3MuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsb3B0aW9uYWw6ITAsdmFsdWU6W3tuYW1lOlwicnNhcHNzLmhhc2hBbGdvcml0aG0uQWxnb3JpdGhtSWRlbnRpZmllci5hbGdvcml0aG1cIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5PSUQsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcImhhc2hPaWRcIn1dfV19LHtuYW1lOlwicnNhcHNzLm1hc2tHZW5BbGdvcml0aG1cIix0YWdDbGFzczpsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsdHlwZToxLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcInJzYXBzcy5tYXNrR2VuQWxnb3JpdGhtLkFsZ29yaXRobUlkZW50aWZpZXJcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuQ2xhc3MuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsb3B0aW9uYWw6ITAsdmFsdWU6W3tuYW1lOlwicnNhcHNzLm1hc2tHZW5BbGdvcml0aG0uQWxnb3JpdGhtSWRlbnRpZmllci5hbGdvcml0aG1cIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5PSUQsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcIm1hc2tHZW5PaWRcIn0se25hbWU6XCJyc2Fwc3MubWFza0dlbkFsZ29yaXRobS5BbGdvcml0aG1JZGVudGlmaWVyLnBhcmFtc1wiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcInJzYXBzcy5tYXNrR2VuQWxnb3JpdGhtLkFsZ29yaXRobUlkZW50aWZpZXIucGFyYW1zLmFsZ29yaXRobVwiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLk9JRCxjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwibWFza0dlbkhhc2hPaWRcIn1dfV19XX0se25hbWU6XCJyc2Fwc3Muc2FsdExlbmd0aFwiLHRhZ0NsYXNzOmwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQyx0eXBlOjIsb3B0aW9uYWw6ITAsdmFsdWU6W3tuYW1lOlwicnNhcHNzLnNhbHRMZW5ndGguc2FsdExlbmd0aFwiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5DbGFzcy5JTlRFR0VSLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJzYWx0TGVuZ3RoXCJ9XX0se25hbWU6XCJyc2Fwc3MudHJhaWxlckZpZWxkXCIsdGFnQ2xhc3M6bC5DbGFzcy5DT05URVhUX1NQRUNJRklDLHR5cGU6MyxvcHRpb25hbDohMCx2YWx1ZTpbe25hbWU6XCJyc2Fwc3MudHJhaWxlci50cmFpbGVyXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLkNsYXNzLklOVEVHRVIsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcInRyYWlsZXJcIn1dfV19LHY9e25hbWU6XCJDZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm9cIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCxjYXB0dXJlQXNuMTpcImNlcnRpZmljYXRpb25SZXF1ZXN0SW5mb1wiLHZhbHVlOlt7bmFtZTpcIkNlcnRpZmljYXRpb25SZXF1ZXN0SW5mby5pbnRlZ2VyXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwiY2VydGlmaWNhdGlvblJlcXVlc3RJbmZvVmVyc2lvblwifSx7bmFtZTpcIkNlcnRpZmljYXRpb25SZXF1ZXN0SW5mby5zdWJqZWN0XCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsY2FwdHVyZUFzbjE6XCJjZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm9TdWJqZWN0XCJ9LGQse25hbWU6XCJDZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm8uYXR0cmlidXRlc1wiLHRhZ0NsYXNzOmwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQyx0eXBlOjAsY29uc3RydWN0ZWQ6ITAsb3B0aW9uYWw6ITAsY2FwdHVyZTpcImNlcnRpZmljYXRpb25SZXF1ZXN0SW5mb0F0dHJpYnV0ZXNcIix2YWx1ZTpbe25hbWU6XCJDZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm8uYXR0cmlidXRlc1wiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcIkNlcnRpZmljYXRpb25SZXF1ZXN0SW5mby5hdHRyaWJ1dGVzLnR5cGVcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5PSUQsY29uc3RydWN0ZWQ6ITF9LHtuYW1lOlwiQ2VydGlmaWNhdGlvblJlcXVlc3RJbmZvLmF0dHJpYnV0ZXMudmFsdWVcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVQsY29uc3RydWN0ZWQ6ITB9XX1dfV19LG09e25hbWU6XCJDZXJ0aWZpY2F0aW9uUmVxdWVzdFwiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLGNhcHR1cmVBc24xOlwiY3NyXCIsdmFsdWU6W3Yse25hbWU6XCJDZXJ0aWZpY2F0aW9uUmVxdWVzdC5zaWduYXR1cmVBbGdvcml0aG1cIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJDZXJ0aWZpY2F0aW9uUmVxdWVzdC5zaWduYXR1cmVBbGdvcml0aG0uYWxnb3JpdGhtXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuT0lELGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJjc3JTaWduYXR1cmVPaWRcIn0se25hbWU6XCJDZXJ0aWZpY2F0aW9uUmVxdWVzdC5zaWduYXR1cmVBbGdvcml0aG0ucGFyYW1ldGVyc1wiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLG9wdGlvbmFsOiEwLGNhcHR1cmVBc24xOlwiY3NyU2lnbmF0dXJlUGFyYW1zXCJ9XX0se25hbWU6XCJDZXJ0aWZpY2F0aW9uUmVxdWVzdC5zaWduYXR1cmVcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5CSVRTVFJJTkcsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZUJpdFN0cmluZ1ZhbHVlOlwiY3NyU2lnbmF0dXJlXCJ9XX07cC5SRE5BdHRyaWJ1dGVzQXNBcnJheT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixhLG4saT1bXSxzPTA7czxlLnZhbHVlLmxlbmd0aDsrK3Mpe3I9ZS52YWx1ZVtzXTtmb3IodmFyIG89MDtvPHIudmFsdWUubGVuZ3RoOysrbyluPXt9LGE9ci52YWx1ZVtvXSxuLnR5cGU9bC5kZXJUb09pZChhLnZhbHVlWzBdLnZhbHVlKSxuLnZhbHVlPWEudmFsdWVbMV0udmFsdWUsbi52YWx1ZVRhZ0NsYXNzPWEudmFsdWVbMV0udHlwZSxuLnR5cGUgaW4gaCYmKG4ubmFtZT1oW24udHlwZV0sbi5uYW1lIGluIGYmJihuLnNob3J0TmFtZT1mW24ubmFtZV0pKSx0JiYodC51cGRhdGUobi50eXBlKSx0LnVwZGF0ZShuLnZhbHVlKSksaS5wdXNoKG4pfXJldHVybiBpfSxwLkNSSUF0dHJpYnV0ZXNBc0FycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDsrK3IpZm9yKHZhciBhPWVbcl0sbj1sLmRlclRvT2lkKGEudmFsdWVbMF0udmFsdWUpLGk9YS52YWx1ZVsxXS52YWx1ZSxzPTA7czxpLmxlbmd0aDsrK3Mpe3ZhciBvPXt9O2lmKG8udHlwZT1uLG8udmFsdWU9aVtzXS52YWx1ZSxvLnZhbHVlVGFnQ2xhc3M9aVtzXS50eXBlLG8udHlwZSBpbiBoJiYoby5uYW1lPWhbby50eXBlXSxvLm5hbWUgaW4gZiYmKG8uc2hvcnROYW1lPWZbby5uYW1lXSkpLG8udHlwZT09PWguZXh0ZW5zaW9uUmVxdWVzdCl7by5leHRlbnNpb25zPVtdO2Zvcih2YXIgYz0wO2M8by52YWx1ZS5sZW5ndGg7KytjKW8uZXh0ZW5zaW9ucy5wdXNoKHAuY2VydGlmaWNhdGVFeHRlbnNpb25Gcm9tQXNuMShvLnZhbHVlW2NdKSl9dC5wdXNoKG8pfXJldHVybiB0fTt2YXIgQz1mdW5jdGlvbihlLHQscil7dmFyIGE9e307aWYoZSE9PWhbXCJSU0FTU0EtUFNTXCJdKXJldHVybiBhO3ImJihhPXtoYXNoOnthbGdvcml0aG1PaWQ6aC5zaGExfSxtZ2Y6e2FsZ29yaXRobU9pZDpoLm1nZjEsaGFzaDp7YWxnb3JpdGhtT2lkOmguc2hhMX19LHNhbHRMZW5ndGg6MjB9KTt2YXIgbj17fSxpPVtdO2lmKCFsLnZhbGlkYXRlKHQsZyxuLGkpKXt2YXIgcz1uZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBSU0FTU0EtUFNTIHBhcmFtZXRlciBibG9jay5cIik7dGhyb3cgcy5lcnJvcnM9aSxzfXJldHVybiB2b2lkIDAhPT1uLmhhc2hPaWQmJihhLmhhc2g9YS5oYXNofHx7fSxhLmhhc2guYWxnb3JpdGhtT2lkPWwuZGVyVG9PaWQobi5oYXNoT2lkKSksdm9pZCAwIT09bi5tYXNrR2VuT2lkJiYoYS5tZ2Y9YS5tZ2Z8fHt9LGEubWdmLmFsZ29yaXRobU9pZD1sLmRlclRvT2lkKG4ubWFza0dlbk9pZCksYS5tZ2YuaGFzaD1hLm1nZi5oYXNofHx7fSxhLm1nZi5oYXNoLmFsZ29yaXRobU9pZD1sLmRlclRvT2lkKG4ubWFza0dlbkhhc2hPaWQpKSx2b2lkIDAhPT1uLnNhbHRMZW5ndGgmJihhLnNhbHRMZW5ndGg9bi5zYWx0TGVuZ3RoLmNoYXJDb2RlQXQoMCkpLGF9O3AuY2VydGlmaWNhdGVGcm9tUGVtPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT11LnBlbS5kZWNvZGUoZSlbMF07aWYoXCJDRVJUSUZJQ0FURVwiIT09YS50eXBlJiZcIlg1MDkgQ0VSVElGSUNBVEVcIiE9PWEudHlwZSYmXCJUUlVTVEVEIENFUlRJRklDQVRFXCIhPT1hLnR5cGUpe3ZhciBuPW5ldyBFcnJvcignQ291bGQgbm90IGNvbnZlcnQgY2VydGlmaWNhdGUgZnJvbSBQRU07IFBFTSBoZWFkZXIgdHlwZSBpcyBub3QgXCJDRVJUSUZJQ0FURVwiLCBcIlg1MDkgQ0VSVElGSUNBVEVcIiwgb3IgXCJUUlVTVEVEIENFUlRJRklDQVRFXCIuJyk7dGhyb3cgbi5oZWFkZXJUeXBlPWEudHlwZSxufWlmKGEucHJvY1R5cGUmJlwiRU5DUllQVEVEXCI9PT1hLnByb2NUeXBlLnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGNvbnZlcnQgY2VydGlmaWNhdGUgZnJvbSBQRU07IFBFTSBpcyBlbmNyeXB0ZWQuXCIpO3ZhciBpPWwuZnJvbURlcihhLmJvZHkscik7cmV0dXJuIHAuY2VydGlmaWNhdGVGcm9tQXNuMShpLHQpfSxwLmNlcnRpZmljYXRlVG9QZW09ZnVuY3Rpb24oZSx0KXt2YXIgcj17dHlwZTpcIkNFUlRJRklDQVRFXCIsYm9keTpsLnRvRGVyKHAuY2VydGlmaWNhdGVUb0FzbjEoZSkpLmdldEJ5dGVzKCl9O3JldHVybiB1LnBlbS5lbmNvZGUocix7bWF4bGluZTp0fSl9LHAucHVibGljS2V5RnJvbVBlbT1mdW5jdGlvbihlKXt2YXIgdD11LnBlbS5kZWNvZGUoZSlbMF07aWYoXCJQVUJMSUMgS0VZXCIhPT10LnR5cGUmJlwiUlNBIFBVQkxJQyBLRVlcIiE9PXQudHlwZSl7dmFyIHI9bmV3IEVycm9yKCdDb3VsZCBub3QgY29udmVydCBwdWJsaWMga2V5IGZyb20gUEVNOyBQRU0gaGVhZGVyIHR5cGUgaXMgbm90IFwiUFVCTElDIEtFWVwiIG9yIFwiUlNBIFBVQkxJQyBLRVlcIi4nKTt0aHJvdyByLmhlYWRlclR5cGU9dC50eXBlLHJ9aWYodC5wcm9jVHlwZSYmXCJFTkNSWVBURURcIj09PXQucHJvY1R5cGUudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgY29udmVydCBwdWJsaWMga2V5IGZyb20gUEVNOyBQRU0gaXMgZW5jcnlwdGVkLlwiKTt2YXIgYT1sLmZyb21EZXIodC5ib2R5KTtyZXR1cm4gcC5wdWJsaWNLZXlGcm9tQXNuMShhKX0scC5wdWJsaWNLZXlUb1BlbT1mdW5jdGlvbihlLHQpe3ZhciByPXt0eXBlOlwiUFVCTElDIEtFWVwiLGJvZHk6bC50b0RlcihwLnB1YmxpY0tleVRvQXNuMShlKSkuZ2V0Qnl0ZXMoKX07cmV0dXJuIHUucGVtLmVuY29kZShyLHttYXhsaW5lOnR9KX0scC5wdWJsaWNLZXlUb1JTQVB1YmxpY0tleVBlbT1mdW5jdGlvbihlLHQpe3ZhciByPXt0eXBlOlwiUlNBIFBVQkxJQyBLRVlcIixib2R5OmwudG9EZXIocC5wdWJsaWNLZXlUb1JTQVB1YmxpY0tleShlKSkuZ2V0Qnl0ZXMoKX07cmV0dXJuIHUucGVtLmVuY29kZShyLHttYXhsaW5lOnR9KX0scC5nZXRQdWJsaWNLZXlGaW5nZXJwcmludD1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIHIsYT10Lm1kfHx1Lm1kLnNoYTEuY3JlYXRlKCksbj10LnR5cGV8fFwiUlNBUHVibGljS2V5XCI7c3dpdGNoKG4pe2Nhc2VcIlJTQVB1YmxpY0tleVwiOnI9bC50b0RlcihwLnB1YmxpY0tleVRvUlNBUHVibGljS2V5KGUpKS5nZXRCeXRlcygpO2JyZWFrO2Nhc2VcIlN1YmplY3RQdWJsaWNLZXlJbmZvXCI6cj1sLnRvRGVyKHAucHVibGljS2V5VG9Bc24xKGUpKS5nZXRCeXRlcygpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGZpbmdlcnByaW50IHR5cGUgXCInK3QudHlwZSsnXCIuJyl9YS5zdGFydCgpLGEudXBkYXRlKHIpO3ZhciBpPWEuZGlnZXN0KCk7aWYoXCJoZXhcIj09PXQuZW5jb2Rpbmcpe3ZhciBzPWkudG9IZXgoKTtyZXR1cm4gdC5kZWxpbWl0ZXI/cy5tYXRjaCgvLnsyfS9nKS5qb2luKHQuZGVsaW1pdGVyKTpzfWlmKFwiYmluYXJ5XCI9PT10LmVuY29kaW5nKXJldHVybiBpLmdldEJ5dGVzKCk7aWYodC5lbmNvZGluZyl0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2RpbmcgXCInK3QuZW5jb2RpbmcrJ1wiLicpO3JldHVybiBpfSxwLmNlcnRpZmljYXRpb25SZXF1ZXN0RnJvbVBlbT1mdW5jdGlvbihlLHQscil7dmFyIGE9dS5wZW0uZGVjb2RlKGUpWzBdO2lmKFwiQ0VSVElGSUNBVEUgUkVRVUVTVFwiIT09YS50eXBlKXt2YXIgbj1uZXcgRXJyb3IoJ0NvdWxkIG5vdCBjb252ZXJ0IGNlcnRpZmljYXRpb24gcmVxdWVzdCBmcm9tIFBFTTsgUEVNIGhlYWRlciB0eXBlIGlzIG5vdCBcIkNFUlRJRklDQVRFIFJFUVVFU1RcIi4nKTt0aHJvdyBuLmhlYWRlclR5cGU9YS50eXBlLG59aWYoYS5wcm9jVHlwZSYmXCJFTkNSWVBURURcIj09PWEucHJvY1R5cGUudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgY29udmVydCBjZXJ0aWZpY2F0aW9uIHJlcXVlc3QgZnJvbSBQRU07IFBFTSBpcyBlbmNyeXB0ZWQuXCIpO3ZhciBpPWwuZnJvbURlcihhLmJvZHkscik7cmV0dXJuIHAuY2VydGlmaWNhdGlvblJlcXVlc3RGcm9tQXNuMShpLHQpfSxwLmNlcnRpZmljYXRpb25SZXF1ZXN0VG9QZW09ZnVuY3Rpb24oZSx0KXt2YXIgcj17dHlwZTpcIkNFUlRJRklDQVRFIFJFUVVFU1RcIixib2R5OmwudG9EZXIocC5jZXJ0aWZpY2F0aW9uUmVxdWVzdFRvQXNuMShlKSkuZ2V0Qnl0ZXMoKX07cmV0dXJuIHUucGVtLmVuY29kZShyLHttYXhsaW5lOnR9KX0scC5jcmVhdGVDZXJ0aWZpY2F0ZT1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlLnZlcnNpb249MixlLnNlcmlhbE51bWJlcj1cIjAwXCIsZS5zaWduYXR1cmVPaWQ9bnVsbCxlLnNpZ25hdHVyZT1udWxsLGUuc2lnaW5mbz17fSxlLnNpZ2luZm8uYWxnb3JpdGhtT2lkPW51bGwsZS52YWxpZGl0eT17fSxlLnZhbGlkaXR5Lm5vdEJlZm9yZT1uZXcgRGF0ZSxlLnZhbGlkaXR5Lm5vdEFmdGVyPW5ldyBEYXRlLGUuaXNzdWVyPXt9LGUuaXNzdWVyLmdldEZpZWxkPWZ1bmN0aW9uKHQpe3JldHVybiBhKGUuaXNzdWVyLHQpfSxlLmlzc3Vlci5hZGRGaWVsZD1mdW5jdGlvbih0KXtpKFt0XSksZS5pc3N1ZXIuYXR0cmlidXRlcy5wdXNoKHQpfSxlLmlzc3Vlci5hdHRyaWJ1dGVzPVtdLGUuaXNzdWVyLmhhc2g9bnVsbCxlLnN1YmplY3Q9e30sZS5zdWJqZWN0LmdldEZpZWxkPWZ1bmN0aW9uKHQpe3JldHVybiBhKGUuc3ViamVjdCx0KX0sZS5zdWJqZWN0LmFkZEZpZWxkPWZ1bmN0aW9uKHQpe2koW3RdKSxlLnN1YmplY3QuYXR0cmlidXRlcy5wdXNoKHQpfSxlLnN1YmplY3QuYXR0cmlidXRlcz1bXSxlLnN1YmplY3QuaGFzaD1udWxsLGUuZXh0ZW5zaW9ucz1bXSxlLnB1YmxpY0tleT1udWxsLGUubWQ9bnVsbCxlLnNldFN1YmplY3Q9ZnVuY3Rpb24odCxyKXtpKHQpLGUuc3ViamVjdC5hdHRyaWJ1dGVzPXQsZGVsZXRlIGUuc3ViamVjdC51bmlxdWVJZCxyJiYoZS5zdWJqZWN0LnVuaXF1ZUlkPXIpLGUuc3ViamVjdC5oYXNoPW51bGx9LGUuc2V0SXNzdWVyPWZ1bmN0aW9uKHQscil7aSh0KSxlLmlzc3Vlci5hdHRyaWJ1dGVzPXQsZGVsZXRlIGUuaXNzdWVyLnVuaXF1ZUlkLHImJihlLmlzc3Vlci51bmlxdWVJZD1yKSxlLmlzc3Vlci5oYXNoPW51bGx9LGUuc2V0RXh0ZW5zaW9ucz1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoOysrcilzKHRbcl0se2NlcnQ6ZX0pO2UuZXh0ZW5zaW9ucz10fSxlLmdldEV4dGVuc2lvbj1mdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9e25hbWU6dH0pO2Zvcih2YXIgcixhPW51bGwsbj0wO251bGw9PT1hJiZuPGUuZXh0ZW5zaW9ucy5sZW5ndGg7KytuKXI9ZS5leHRlbnNpb25zW25dLHQuaWQmJnIuaWQ9PT10LmlkP2E9cjp0Lm5hbWUmJnIubmFtZT09PXQubmFtZSYmKGE9cik7cmV0dXJuIGF9LGUuc2lnbj1mdW5jdGlvbih0LHIpe2UubWQ9cnx8dS5tZC5zaGExLmNyZWF0ZSgpO3ZhciBhPWhbZS5tZC5hbGdvcml0aG0rXCJXaXRoUlNBRW5jcnlwdGlvblwiXTtpZighYSl7dmFyIG49bmV3IEVycm9yKFwiQ291bGQgbm90IGNvbXB1dGUgY2VydGlmaWNhdGUgZGlnZXN0LiBVbmtub3duIG1lc3NhZ2UgZGlnZXN0IGFsZ29yaXRobSBPSUQuXCIpO3Rocm93IG4uYWxnb3JpdGhtPWUubWQuYWxnb3JpdGhtLG59ZS5zaWduYXR1cmVPaWQ9ZS5zaWdpbmZvLmFsZ29yaXRobU9pZD1hLGUudGJzQ2VydGlmaWNhdGU9cC5nZXRUQlNDZXJ0aWZpY2F0ZShlKTt2YXIgaT1sLnRvRGVyKGUudGJzQ2VydGlmaWNhdGUpO2UubWQudXBkYXRlKGkuZ2V0Qnl0ZXMoKSksZS5zaWduYXR1cmU9dC5zaWduKGUubWQpfSxlLnZlcmlmeT1mdW5jdGlvbih0KXt2YXIgcj0hMTtpZighZS5pc3N1ZWQodCkpe3ZhciBhPXQuaXNzdWVyLG49ZS5zdWJqZWN0LGk9bmV3IEVycm9yKFwiVGhlIHBhcmVudCBjZXJ0aWZpY2F0ZSBkaWQgbm90IGlzc3VlIHRoZSBnaXZlbiBjaGlsZCBjZXJ0aWZpY2F0ZTsgdGhlIGNoaWxkIGNlcnRpZmljYXRlJ3MgaXNzdWVyIGRvZXMgbm90IG1hdGNoIHRoZSBwYXJlbnQncyBzdWJqZWN0LlwiKTt0aHJvdyBpLmV4cGVjdGVkSXNzdWVyPWEuYXR0cmlidXRlcyxpLmFjdHVhbElzc3Vlcj1uLmF0dHJpYnV0ZXMsaX12YXIgcz10Lm1kO2lmKG51bGw9PT1zKXtpZih0LnNpZ25hdHVyZU9pZCBpbiBoKXt2YXIgbz1oW3Quc2lnbmF0dXJlT2lkXTtzd2l0Y2gobyl7Y2FzZVwic2hhMVdpdGhSU0FFbmNyeXB0aW9uXCI6cz11Lm1kLnNoYTEuY3JlYXRlKCk7YnJlYWs7Y2FzZVwibWQ1V2l0aFJTQUVuY3J5cHRpb25cIjpzPXUubWQubWQ1LmNyZWF0ZSgpO2JyZWFrO2Nhc2VcInNoYTI1NldpdGhSU0FFbmNyeXB0aW9uXCI6cz11Lm1kLnNoYTI1Ni5jcmVhdGUoKTticmVhaztjYXNlXCJzaGE1MTJXaXRoUlNBRW5jcnlwdGlvblwiOnM9dS5tZC5zaGE1MTIuY3JlYXRlKCk7YnJlYWs7Y2FzZVwiUlNBU1NBLVBTU1wiOnM9dS5tZC5zaGEyNTYuY3JlYXRlKCl9fWlmKG51bGw9PT1zKXt2YXIgaT1uZXcgRXJyb3IoXCJDb3VsZCBub3QgY29tcHV0ZSBjZXJ0aWZpY2F0ZSBkaWdlc3QuIFVua25vd24gc2lnbmF0dXJlIE9JRC5cIik7dGhyb3cgaS5zaWduYXR1cmVPaWQ9dC5zaWduYXR1cmVPaWQsaX12YXIgYz10LnRic0NlcnRpZmljYXRlfHxwLmdldFRCU0NlcnRpZmljYXRlKHQpLGY9bC50b0RlcihjKTtzLnVwZGF0ZShmLmdldEJ5dGVzKCkpfWlmKG51bGwhPT1zKXt2YXIgZDtzd2l0Y2godC5zaWduYXR1cmVPaWQpe2Nhc2UgaC5zaGExV2l0aFJTQUVuY3J5cHRpb246ZD12b2lkIDA7YnJlYWs7Y2FzZSBoW1wiUlNBU1NBLVBTU1wiXTp2YXIgeSxnO2lmKHk9aFt0LnNpZ25hdHVyZVBhcmFtZXRlcnMubWdmLmhhc2guYWxnb3JpdGhtT2lkXSx2b2lkIDA9PT15fHx2b2lkIDA9PT11Lm1kW3ldKXt2YXIgaT1uZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBNR0YgaGFzaCBmdW5jdGlvbi5cIik7dGhyb3cgaS5vaWQ9dC5zaWduYXR1cmVQYXJhbWV0ZXJzLm1nZi5oYXNoLmFsZ29yaXRobU9pZCxpLm5hbWU9eSxpfWlmKGc9aFt0LnNpZ25hdHVyZVBhcmFtZXRlcnMubWdmLmFsZ29yaXRobU9pZF0sdm9pZCAwPT09Z3x8dm9pZCAwPT09dS5tZ2ZbZ10pe3ZhciBpPW5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIE1HRiBmdW5jdGlvbi5cIik7dGhyb3cgaS5vaWQ9dC5zaWduYXR1cmVQYXJhbWV0ZXJzLm1nZi5hbGdvcml0aG1PaWQsaS5uYW1lPWcsaX1pZihnPXUubWdmW2ddLmNyZWF0ZSh1Lm1kW3ldLmNyZWF0ZSgpKSx5PWhbdC5zaWduYXR1cmVQYXJhbWV0ZXJzLmhhc2guYWxnb3JpdGhtT2lkXSx2b2lkIDA9PT15fHx2b2lkIDA9PT11Lm1kW3ldKXRocm93e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBSU0FTU0EtUFNTIGhhc2ggZnVuY3Rpb24uXCIsb2lkOnQuc2lnbmF0dXJlUGFyYW1ldGVycy5oYXNoLmFsZ29yaXRobU9pZCxuYW1lOnl9O2Q9dS5wc3MuY3JlYXRlKHUubWRbeV0uY3JlYXRlKCksZyx0LnNpZ25hdHVyZVBhcmFtZXRlcnMuc2FsdExlbmd0aCl9cj1lLnB1YmxpY0tleS52ZXJpZnkocy5kaWdlc3QoKS5nZXRCeXRlcygpLHQuc2lnbmF0dXJlLGQpfXJldHVybiByfSxlLmlzSXNzdWVyPWZ1bmN0aW9uKHQpe3ZhciByPSExLGE9ZS5pc3N1ZXIsbj10LnN1YmplY3Q7aWYoYS5oYXNoJiZuLmhhc2gpcj1hLmhhc2g9PT1uLmhhc2g7ZWxzZSBpZihhLmF0dHJpYnV0ZXMubGVuZ3RoPT09bi5hdHRyaWJ1dGVzLmxlbmd0aCl7cj0hMDtmb3IodmFyIGkscyxvPTA7ciYmbzxhLmF0dHJpYnV0ZXMubGVuZ3RoOysrbylpPWEuYXR0cmlidXRlc1tvXSxzPW4uYXR0cmlidXRlc1tvXSxpLnR5cGU9PT1zLnR5cGUmJmkudmFsdWU9PT1zLnZhbHVlfHwocj0hMSl9cmV0dXJuIHJ9LGUuaXNzdWVkPWZ1bmN0aW9uKHQpe3JldHVybiB0LmlzSXNzdWVyKGUpfSxlLmdlbmVyYXRlU3ViamVjdEtleUlkZW50aWZpZXI9ZnVuY3Rpb24oKXtyZXR1cm4gcC5nZXRQdWJsaWNLZXlGaW5nZXJwcmludChlLnB1YmxpY0tleSx7dHlwZTpcIlJTQVB1YmxpY0tleVwifSl9LGUudmVyaWZ5U3ViamVjdEtleUlkZW50aWZpZXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9aC5zdWJqZWN0S2V5SWRlbnRpZmllcixyPTA7cjxlLmV4dGVuc2lvbnMubGVuZ3RoOysrcil7dmFyIGE9ZS5leHRlbnNpb25zW3JdO2lmKGEuaWQ9PT10KXt2YXIgbj1lLmdlbmVyYXRlU3ViamVjdEtleUlkZW50aWZpZXIoKS5nZXRCeXRlcygpO3JldHVybiB1LnV0aWwuaGV4VG9CeXRlcyhhLnN1YmplY3RLZXlJZGVudGlmaWVyKT09PW59fXJldHVybiExfSxlfSxwLmNlcnRpZmljYXRlRnJvbUFzbjE9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxuPVtdO2lmKCFsLnZhbGlkYXRlKGUseSxyLG4pKXt2YXIgcz1uZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBYLjUwOSBjZXJ0aWZpY2F0ZS4gQVNOLjEgb2JqZWN0IGlzIG5vdCBhbiBYNTA5djMgQ2VydGlmaWNhdGUuXCIpO3Rocm93IHMuZXJyb3JzPW4sc312YXIgbz1sLmRlclRvT2lkKHIucHVibGljS2V5T2lkKTtpZihvIT09cC5vaWRzLnJzYUVuY3J5cHRpb24pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlYWQgcHVibGljIGtleS4gT0lEIGlzIG5vdCBSU0EuXCIpO3ZhciBjPXAuY3JlYXRlQ2VydGlmaWNhdGUoKTtjLnZlcnNpb249ci5jZXJ0VmVyc2lvbj9yLmNlcnRWZXJzaW9uLmNoYXJDb2RlQXQoMCk6MDt2YXIgZj11LnV0aWwuY3JlYXRlQnVmZmVyKHIuY2VydFNlcmlhbE51bWJlcik7Yy5zZXJpYWxOdW1iZXI9Zi50b0hleCgpLGMuc2lnbmF0dXJlT2lkPXUuYXNuMS5kZXJUb09pZChyLmNlcnRTaWduYXR1cmVPaWQpLGMuc2lnbmF0dXJlUGFyYW1ldGVycz1DKGMuc2lnbmF0dXJlT2lkLHIuY2VydFNpZ25hdHVyZVBhcmFtcywhMCksYy5zaWdpbmZvLmFsZ29yaXRobU9pZD11LmFzbjEuZGVyVG9PaWQoci5jZXJ0aW5mb1NpZ25hdHVyZU9pZCksYy5zaWdpbmZvLnBhcmFtZXRlcnM9QyhjLnNpZ2luZm8uYWxnb3JpdGhtT2lkLHIuY2VydGluZm9TaWduYXR1cmVQYXJhbXMsITEpLGMuc2lnbmF0dXJlPXIuY2VydFNpZ25hdHVyZTt2YXIgZD1bXTtpZih2b2lkIDAhPT1yLmNlcnRWYWxpZGl0eTFVVENUaW1lJiZkLnB1c2gobC51dGNUaW1lVG9EYXRlKHIuY2VydFZhbGlkaXR5MVVUQ1RpbWUpKSx2b2lkIDAhPT1yLmNlcnRWYWxpZGl0eTJHZW5lcmFsaXplZFRpbWUmJmQucHVzaChsLmdlbmVyYWxpemVkVGltZVRvRGF0ZShyLmNlcnRWYWxpZGl0eTJHZW5lcmFsaXplZFRpbWUpKSx2b2lkIDAhPT1yLmNlcnRWYWxpZGl0eTNVVENUaW1lJiZkLnB1c2gobC51dGNUaW1lVG9EYXRlKHIuY2VydFZhbGlkaXR5M1VUQ1RpbWUpKSx2b2lkIDAhPT1yLmNlcnRWYWxpZGl0eTRHZW5lcmFsaXplZFRpbWUmJmQucHVzaChsLmdlbmVyYWxpemVkVGltZVRvRGF0ZShyLmNlcnRWYWxpZGl0eTRHZW5lcmFsaXplZFRpbWUpKSxkLmxlbmd0aD4yKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZWFkIG5vdEJlZm9yZS9ub3RBZnRlciB2YWxpZGl0eSB0aW1lczsgbW9yZSB0aGFuIHR3byB0aW1lcyB3ZXJlIHByb3ZpZGVkIGluIHRoZSBjZXJ0aWZpY2F0ZS5cIik7aWYoZC5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBub3RCZWZvcmUvbm90QWZ0ZXIgdmFsaWRpdHkgdGltZXM7IHRoZXkgd2VyZSBub3QgcHJvdmlkZWQgYXMgZWl0aGVyIFVUQ1RpbWUgb3IgR2VuZXJhbGl6ZWRUaW1lLlwiKTtpZihjLnZhbGlkaXR5Lm5vdEJlZm9yZT1kWzBdLGMudmFsaWRpdHkubm90QWZ0ZXI9ZFsxXSxjLnRic0NlcnRpZmljYXRlPXIudGJzQ2VydGlmaWNhdGUsdCl7aWYoYy5tZD1udWxsLGMuc2lnbmF0dXJlT2lkIGluIGgpe3ZhciBvPWhbYy5zaWduYXR1cmVPaWRdO3N3aXRjaChvKXtjYXNlXCJzaGExV2l0aFJTQUVuY3J5cHRpb25cIjpjLm1kPXUubWQuc2hhMS5jcmVhdGUoKTticmVhaztjYXNlXCJtZDVXaXRoUlNBRW5jcnlwdGlvblwiOmMubWQ9dS5tZC5tZDUuY3JlYXRlKCk7YnJlYWs7Y2FzZVwic2hhMjU2V2l0aFJTQUVuY3J5cHRpb25cIjpjLm1kPXUubWQuc2hhMjU2LmNyZWF0ZSgpO2JyZWFrO2Nhc2VcInNoYTUxMldpdGhSU0FFbmNyeXB0aW9uXCI6Yy5tZD11Lm1kLnNoYTUxMi5jcmVhdGUoKTticmVhaztjYXNlXCJSU0FTU0EtUFNTXCI6Yy5tZD11Lm1kLnNoYTI1Ni5jcmVhdGUoKX19aWYobnVsbD09PWMubWQpe3ZhciBzPW5ldyBFcnJvcihcIkNvdWxkIG5vdCBjb21wdXRlIGNlcnRpZmljYXRlIGRpZ2VzdC4gVW5rbm93biBzaWduYXR1cmUgT0lELlwiKTtcbnRocm93IHMuc2lnbmF0dXJlT2lkPWMuc2lnbmF0dXJlT2lkLHN9dmFyIGc9bC50b0RlcihjLnRic0NlcnRpZmljYXRlKTtjLm1kLnVwZGF0ZShnLmdldEJ5dGVzKCkpfXZhciB2PXUubWQuc2hhMS5jcmVhdGUoKTtjLmlzc3Vlci5nZXRGaWVsZD1mdW5jdGlvbihlKXtyZXR1cm4gYShjLmlzc3VlcixlKX0sYy5pc3N1ZXIuYWRkRmllbGQ9ZnVuY3Rpb24oZSl7aShbZV0pLGMuaXNzdWVyLmF0dHJpYnV0ZXMucHVzaChlKX0sYy5pc3N1ZXIuYXR0cmlidXRlcz1wLlJETkF0dHJpYnV0ZXNBc0FycmF5KHIuY2VydElzc3Vlcix2KSxyLmNlcnRJc3N1ZXJVbmlxdWVJZCYmKGMuaXNzdWVyLnVuaXF1ZUlkPXIuY2VydElzc3VlclVuaXF1ZUlkKSxjLmlzc3Vlci5oYXNoPXYuZGlnZXN0KCkudG9IZXgoKTt2YXIgbT11Lm1kLnNoYTEuY3JlYXRlKCk7cmV0dXJuIGMuc3ViamVjdC5nZXRGaWVsZD1mdW5jdGlvbihlKXtyZXR1cm4gYShjLnN1YmplY3QsZSl9LGMuc3ViamVjdC5hZGRGaWVsZD1mdW5jdGlvbihlKXtpKFtlXSksYy5zdWJqZWN0LmF0dHJpYnV0ZXMucHVzaChlKX0sYy5zdWJqZWN0LmF0dHJpYnV0ZXM9cC5SRE5BdHRyaWJ1dGVzQXNBcnJheShyLmNlcnRTdWJqZWN0LG0pLHIuY2VydFN1YmplY3RVbmlxdWVJZCYmKGMuc3ViamVjdC51bmlxdWVJZD1yLmNlcnRTdWJqZWN0VW5pcXVlSWQpLGMuc3ViamVjdC5oYXNoPW0uZGlnZXN0KCkudG9IZXgoKSxyLmNlcnRFeHRlbnNpb25zP2MuZXh0ZW5zaW9ucz1wLmNlcnRpZmljYXRlRXh0ZW5zaW9uc0Zyb21Bc24xKHIuY2VydEV4dGVuc2lvbnMpOmMuZXh0ZW5zaW9ucz1bXSxjLnB1YmxpY0tleT1wLnB1YmxpY0tleUZyb21Bc24xKHIuc3ViamVjdFB1YmxpY0tleUluZm8pLGN9LHAuY2VydGlmaWNhdGVFeHRlbnNpb25zRnJvbUFzbjE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MDtyPGUudmFsdWUubGVuZ3RoOysrcilmb3IodmFyIGE9ZS52YWx1ZVtyXSxuPTA7bjxhLnZhbHVlLmxlbmd0aDsrK24pdC5wdXNoKHAuY2VydGlmaWNhdGVFeHRlbnNpb25Gcm9tQXNuMShhLnZhbHVlW25dKSk7cmV0dXJuIHR9LHAuY2VydGlmaWNhdGVFeHRlbnNpb25Gcm9tQXNuMT1mdW5jdGlvbihlKXt2YXIgdD17fTtpZih0LmlkPWwuZGVyVG9PaWQoZS52YWx1ZVswXS52YWx1ZSksdC5jcml0aWNhbD0hMSxlLnZhbHVlWzFdLnR5cGU9PT1sLlR5cGUuQk9PTEVBTj8odC5jcml0aWNhbD0wIT09ZS52YWx1ZVsxXS52YWx1ZS5jaGFyQ29kZUF0KDApLHQudmFsdWU9ZS52YWx1ZVsyXS52YWx1ZSk6dC52YWx1ZT1lLnZhbHVlWzFdLnZhbHVlLHQuaWQgaW4gaClpZih0Lm5hbWU9aFt0LmlkXSxcImtleVVzYWdlXCI9PT10Lm5hbWUpe3ZhciByPWwuZnJvbURlcih0LnZhbHVlKSxhPTAsbj0wO3IudmFsdWUubGVuZ3RoPjEmJihhPXIudmFsdWUuY2hhckNvZGVBdCgxKSxuPXIudmFsdWUubGVuZ3RoPjI/ci52YWx1ZS5jaGFyQ29kZUF0KDIpOjApLHQuZGlnaXRhbFNpZ25hdHVyZT0xMjg9PT0oMTI4JmEpLHQubm9uUmVwdWRpYXRpb249NjQ9PT0oNjQmYSksdC5rZXlFbmNpcGhlcm1lbnQ9MzI9PT0oMzImYSksdC5kYXRhRW5jaXBoZXJtZW50PTE2PT09KDE2JmEpLHQua2V5QWdyZWVtZW50PTg9PT0oOCZhKSx0LmtleUNlcnRTaWduPTQ9PT0oNCZhKSx0LmNSTFNpZ249Mj09PSgyJmEpLHQuZW5jaXBoZXJPbmx5PTE9PT0oMSZhKSx0LmRlY2lwaGVyT25seT0xMjg9PT0oMTI4Jm4pfWVsc2UgaWYoXCJiYXNpY0NvbnN0cmFpbnRzXCI9PT10Lm5hbWUpe3ZhciByPWwuZnJvbURlcih0LnZhbHVlKTtyLnZhbHVlLmxlbmd0aD4wJiZyLnZhbHVlWzBdLnR5cGU9PT1sLlR5cGUuQk9PTEVBTj90LmNBPTAhPT1yLnZhbHVlWzBdLnZhbHVlLmNoYXJDb2RlQXQoMCk6dC5jQT0hMTt2YXIgaT1udWxsO3IudmFsdWUubGVuZ3RoPjAmJnIudmFsdWVbMF0udHlwZT09PWwuVHlwZS5JTlRFR0VSP2k9ci52YWx1ZVswXS52YWx1ZTpyLnZhbHVlLmxlbmd0aD4xJiYoaT1yLnZhbHVlWzFdLnZhbHVlKSxudWxsIT09aSYmKHQucGF0aExlbkNvbnN0cmFpbnQ9bC5kZXJUb0ludGVnZXIoaSkpfWVsc2UgaWYoXCJleHRLZXlVc2FnZVwiPT09dC5uYW1lKWZvcih2YXIgcj1sLmZyb21EZXIodC52YWx1ZSkscz0wO3M8ci52YWx1ZS5sZW5ndGg7KytzKXt2YXIgbz1sLmRlclRvT2lkKHIudmFsdWVbc10udmFsdWUpO28gaW4gaD90W2hbb11dPSEwOnRbb109ITB9ZWxzZSBpZihcIm5zQ2VydFR5cGVcIj09PXQubmFtZSl7dmFyIHI9bC5mcm9tRGVyKHQudmFsdWUpLGE9MDtyLnZhbHVlLmxlbmd0aD4xJiYoYT1yLnZhbHVlLmNoYXJDb2RlQXQoMSkpLHQuY2xpZW50PTEyOD09PSgxMjgmYSksdC5zZXJ2ZXI9NjQ9PT0oNjQmYSksdC5lbWFpbD0zMj09PSgzMiZhKSx0Lm9ianNpZ249MTY9PT0oMTYmYSksdC5yZXNlcnZlZD04PT09KDgmYSksdC5zc2xDQT00PT09KDQmYSksdC5lbWFpbENBPTI9PT0oMiZhKSx0Lm9iakNBPTE9PT0oMSZhKX1lbHNlIGlmKFwic3ViamVjdEFsdE5hbWVcIj09PXQubmFtZXx8XCJpc3N1ZXJBbHROYW1lXCI9PT10Lm5hbWUpe3QuYWx0TmFtZXM9W107Zm9yKHZhciBjLHI9bC5mcm9tRGVyKHQudmFsdWUpLHA9MDtwPHIudmFsdWUubGVuZ3RoOysrcCl7Yz1yLnZhbHVlW3BdO3ZhciBmPXt0eXBlOmMudHlwZSx2YWx1ZTpjLnZhbHVlfTtzd2l0Y2godC5hbHROYW1lcy5wdXNoKGYpLGMudHlwZSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDY6YnJlYWs7Y2FzZSA3OmYuaXA9dS51dGlsLmJ5dGVzVG9JUChjLnZhbHVlKTticmVhaztjYXNlIDg6Zi5vaWQ9bC5kZXJUb09pZChjLnZhbHVlKX19fWVsc2UgaWYoXCJzdWJqZWN0S2V5SWRlbnRpZmllclwiPT09dC5uYW1lKXt2YXIgcj1sLmZyb21EZXIodC52YWx1ZSk7dC5zdWJqZWN0S2V5SWRlbnRpZmllcj11LnV0aWwuYnl0ZXNUb0hleChyLnZhbHVlKX1yZXR1cm4gdH0scC5jZXJ0aWZpY2F0aW9uUmVxdWVzdEZyb21Bc24xPWZ1bmN0aW9uKGUsdCl7dmFyIHI9e30sbj1bXTtpZighbC52YWxpZGF0ZShlLG0scixuKSl7dmFyIHM9bmV3IEVycm9yKFwiQ2Fubm90IHJlYWQgUEtDUyMxMCBjZXJ0aWZpY2F0ZSByZXF1ZXN0LiBBU04uMSBvYmplY3QgaXMgbm90IGEgUEtDUyMxMCBDZXJ0aWZpY2F0aW9uUmVxdWVzdC5cIik7dGhyb3cgcy5lcnJvcnM9bixzfXZhciBvPWwuZGVyVG9PaWQoci5wdWJsaWNLZXlPaWQpO2lmKG8hPT1wLm9pZHMucnNhRW5jcnlwdGlvbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBwdWJsaWMga2V5LiBPSUQgaXMgbm90IFJTQS5cIik7dmFyIGM9cC5jcmVhdGVDZXJ0aWZpY2F0aW9uUmVxdWVzdCgpO2lmKGMudmVyc2lvbj1yLmNzclZlcnNpb24/ci5jc3JWZXJzaW9uLmNoYXJDb2RlQXQoMCk6MCxjLnNpZ25hdHVyZU9pZD11LmFzbjEuZGVyVG9PaWQoci5jc3JTaWduYXR1cmVPaWQpLGMuc2lnbmF0dXJlUGFyYW1ldGVycz1DKGMuc2lnbmF0dXJlT2lkLHIuY3NyU2lnbmF0dXJlUGFyYW1zLCEwKSxjLnNpZ2luZm8uYWxnb3JpdGhtT2lkPXUuYXNuMS5kZXJUb09pZChyLmNzclNpZ25hdHVyZU9pZCksYy5zaWdpbmZvLnBhcmFtZXRlcnM9QyhjLnNpZ2luZm8uYWxnb3JpdGhtT2lkLHIuY3NyU2lnbmF0dXJlUGFyYW1zLCExKSxjLnNpZ25hdHVyZT1yLmNzclNpZ25hdHVyZSxjLmNlcnRpZmljYXRpb25SZXF1ZXN0SW5mbz1yLmNlcnRpZmljYXRpb25SZXF1ZXN0SW5mbyx0KXtpZihjLm1kPW51bGwsYy5zaWduYXR1cmVPaWQgaW4gaCl7dmFyIG89aFtjLnNpZ25hdHVyZU9pZF07c3dpdGNoKG8pe2Nhc2VcInNoYTFXaXRoUlNBRW5jcnlwdGlvblwiOmMubWQ9dS5tZC5zaGExLmNyZWF0ZSgpO2JyZWFrO2Nhc2VcIm1kNVdpdGhSU0FFbmNyeXB0aW9uXCI6Yy5tZD11Lm1kLm1kNS5jcmVhdGUoKTticmVhaztjYXNlXCJzaGEyNTZXaXRoUlNBRW5jcnlwdGlvblwiOmMubWQ9dS5tZC5zaGEyNTYuY3JlYXRlKCk7YnJlYWs7Y2FzZVwic2hhNTEyV2l0aFJTQUVuY3J5cHRpb25cIjpjLm1kPXUubWQuc2hhNTEyLmNyZWF0ZSgpO2JyZWFrO2Nhc2VcIlJTQVNTQS1QU1NcIjpjLm1kPXUubWQuc2hhMjU2LmNyZWF0ZSgpfX1pZihudWxsPT09Yy5tZCl7dmFyIHM9bmV3IEVycm9yKFwiQ291bGQgbm90IGNvbXB1dGUgY2VydGlmaWNhdGlvbiByZXF1ZXN0IGRpZ2VzdC4gVW5rbm93biBzaWduYXR1cmUgT0lELlwiKTt0aHJvdyBzLnNpZ25hdHVyZU9pZD1jLnNpZ25hdHVyZU9pZCxzfXZhciBmPWwudG9EZXIoYy5jZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm8pO2MubWQudXBkYXRlKGYuZ2V0Qnl0ZXMoKSl9dmFyIGQ9dS5tZC5zaGExLmNyZWF0ZSgpO3JldHVybiBjLnN1YmplY3QuZ2V0RmllbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGEoYy5zdWJqZWN0LGUpfSxjLnN1YmplY3QuYWRkRmllbGQ9ZnVuY3Rpb24oZSl7aShbZV0pLGMuc3ViamVjdC5hdHRyaWJ1dGVzLnB1c2goZSl9LGMuc3ViamVjdC5hdHRyaWJ1dGVzPXAuUkROQXR0cmlidXRlc0FzQXJyYXkoci5jZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm9TdWJqZWN0LGQpLGMuc3ViamVjdC5oYXNoPWQuZGlnZXN0KCkudG9IZXgoKSxjLnB1YmxpY0tleT1wLnB1YmxpY0tleUZyb21Bc24xKHIuc3ViamVjdFB1YmxpY0tleUluZm8pLGMuZ2V0QXR0cmlidXRlPWZ1bmN0aW9uKGUpe3JldHVybiBhKGMsZSl9LGMuYWRkQXR0cmlidXRlPWZ1bmN0aW9uKGUpe2koW2VdKSxjLmF0dHJpYnV0ZXMucHVzaChlKX0sYy5hdHRyaWJ1dGVzPXAuQ1JJQXR0cmlidXRlc0FzQXJyYXkoci5jZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm9BdHRyaWJ1dGVzfHxbXSksY30scC5jcmVhdGVDZXJ0aWZpY2F0aW9uUmVxdWVzdD1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlLnZlcnNpb249MCxlLnNpZ25hdHVyZU9pZD1udWxsLGUuc2lnbmF0dXJlPW51bGwsZS5zaWdpbmZvPXt9LGUuc2lnaW5mby5hbGdvcml0aG1PaWQ9bnVsbCxlLnN1YmplY3Q9e30sZS5zdWJqZWN0LmdldEZpZWxkPWZ1bmN0aW9uKHQpe3JldHVybiBhKGUuc3ViamVjdCx0KX0sZS5zdWJqZWN0LmFkZEZpZWxkPWZ1bmN0aW9uKHQpe2koW3RdKSxlLnN1YmplY3QuYXR0cmlidXRlcy5wdXNoKHQpfSxlLnN1YmplY3QuYXR0cmlidXRlcz1bXSxlLnN1YmplY3QuaGFzaD1udWxsLGUucHVibGljS2V5PW51bGwsZS5hdHRyaWJ1dGVzPVtdLGUuZ2V0QXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiBhKGUsdCl9LGUuYWRkQXR0cmlidXRlPWZ1bmN0aW9uKHQpe2koW3RdKSxlLmF0dHJpYnV0ZXMucHVzaCh0KX0sZS5tZD1udWxsLGUuc2V0U3ViamVjdD1mdW5jdGlvbih0KXtpKHQpLGUuc3ViamVjdC5hdHRyaWJ1dGVzPXQsZS5zdWJqZWN0Lmhhc2g9bnVsbH0sZS5zZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQpe2kodCksZS5hdHRyaWJ1dGVzPXR9LGUuc2lnbj1mdW5jdGlvbih0LHIpe2UubWQ9cnx8dS5tZC5zaGExLmNyZWF0ZSgpO3ZhciBhPWhbZS5tZC5hbGdvcml0aG0rXCJXaXRoUlNBRW5jcnlwdGlvblwiXTtpZighYSl7dmFyIG49bmV3IEVycm9yKFwiQ291bGQgbm90IGNvbXB1dGUgY2VydGlmaWNhdGlvbiByZXF1ZXN0IGRpZ2VzdC4gVW5rbm93biBtZXNzYWdlIGRpZ2VzdCBhbGdvcml0aG0gT0lELlwiKTt0aHJvdyBuLmFsZ29yaXRobT1lLm1kLmFsZ29yaXRobSxufWUuc2lnbmF0dXJlT2lkPWUuc2lnaW5mby5hbGdvcml0aG1PaWQ9YSxlLmNlcnRpZmljYXRpb25SZXF1ZXN0SW5mbz1wLmdldENlcnRpZmljYXRpb25SZXF1ZXN0SW5mbyhlKTt2YXIgaT1sLnRvRGVyKGUuY2VydGlmaWNhdGlvblJlcXVlc3RJbmZvKTtlLm1kLnVwZGF0ZShpLmdldEJ5dGVzKCkpLGUuc2lnbmF0dXJlPXQuc2lnbihlLm1kKX0sZS52ZXJpZnk9ZnVuY3Rpb24oKXt2YXIgdD0hMSxyPWUubWQ7aWYobnVsbD09PXIpe2lmKGUuc2lnbmF0dXJlT2lkIGluIGgpe3ZhciBhPWhbZS5zaWduYXR1cmVPaWRdO3N3aXRjaChhKXtjYXNlXCJzaGExV2l0aFJTQUVuY3J5cHRpb25cIjpyPXUubWQuc2hhMS5jcmVhdGUoKTticmVhaztjYXNlXCJtZDVXaXRoUlNBRW5jcnlwdGlvblwiOnI9dS5tZC5tZDUuY3JlYXRlKCk7YnJlYWs7Y2FzZVwic2hhMjU2V2l0aFJTQUVuY3J5cHRpb25cIjpyPXUubWQuc2hhMjU2LmNyZWF0ZSgpO2JyZWFrO2Nhc2VcInNoYTUxMldpdGhSU0FFbmNyeXB0aW9uXCI6cj11Lm1kLnNoYTUxMi5jcmVhdGUoKTticmVhaztjYXNlXCJSU0FTU0EtUFNTXCI6cj11Lm1kLnNoYTI1Ni5jcmVhdGUoKX19aWYobnVsbD09PXIpe3ZhciBuPW5ldyBFcnJvcihcIkNvdWxkIG5vdCBjb21wdXRlIGNlcnRpZmljYXRpb24gcmVxdWVzdCBkaWdlc3QuIFVua25vd24gc2lnbmF0dXJlIE9JRC5cIik7dGhyb3cgbi5zaWduYXR1cmVPaWQ9ZS5zaWduYXR1cmVPaWQsbn12YXIgaT1lLmNlcnRpZmljYXRpb25SZXF1ZXN0SW5mb3x8cC5nZXRDZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm8oZSkscz1sLnRvRGVyKGkpO3IudXBkYXRlKHMuZ2V0Qnl0ZXMoKSl9aWYobnVsbCE9PXIpe3ZhciBvO3N3aXRjaChlLnNpZ25hdHVyZU9pZCl7Y2FzZSBoLnNoYTFXaXRoUlNBRW5jcnlwdGlvbjpicmVhaztjYXNlIGhbXCJSU0FTU0EtUFNTXCJdOnZhciBjLGY7aWYoYz1oW2Uuc2lnbmF0dXJlUGFyYW1ldGVycy5tZ2YuaGFzaC5hbGdvcml0aG1PaWRdLHZvaWQgMD09PWN8fHZvaWQgMD09PXUubWRbY10pe3ZhciBuPW5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIE1HRiBoYXNoIGZ1bmN0aW9uLlwiKTt0aHJvdyBuLm9pZD1lLnNpZ25hdHVyZVBhcmFtZXRlcnMubWdmLmhhc2guYWxnb3JpdGhtT2lkLG4ubmFtZT1jLG59aWYoZj1oW2Uuc2lnbmF0dXJlUGFyYW1ldGVycy5tZ2YuYWxnb3JpdGhtT2lkXSx2b2lkIDA9PT1mfHx2b2lkIDA9PT11Lm1nZltmXSl7dmFyIG49bmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgTUdGIGZ1bmN0aW9uLlwiKTt0aHJvdyBuLm9pZD1lLnNpZ25hdHVyZVBhcmFtZXRlcnMubWdmLmFsZ29yaXRobU9pZCxuLm5hbWU9ZixufWlmKGY9dS5tZ2ZbZl0uY3JlYXRlKHUubWRbY10uY3JlYXRlKCkpLGM9aFtlLnNpZ25hdHVyZVBhcmFtZXRlcnMuaGFzaC5hbGdvcml0aG1PaWRdLHZvaWQgMD09PWN8fHZvaWQgMD09PXUubWRbY10pe3ZhciBuPW5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIFJTQVNTQS1QU1MgaGFzaCBmdW5jdGlvbi5cIik7dGhyb3cgbi5vaWQ9ZS5zaWduYXR1cmVQYXJhbWV0ZXJzLmhhc2guYWxnb3JpdGhtT2lkLG4ubmFtZT1jLG59bz11LnBzcy5jcmVhdGUodS5tZFtjXS5jcmVhdGUoKSxmLGUuc2lnbmF0dXJlUGFyYW1ldGVycy5zYWx0TGVuZ3RoKX10PWUucHVibGljS2V5LnZlcmlmeShyLmRpZ2VzdCgpLmdldEJ5dGVzKCksZS5zaWduYXR1cmUsbyl9cmV0dXJuIHR9LGV9LHAuZ2V0VEJTQ2VydGlmaWNhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9bC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFUVVFTkNFLCEwLFtsLmNyZWF0ZShsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMCwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLklOVEVHRVIsITEsbC5pbnRlZ2VyVG9EZXIoZS52ZXJzaW9uKS5nZXRCeXRlcygpKV0pLGwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5JTlRFR0VSLCExLHUudXRpbC5oZXhUb0J5dGVzKGUuc2VyaWFsTnVtYmVyKSksbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFUVVFTkNFLCEwLFtsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuT0lELCExLGwub2lkVG9EZXIoZS5zaWdpbmZvLmFsZ29yaXRobU9pZCkuZ2V0Qnl0ZXMoKSksbyhlLnNpZ2luZm8uYWxnb3JpdGhtT2lkLGUuc2lnaW5mby5wYXJhbWV0ZXJzKV0pLG4oZS5pc3N1ZXIpLGwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlVUQ1RJTUUsITEsbC5kYXRlVG9VdGNUaW1lKGUudmFsaWRpdHkubm90QmVmb3JlKSksbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlVUQ1RJTUUsITEsbC5kYXRlVG9VdGNUaW1lKGUudmFsaWRpdHkubm90QWZ0ZXIpKV0pLG4oZS5zdWJqZWN0KSxwLnB1YmxpY0tleVRvQXNuMShlLnB1YmxpY0tleSldKTtyZXR1cm4gZS5pc3N1ZXIudW5pcXVlSWQmJnQudmFsdWUucHVzaChsLmNyZWF0ZShsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLkJJVFNUUklORywhMSxTdHJpbmcuZnJvbUNoYXJDb2RlKDApK2UuaXNzdWVyLnVuaXF1ZUlkKV0pKSxlLnN1YmplY3QudW5pcXVlSWQmJnQudmFsdWUucHVzaChsLmNyZWF0ZShsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMiwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLkJJVFNUUklORywhMSxTdHJpbmcuZnJvbUNoYXJDb2RlKDApK2Uuc3ViamVjdC51bmlxdWVJZCldKSksZS5leHRlbnNpb25zLmxlbmd0aD4wJiZ0LnZhbHVlLnB1c2gocC5jZXJ0aWZpY2F0ZUV4dGVuc2lvbnNUb0FzbjEoZS5leHRlbnNpb25zKSksdH0scC5nZXRDZXJ0aWZpY2F0aW9uUmVxdWVzdEluZm89ZnVuY3Rpb24oZSl7dmFyIHQ9bC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFUVVFTkNFLCEwLFtsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuSU5URUdFUiwhMSxsLmludGVnZXJUb0RlcihlLnZlcnNpb24pLmdldEJ5dGVzKCkpLG4oZS5zdWJqZWN0KSxwLnB1YmxpY0tleVRvQXNuMShlLnB1YmxpY0tleSksYyhlKV0pO3JldHVybiB0fSxwLmRpc3Rpbmd1aXNoZWROYW1lVG9Bc24xPWZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSxwLmNlcnRpZmljYXRlVG9Bc24xPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGJzQ2VydGlmaWNhdGV8fHAuZ2V0VEJTQ2VydGlmaWNhdGUoZSk7cmV0dXJuIGwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbdCxsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5PSUQsITEsbC5vaWRUb0RlcihlLnNpZ25hdHVyZU9pZCkuZ2V0Qnl0ZXMoKSksbyhlLnNpZ25hdHVyZU9pZCxlLnNpZ25hdHVyZVBhcmFtZXRlcnMpXSksbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLkJJVFNUUklORywhMSxTdHJpbmcuZnJvbUNoYXJDb2RlKDApK2Uuc2lnbmF0dXJlKV0pfSxwLmNlcnRpZmljYXRlRXh0ZW5zaW9uc1RvQXNuMT1mdW5jdGlvbihlKXt2YXIgdD1sLmNyZWF0ZShsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMywhMCxbXSkscj1sLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW10pO3QudmFsdWUucHVzaChyKTtmb3IodmFyIGE9MDthPGUubGVuZ3RoOysrYSlyLnZhbHVlLnB1c2gocC5jZXJ0aWZpY2F0ZUV4dGVuc2lvblRvQXNuMShlW2FdKSk7cmV0dXJuIHR9LHAuY2VydGlmaWNhdGVFeHRlbnNpb25Ub0FzbjE9ZnVuY3Rpb24oZSl7dmFyIHQ9bC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFUVVFTkNFLCEwLFtdKTt0LnZhbHVlLnB1c2gobC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9JRCwhMSxsLm9pZFRvRGVyKGUuaWQpLmdldEJ5dGVzKCkpKSxlLmNyaXRpY2FsJiZ0LnZhbHVlLnB1c2gobC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLkJPT0xFQU4sITEsU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUpKSk7dmFyIHI9ZS52YWx1ZTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZS52YWx1ZSYmKHI9bC50b0RlcihyKS5nZXRCeXRlcygpKSx0LnZhbHVlLnB1c2gobC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9DVEVUU1RSSU5HLCExLHIpKSx0fSxwLmNlcnRpZmljYXRpb25SZXF1ZXN0VG9Bc24xPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY2VydGlmaWNhdGlvblJlcXVlc3RJbmZvfHxwLmdldENlcnRpZmljYXRpb25SZXF1ZXN0SW5mbyhlKTtyZXR1cm4gbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFUVVFTkNFLCEwLFt0LGwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9JRCwhMSxsLm9pZFRvRGVyKGUuc2lnbmF0dXJlT2lkKS5nZXRCeXRlcygpKSxvKGUuc2lnbmF0dXJlT2lkLGUuc2lnbmF0dXJlUGFyYW1ldGVycyldKSxsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuQklUU1RSSU5HLCExLFN0cmluZy5mcm9tQ2hhckNvZGUoMCkrZS5zaWduYXR1cmUpXSl9LHAuY3JlYXRlQ2FTdG9yZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybiByKGUpLGEuY2VydHNbZS5oYXNoXXx8bnVsbH1mdW5jdGlvbiByKGUpe2lmKCFlLmhhc2gpe3ZhciB0PXUubWQuc2hhMS5jcmVhdGUoKTtlLmF0dHJpYnV0ZXM9cC5SRE5BdHRyaWJ1dGVzQXNBcnJheShuKGUpLHQpLGUuaGFzaD10LmRpZ2VzdCgpLnRvSGV4KCl9fXZhciBhPXtjZXJ0czp7fX07aWYoYS5nZXRJc3N1ZXI9ZnVuY3Rpb24oZSl7dmFyIHI9dChlLmlzc3Vlcik7cmV0dXJuIHJ9LGEuYWRkQ2VydGlmaWNhdGU9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXUucGtpLmNlcnRpZmljYXRlRnJvbVBlbShlKSkscihlLnN1YmplY3QpLCFhLmhhc0NlcnRpZmljYXRlKGUpKWlmKGUuc3ViamVjdC5oYXNoIGluIGEuY2VydHMpe3ZhciB0PWEuY2VydHNbZS5zdWJqZWN0Lmhhc2hdO3UudXRpbC5pc0FycmF5KHQpfHwodD1bdF0pLHQucHVzaChlKSxhLmNlcnRzW2Uuc3ViamVjdC5oYXNoXT10fWVsc2UgYS5jZXJ0c1tlLnN1YmplY3QuaGFzaF09ZX0sYS5oYXNDZXJ0aWZpY2F0ZT1mdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dS5wa2kuY2VydGlmaWNhdGVGcm9tUGVtKGUpKTt2YXIgcj10KGUuc3ViamVjdCk7aWYoIXIpcmV0dXJuITE7dS51dGlsLmlzQXJyYXkocil8fChyPVtyXSk7Zm9yKHZhciBhPWwudG9EZXIocC5jZXJ0aWZpY2F0ZVRvQXNuMShlKSkuZ2V0Qnl0ZXMoKSxuPTA7bjxyLmxlbmd0aDsrK24pe3ZhciBpPWwudG9EZXIocC5jZXJ0aWZpY2F0ZVRvQXNuMShyW25dKSkuZ2V0Qnl0ZXMoKTtpZihhPT09aSlyZXR1cm4hMH1yZXR1cm4hMX0sYS5saXN0QWxsQ2VydGlmaWNhdGVzPWZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKHZhciB0IGluIGEuY2VydHMpaWYoYS5jZXJ0cy5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIHI9YS5jZXJ0c1t0XTtpZih1LnV0aWwuaXNBcnJheShyKSlmb3IodmFyIG49MDtuPHIubGVuZ3RoOysrbillLnB1c2gocltuXSk7ZWxzZSBlLnB1c2gocil9cmV0dXJuIGV9LGEucmVtb3ZlQ2VydGlmaWNhdGU9ZnVuY3Rpb24oZSl7dmFyIG47aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXUucGtpLmNlcnRpZmljYXRlRnJvbVBlbShlKSkscihlLnN1YmplY3QpLCFhLmhhc0NlcnRpZmljYXRlKGUpKXJldHVybiBudWxsO3ZhciBpPXQoZS5zdWJqZWN0KTtpZighdS51dGlsLmlzQXJyYXkoaSkpcmV0dXJuIG49YS5jZXJ0c1tlLnN1YmplY3QuaGFzaF0sZGVsZXRlIGEuY2VydHNbZS5zdWJqZWN0Lmhhc2hdLG47Zm9yKHZhciBzPWwudG9EZXIocC5jZXJ0aWZpY2F0ZVRvQXNuMShlKSkuZ2V0Qnl0ZXMoKSxvPTA7bzxpLmxlbmd0aDsrK28pe3ZhciBjPWwudG9EZXIocC5jZXJ0aWZpY2F0ZVRvQXNuMShpW29dKSkuZ2V0Qnl0ZXMoKTtzPT09YyYmKG49aVtvXSxpLnNwbGljZShvLDEpKX1yZXR1cm4gMD09PWkubGVuZ3RoJiZkZWxldGUgYS5jZXJ0c1tlLnN1YmplY3QuaGFzaF0sbn0sZSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoOysraSl7dmFyIHM9ZVtpXTthLmFkZENlcnRpZmljYXRlKHMpfXJldHVybiBhfSxwLmNlcnRpZmljYXRlRXJyb3I9e2JhZF9jZXJ0aWZpY2F0ZTpcImZvcmdlLnBraS5CYWRDZXJ0aWZpY2F0ZVwiLHVuc3VwcG9ydGVkX2NlcnRpZmljYXRlOlwiZm9yZ2UucGtpLlVuc3VwcG9ydGVkQ2VydGlmaWNhdGVcIixjZXJ0aWZpY2F0ZV9yZXZva2VkOlwiZm9yZ2UucGtpLkNlcnRpZmljYXRlUmV2b2tlZFwiLGNlcnRpZmljYXRlX2V4cGlyZWQ6XCJmb3JnZS5wa2kuQ2VydGlmaWNhdGVFeHBpcmVkXCIsY2VydGlmaWNhdGVfdW5rbm93bjpcImZvcmdlLnBraS5DZXJ0aWZpY2F0ZVVua25vd25cIix1bmtub3duX2NhOlwiZm9yZ2UucGtpLlVua25vd25DZXJ0aWZpY2F0ZUF1dGhvcml0eVwifSxwLnZlcmlmeUNlcnRpZmljYXRlQ2hhaW49ZnVuY3Rpb24oZSx0LHIpe3Q9dC5zbGljZSgwKTt2YXIgYT10LnNsaWNlKDApLG49bmV3IERhdGUsaT0hMCxzPW51bGwsbz0wO2Rve3ZhciBjPXQuc2hpZnQoKSxsPW51bGwsaD0hMTtpZigobjxjLnZhbGlkaXR5Lm5vdEJlZm9yZXx8bj5jLnZhbGlkaXR5Lm5vdEFmdGVyKSYmKHM9e21lc3NhZ2U6XCJDZXJ0aWZpY2F0ZSBpcyBub3QgdmFsaWQgeWV0IG9yIGhhcyBleHBpcmVkLlwiLGVycm9yOnAuY2VydGlmaWNhdGVFcnJvci5jZXJ0aWZpY2F0ZV9leHBpcmVkLG5vdEJlZm9yZTpjLnZhbGlkaXR5Lm5vdEJlZm9yZSxub3RBZnRlcjpjLnZhbGlkaXR5Lm5vdEFmdGVyLG5vdzpufSksbnVsbD09PXMpe2lmKGw9dFswXXx8ZS5nZXRJc3N1ZXIoYyksbnVsbD09PWwmJmMuaXNJc3N1ZXIoYykmJihoPSEwLGw9YyksbCl7dmFyIGY9bDt1LnV0aWwuaXNBcnJheShmKXx8KGY9W2ZdKTtmb3IodmFyIGQ9ITE7IWQmJmYubGVuZ3RoPjA7KXtsPWYuc2hpZnQoKTt0cnl7ZD1sLnZlcmlmeShjKX1jYXRjaChlKXt9fWR8fChzPXttZXNzYWdlOlwiQ2VydGlmaWNhdGUgc2lnbmF0dXJlIGlzIGludmFsaWQuXCIsZXJyb3I6cC5jZXJ0aWZpY2F0ZUVycm9yLmJhZF9jZXJ0aWZpY2F0ZX0pfW51bGwhPT1zfHxsJiYhaHx8ZS5oYXNDZXJ0aWZpY2F0ZShjKXx8KHM9e21lc3NhZ2U6XCJDZXJ0aWZpY2F0ZSBpcyBub3QgdHJ1c3RlZC5cIixlcnJvcjpwLmNlcnRpZmljYXRlRXJyb3IudW5rbm93bl9jYX0pfWlmKG51bGw9PT1zJiZsJiYhYy5pc0lzc3VlcihsKSYmKHM9e21lc3NhZ2U6XCJDZXJ0aWZpY2F0ZSBpc3N1ZXIgaXMgaW52YWxpZC5cIixlcnJvcjpwLmNlcnRpZmljYXRlRXJyb3IuYmFkX2NlcnRpZmljYXRlfSksbnVsbD09PXMpZm9yKHZhciB5PXtrZXlVc2FnZTohMCxiYXNpY0NvbnN0cmFpbnRzOiEwfSxnPTA7bnVsbD09PXMmJmc8Yy5leHRlbnNpb25zLmxlbmd0aDsrK2cpe3ZhciB2PWMuZXh0ZW5zaW9uc1tnXTshdi5jcml0aWNhbHx8di5uYW1lIGluIHl8fChzPXttZXNzYWdlOlwiQ2VydGlmaWNhdGUgaGFzIGFuIHVuc3VwcG9ydGVkIGNyaXRpY2FsIGV4dGVuc2lvbi5cIixlcnJvcjpwLmNlcnRpZmljYXRlRXJyb3IudW5zdXBwb3J0ZWRfY2VydGlmaWNhdGV9KX1pZihudWxsPT09cyYmKCFpfHwwPT09dC5sZW5ndGgmJighbHx8aCkpKXt2YXIgbT1jLmdldEV4dGVuc2lvbihcImJhc2ljQ29uc3RyYWludHNcIiksQz1jLmdldEV4dGVuc2lvbihcImtleVVzYWdlXCIpO2lmKG51bGwhPT1DJiYoQy5rZXlDZXJ0U2lnbiYmbnVsbCE9PW18fChzPXttZXNzYWdlOlwiQ2VydGlmaWNhdGUga2V5VXNhZ2Ugb3IgYmFzaWNDb25zdHJhaW50cyBjb25mbGljdCBvciBpbmRpY2F0ZSB0aGF0IHRoZSBjZXJ0aWZpY2F0ZSBpcyBub3QgYSBDQS4gSWYgdGhlIGNlcnRpZmljYXRlIGlzIHRoZSBvbmx5IG9uZSBpbiB0aGUgY2hhaW4gb3IgaXNuJ3QgdGhlIGZpcnN0IHRoZW4gdGhlIGNlcnRpZmljYXRlIG11c3QgYmUgYSB2YWxpZCBDQS5cIixlcnJvcjpwLmNlcnRpZmljYXRlRXJyb3IuYmFkX2NlcnRpZmljYXRlfSkpLG51bGwhPT1zfHxudWxsPT09bXx8bS5jQXx8KHM9e21lc3NhZ2U6XCJDZXJ0aWZpY2F0ZSBiYXNpY0NvbnN0cmFpbnRzIGluZGljYXRlcyB0aGUgY2VydGlmaWNhdGUgaXMgbm90IGEgQ0EuXCIsZXJyb3I6cC5jZXJ0aWZpY2F0ZUVycm9yLmJhZF9jZXJ0aWZpY2F0ZX0pLG51bGw9PT1zJiZudWxsIT09QyYmXCJwYXRoTGVuQ29uc3RyYWludFwiaW4gbSl7dmFyIEU9by0xO0U+bS5wYXRoTGVuQ29uc3RyYWludCYmKHM9e21lc3NhZ2U6XCJDZXJ0aWZpY2F0ZSBiYXNpY0NvbnN0cmFpbnRzIHBhdGhMZW5Db25zdHJhaW50IHZpb2xhdGVkLlwiLGVycm9yOnAuY2VydGlmaWNhdGVFcnJvci5iYWRfY2VydGlmaWNhdGV9KX19dmFyIFM9bnVsbD09PXN8fHMuZXJyb3IsVD1yP3IoUyxvLGEpOlM7aWYoVCE9PSEwKXRocm93IFM9PT0hMCYmKHM9e21lc3NhZ2U6XCJUaGUgYXBwbGljYXRpb24gcmVqZWN0ZWQgdGhlIGNlcnRpZmljYXRlLlwiLGVycm9yOnAuY2VydGlmaWNhdGVFcnJvci5iYWRfY2VydGlmaWNhdGV9KSwoVHx8MD09PVQpJiYoXCJvYmplY3RcIiE9dHlwZW9mIFR8fHUudXRpbC5pc0FycmF5KFQpP1wic3RyaW5nXCI9PXR5cGVvZiBUJiYocy5lcnJvcj1UKTooVC5tZXNzYWdlJiYocy5tZXNzYWdlPVQubWVzc2FnZSksVC5lcnJvciYmKHMuZXJyb3I9VC5lcnJvcikpKSxzO3M9bnVsbCxpPSExLCsrb313aGlsZSh0Lmxlbmd0aD4wKTtyZXR1cm4hMH19LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBhKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1zLnV0aWwuY3JlYXRlQnVmZmVyKGUpKSxzLnV0aWwuaXNBcnJheShlKSYmZS5sZW5ndGg+NCl7dmFyIHQ9ZTtlPXMudXRpbC5jcmVhdGVCdWZmZXIoKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoOysrcillLnB1dEJ5dGUodFtyXSl9cmV0dXJuIHMudXRpbC5pc0FycmF5KGUpfHwoZT1bZS5nZXRJbnQzMigpLGUuZ2V0SW50MzIoKSxlLmdldEludDMyKCksZS5nZXRJbnQzMigpXSksZX1mdW5jdGlvbiBuKGUpe2VbZS5sZW5ndGgtMV09ZVtlLmxlbmd0aC0xXSsxJjQyOTQ5NjcyOTV9ZnVuY3Rpb24gaShlKXtyZXR1cm5bZS80Mjk0OTY3Mjk2fDAsNDI5NDk2NzI5NSZlXX12YXIgcz1yKDApO3IoMSkscy5jaXBoZXI9cy5jaXBoZXJ8fHt9O3ZhciBvPWUuZXhwb3J0cz1zLmNpcGhlci5tb2Rlcz1zLmNpcGhlci5tb2Rlc3x8e307by5lY2I9ZnVuY3Rpb24oZSl7ZT1lfHx7fSx0aGlzLm5hbWU9XCJFQ0JcIix0aGlzLmNpcGhlcj1lLmNpcGhlcix0aGlzLmJsb2NrU2l6ZT1lLmJsb2NrU2l6ZXx8MTYsdGhpcy5faW50cz10aGlzLmJsb2NrU2l6ZS80LHRoaXMuX2luQmxvY2s9bmV3IEFycmF5KHRoaXMuX2ludHMpLHRoaXMuX291dEJsb2NrPW5ldyBBcnJheSh0aGlzLl9pbnRzKX0sby5lY2IucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe30sby5lY2IucHJvdG90eXBlLmVuY3J5cHQ9ZnVuY3Rpb24oZSx0LHIpe2lmKGUubGVuZ3RoKCk8dGhpcy5ibG9ja1NpemUmJiEociYmZS5sZW5ndGgoKT4wKSlyZXR1cm4hMDtmb3IodmFyIGE9MDthPHRoaXMuX2ludHM7KythKXRoaXMuX2luQmxvY2tbYV09ZS5nZXRJbnQzMigpO3RoaXMuY2lwaGVyLmVuY3J5cHQodGhpcy5faW5CbG9jayx0aGlzLl9vdXRCbG9jayk7Zm9yKHZhciBhPTA7YTx0aGlzLl9pbnRzOysrYSl0LnB1dEludDMyKHRoaXMuX291dEJsb2NrW2FdKX0sby5lY2IucHJvdG90eXBlLmRlY3J5cHQ9ZnVuY3Rpb24oZSx0LHIpe2lmKGUubGVuZ3RoKCk8dGhpcy5ibG9ja1NpemUmJiEociYmZS5sZW5ndGgoKT4wKSlyZXR1cm4hMDtmb3IodmFyIGE9MDthPHRoaXMuX2ludHM7KythKXRoaXMuX2luQmxvY2tbYV09ZS5nZXRJbnQzMigpO3RoaXMuY2lwaGVyLmRlY3J5cHQodGhpcy5faW5CbG9jayx0aGlzLl9vdXRCbG9jayk7Zm9yKHZhciBhPTA7YTx0aGlzLl9pbnRzOysrYSl0LnB1dEludDMyKHRoaXMuX291dEJsb2NrW2FdKX0sby5lY2IucHJvdG90eXBlLnBhZD1mdW5jdGlvbihlLHQpe3ZhciByPWUubGVuZ3RoKCk9PT10aGlzLmJsb2NrU2l6ZT90aGlzLmJsb2NrU2l6ZTp0aGlzLmJsb2NrU2l6ZS1lLmxlbmd0aCgpO3JldHVybiBlLmZpbGxXaXRoQnl0ZShyLHIpLCEwfSxvLmVjYi5wcm90b3R5cGUudW5wYWQ9ZnVuY3Rpb24oZSx0KXtpZih0Lm92ZXJmbG93PjApcmV0dXJuITE7dmFyIHI9ZS5sZW5ndGgoKSxhPWUuYXQoci0xKTtyZXR1cm4hKGE+dGhpcy5ibG9ja1NpemU8PDIpJiYoZS50cnVuY2F0ZShhKSwhMCl9LG8uY2JjPWZ1bmN0aW9uKGUpe2U9ZXx8e30sdGhpcy5uYW1lPVwiQ0JDXCIsdGhpcy5jaXBoZXI9ZS5jaXBoZXIsdGhpcy5ibG9ja1NpemU9ZS5ibG9ja1NpemV8fDE2LHRoaXMuX2ludHM9dGhpcy5ibG9ja1NpemUvNCx0aGlzLl9pbkJsb2NrPW5ldyBBcnJheSh0aGlzLl9pbnRzKSx0aGlzLl9vdXRCbG9jaz1uZXcgQXJyYXkodGhpcy5faW50cyl9LG8uY2JjLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXtpZihudWxsPT09ZS5pdil7aWYoIXRoaXMuX3ByZXYpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBJViBwYXJhbWV0ZXIuXCIpO3RoaXMuX2l2PXRoaXMuX3ByZXYuc2xpY2UoMCl9ZWxzZXtpZighKFwiaXZcImluIGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSVYgcGFyYW1ldGVyLlwiKTt0aGlzLl9pdj1hKGUuaXYpLHRoaXMuX3ByZXY9dGhpcy5faXYuc2xpY2UoMCl9fSxvLmNiYy5wcm90b3R5cGUuZW5jcnlwdD1mdW5jdGlvbihlLHQscil7aWYoZS5sZW5ndGgoKTx0aGlzLmJsb2NrU2l6ZSYmIShyJiZlLmxlbmd0aCgpPjApKXJldHVybiEwO2Zvcih2YXIgYT0wO2E8dGhpcy5faW50czsrK2EpdGhpcy5faW5CbG9ja1thXT10aGlzLl9wcmV2W2FdXmUuZ2V0SW50MzIoKTt0aGlzLmNpcGhlci5lbmNyeXB0KHRoaXMuX2luQmxvY2ssdGhpcy5fb3V0QmxvY2spO2Zvcih2YXIgYT0wO2E8dGhpcy5faW50czsrK2EpdC5wdXRJbnQzMih0aGlzLl9vdXRCbG9ja1thXSk7dGhpcy5fcHJldj10aGlzLl9vdXRCbG9ja30sby5jYmMucHJvdG90eXBlLmRlY3J5cHQ9ZnVuY3Rpb24oZSx0LHIpe2lmKGUubGVuZ3RoKCk8dGhpcy5ibG9ja1NpemUmJiEociYmZS5sZW5ndGgoKT4wKSlyZXR1cm4hMDtmb3IodmFyIGE9MDthPHRoaXMuX2ludHM7KythKXRoaXMuX2luQmxvY2tbYV09ZS5nZXRJbnQzMigpO3RoaXMuY2lwaGVyLmRlY3J5cHQodGhpcy5faW5CbG9jayx0aGlzLl9vdXRCbG9jayk7Zm9yKHZhciBhPTA7YTx0aGlzLl9pbnRzOysrYSl0LnB1dEludDMyKHRoaXMuX3ByZXZbYV1edGhpcy5fb3V0QmxvY2tbYV0pO3RoaXMuX3ByZXY9dGhpcy5faW5CbG9jay5zbGljZSgwKX0sby5jYmMucHJvdG90eXBlLnBhZD1mdW5jdGlvbihlLHQpe3ZhciByPWUubGVuZ3RoKCk9PT10aGlzLmJsb2NrU2l6ZT90aGlzLmJsb2NrU2l6ZTp0aGlzLmJsb2NrU2l6ZS1lLmxlbmd0aCgpO3JldHVybiBlLmZpbGxXaXRoQnl0ZShyLHIpLCEwfSxvLmNiYy5wcm90b3R5cGUudW5wYWQ9ZnVuY3Rpb24oZSx0KXtpZih0Lm92ZXJmbG93PjApcmV0dXJuITE7dmFyIHI9ZS5sZW5ndGgoKSxhPWUuYXQoci0xKTtyZXR1cm4hKGE+dGhpcy5ibG9ja1NpemU8PDIpJiYoZS50cnVuY2F0ZShhKSwhMCl9LG8uY2ZiPWZ1bmN0aW9uKGUpe2U9ZXx8e30sdGhpcy5uYW1lPVwiQ0ZCXCIsdGhpcy5jaXBoZXI9ZS5jaXBoZXIsdGhpcy5ibG9ja1NpemU9ZS5ibG9ja1NpemV8fDE2LHRoaXMuX2ludHM9dGhpcy5ibG9ja1NpemUvNCx0aGlzLl9pbkJsb2NrPW51bGwsdGhpcy5fb3V0QmxvY2s9bmV3IEFycmF5KHRoaXMuX2ludHMpLHRoaXMuX3BhcnRpYWxCbG9jaz1uZXcgQXJyYXkodGhpcy5faW50cyksdGhpcy5fcGFydGlhbE91dHB1dD1zLnV0aWwuY3JlYXRlQnVmZmVyKCksdGhpcy5fcGFydGlhbEJ5dGVzPTB9LG8uY2ZiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXtpZighKFwiaXZcImluIGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSVYgcGFyYW1ldGVyLlwiKTt0aGlzLl9pdj1hKGUuaXYpLHRoaXMuX2luQmxvY2s9dGhpcy5faXYuc2xpY2UoMCksdGhpcy5fcGFydGlhbEJ5dGVzPTB9LG8uY2ZiLnByb3RvdHlwZS5lbmNyeXB0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1lLmxlbmd0aCgpO2lmKDA9PT1hKXJldHVybiEwO2lmKHRoaXMuY2lwaGVyLmVuY3J5cHQodGhpcy5faW5CbG9jayx0aGlzLl9vdXRCbG9jayksMD09PXRoaXMuX3BhcnRpYWxCeXRlcyYmYT49dGhpcy5ibG9ja1NpemUpZm9yKHZhciBuPTA7bjx0aGlzLl9pbnRzOysrbil0aGlzLl9pbkJsb2NrW25dPWUuZ2V0SW50MzIoKV50aGlzLl9vdXRCbG9ja1tuXSx0LnB1dEludDMyKHRoaXMuX2luQmxvY2tbbl0pO2Vsc2V7dmFyIGk9KHRoaXMuYmxvY2tTaXplLWEpJXRoaXMuYmxvY2tTaXplO2k+MCYmKGk9dGhpcy5ibG9ja1NpemUtaSksdGhpcy5fcGFydGlhbE91dHB1dC5jbGVhcigpO2Zvcih2YXIgbj0wO248dGhpcy5faW50czsrK24pdGhpcy5fcGFydGlhbEJsb2NrW25dPWUuZ2V0SW50MzIoKV50aGlzLl9vdXRCbG9ja1tuXSx0aGlzLl9wYXJ0aWFsT3V0cHV0LnB1dEludDMyKHRoaXMuX3BhcnRpYWxCbG9ja1tuXSk7aWYoaT4wKWUucmVhZC09dGhpcy5ibG9ja1NpemU7ZWxzZSBmb3IodmFyIG49MDtuPHRoaXMuX2ludHM7KytuKXRoaXMuX2luQmxvY2tbbl09dGhpcy5fcGFydGlhbEJsb2NrW25dO2lmKHRoaXMuX3BhcnRpYWxCeXRlcz4wJiZ0aGlzLl9wYXJ0aWFsT3V0cHV0LmdldEJ5dGVzKHRoaXMuX3BhcnRpYWxCeXRlcyksaT4wJiYhcilyZXR1cm4gdC5wdXRCeXRlcyh0aGlzLl9wYXJ0aWFsT3V0cHV0LmdldEJ5dGVzKGktdGhpcy5fcGFydGlhbEJ5dGVzKSksdGhpcy5fcGFydGlhbEJ5dGVzPWksITA7dC5wdXRCeXRlcyh0aGlzLl9wYXJ0aWFsT3V0cHV0LmdldEJ5dGVzKGEtdGhpcy5fcGFydGlhbEJ5dGVzKSksdGhpcy5fcGFydGlhbEJ5dGVzPTB9fSxvLmNmYi5wcm90b3R5cGUuZGVjcnlwdD1mdW5jdGlvbihlLHQscil7dmFyIGE9ZS5sZW5ndGgoKTtpZigwPT09YSlyZXR1cm4hMDtpZih0aGlzLmNpcGhlci5lbmNyeXB0KHRoaXMuX2luQmxvY2ssdGhpcy5fb3V0QmxvY2spLDA9PT10aGlzLl9wYXJ0aWFsQnl0ZXMmJmE+PXRoaXMuYmxvY2tTaXplKWZvcih2YXIgbj0wO248dGhpcy5faW50czsrK24pdGhpcy5faW5CbG9ja1tuXT1lLmdldEludDMyKCksdC5wdXRJbnQzMih0aGlzLl9pbkJsb2NrW25dXnRoaXMuX291dEJsb2NrW25dKTtlbHNle3ZhciBpPSh0aGlzLmJsb2NrU2l6ZS1hKSV0aGlzLmJsb2NrU2l6ZTtpPjAmJihpPXRoaXMuYmxvY2tTaXplLWkpLHRoaXMuX3BhcnRpYWxPdXRwdXQuY2xlYXIoKTtmb3IodmFyIG49MDtuPHRoaXMuX2ludHM7KytuKXRoaXMuX3BhcnRpYWxCbG9ja1tuXT1lLmdldEludDMyKCksdGhpcy5fcGFydGlhbE91dHB1dC5wdXRJbnQzMih0aGlzLl9wYXJ0aWFsQmxvY2tbbl1edGhpcy5fb3V0QmxvY2tbbl0pO2lmKGk+MCllLnJlYWQtPXRoaXMuYmxvY2tTaXplO2Vsc2UgZm9yKHZhciBuPTA7bjx0aGlzLl9pbnRzOysrbil0aGlzLl9pbkJsb2NrW25dPXRoaXMuX3BhcnRpYWxCbG9ja1tuXTtpZih0aGlzLl9wYXJ0aWFsQnl0ZXM+MCYmdGhpcy5fcGFydGlhbE91dHB1dC5nZXRCeXRlcyh0aGlzLl9wYXJ0aWFsQnl0ZXMpLGk+MCYmIXIpcmV0dXJuIHQucHV0Qnl0ZXModGhpcy5fcGFydGlhbE91dHB1dC5nZXRCeXRlcyhpLXRoaXMuX3BhcnRpYWxCeXRlcykpLHRoaXMuX3BhcnRpYWxCeXRlcz1pLCEwO3QucHV0Qnl0ZXModGhpcy5fcGFydGlhbE91dHB1dC5nZXRCeXRlcyhhLXRoaXMuX3BhcnRpYWxCeXRlcykpLHRoaXMuX3BhcnRpYWxCeXRlcz0wfX0sby5vZmI9ZnVuY3Rpb24oZSl7ZT1lfHx7fSx0aGlzLm5hbWU9XCJPRkJcIix0aGlzLmNpcGhlcj1lLmNpcGhlcix0aGlzLmJsb2NrU2l6ZT1lLmJsb2NrU2l6ZXx8MTYsdGhpcy5faW50cz10aGlzLmJsb2NrU2l6ZS80LHRoaXMuX2luQmxvY2s9bnVsbCx0aGlzLl9vdXRCbG9jaz1uZXcgQXJyYXkodGhpcy5faW50cyksdGhpcy5fcGFydGlhbE91dHB1dD1zLnV0aWwuY3JlYXRlQnVmZmVyKCksdGhpcy5fcGFydGlhbEJ5dGVzPTB9LG8ub2ZiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXtpZighKFwiaXZcImluIGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSVYgcGFyYW1ldGVyLlwiKTt0aGlzLl9pdj1hKGUuaXYpLHRoaXMuX2luQmxvY2s9dGhpcy5faXYuc2xpY2UoMCksdGhpcy5fcGFydGlhbEJ5dGVzPTB9LG8ub2ZiLnByb3RvdHlwZS5lbmNyeXB0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1lLmxlbmd0aCgpO2lmKDA9PT1lLmxlbmd0aCgpKXJldHVybiEwO2lmKHRoaXMuY2lwaGVyLmVuY3J5cHQodGhpcy5faW5CbG9jayx0aGlzLl9vdXRCbG9jayksMD09PXRoaXMuX3BhcnRpYWxCeXRlcyYmYT49dGhpcy5ibG9ja1NpemUpZm9yKHZhciBuPTA7bjx0aGlzLl9pbnRzOysrbil0LnB1dEludDMyKGUuZ2V0SW50MzIoKV50aGlzLl9vdXRCbG9ja1tuXSksdGhpcy5faW5CbG9ja1tuXT10aGlzLl9vdXRCbG9ja1tuXTtlbHNle3ZhciBpPSh0aGlzLmJsb2NrU2l6ZS1hKSV0aGlzLmJsb2NrU2l6ZTtpPjAmJihpPXRoaXMuYmxvY2tTaXplLWkpLHRoaXMuX3BhcnRpYWxPdXRwdXQuY2xlYXIoKTtmb3IodmFyIG49MDtuPHRoaXMuX2ludHM7KytuKXRoaXMuX3BhcnRpYWxPdXRwdXQucHV0SW50MzIoZS5nZXRJbnQzMigpXnRoaXMuX291dEJsb2NrW25dKTtpZihpPjApZS5yZWFkLT10aGlzLmJsb2NrU2l6ZTtlbHNlIGZvcih2YXIgbj0wO248dGhpcy5faW50czsrK24pdGhpcy5faW5CbG9ja1tuXT10aGlzLl9vdXRCbG9ja1tuXTtpZih0aGlzLl9wYXJ0aWFsQnl0ZXM+MCYmdGhpcy5fcGFydGlhbE91dHB1dC5nZXRCeXRlcyh0aGlzLl9wYXJ0aWFsQnl0ZXMpLGk+MCYmIXIpcmV0dXJuIHQucHV0Qnl0ZXModGhpcy5fcGFydGlhbE91dHB1dC5nZXRCeXRlcyhpLXRoaXMuX3BhcnRpYWxCeXRlcykpLHRoaXMuX3BhcnRpYWxCeXRlcz1pLCEwO3QucHV0Qnl0ZXModGhpcy5fcGFydGlhbE91dHB1dC5nZXRCeXRlcyhhLXRoaXMuX3BhcnRpYWxCeXRlcykpLHRoaXMuX3BhcnRpYWxCeXRlcz0wfX0sby5vZmIucHJvdG90eXBlLmRlY3J5cHQ9by5vZmIucHJvdG90eXBlLmVuY3J5cHQsby5jdHI9ZnVuY3Rpb24oZSl7ZT1lfHx7fSx0aGlzLm5hbWU9XCJDVFJcIix0aGlzLmNpcGhlcj1lLmNpcGhlcix0aGlzLmJsb2NrU2l6ZT1lLmJsb2NrU2l6ZXx8MTYsdGhpcy5faW50cz10aGlzLmJsb2NrU2l6ZS80LHRoaXMuX2luQmxvY2s9bnVsbCx0aGlzLl9vdXRCbG9jaz1uZXcgQXJyYXkodGhpcy5faW50cyksdGhpcy5fcGFydGlhbE91dHB1dD1zLnV0aWwuY3JlYXRlQnVmZmVyKCksdGhpcy5fcGFydGlhbEJ5dGVzPTB9LG8uY3RyLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXtpZighKFwiaXZcImluIGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSVYgcGFyYW1ldGVyLlwiKTt0aGlzLl9pdj1hKGUuaXYpLHRoaXMuX2luQmxvY2s9dGhpcy5faXYuc2xpY2UoMCksdGhpcy5fcGFydGlhbEJ5dGVzPTB9LG8uY3RyLnByb3RvdHlwZS5lbmNyeXB0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1lLmxlbmd0aCgpO2lmKDA9PT1hKXJldHVybiEwO2lmKHRoaXMuY2lwaGVyLmVuY3J5cHQodGhpcy5faW5CbG9jayx0aGlzLl9vdXRCbG9jayksMD09PXRoaXMuX3BhcnRpYWxCeXRlcyYmYT49dGhpcy5ibG9ja1NpemUpZm9yKHZhciBpPTA7aTx0aGlzLl9pbnRzOysraSl0LnB1dEludDMyKGUuZ2V0SW50MzIoKV50aGlzLl9vdXRCbG9ja1tpXSk7ZWxzZXt2YXIgcz0odGhpcy5ibG9ja1NpemUtYSkldGhpcy5ibG9ja1NpemU7cz4wJiYocz10aGlzLmJsb2NrU2l6ZS1zKSx0aGlzLl9wYXJ0aWFsT3V0cHV0LmNsZWFyKCk7Zm9yKHZhciBpPTA7aTx0aGlzLl9pbnRzOysraSl0aGlzLl9wYXJ0aWFsT3V0cHV0LnB1dEludDMyKGUuZ2V0SW50MzIoKV50aGlzLl9vdXRCbG9ja1tpXSk7aWYocz4wJiYoZS5yZWFkLT10aGlzLmJsb2NrU2l6ZSksdGhpcy5fcGFydGlhbEJ5dGVzPjAmJnRoaXMuX3BhcnRpYWxPdXRwdXQuZ2V0Qnl0ZXModGhpcy5fcGFydGlhbEJ5dGVzKSxzPjAmJiFyKXJldHVybiB0LnB1dEJ5dGVzKHRoaXMuX3BhcnRpYWxPdXRwdXQuZ2V0Qnl0ZXMocy10aGlzLl9wYXJ0aWFsQnl0ZXMpKSx0aGlzLl9wYXJ0aWFsQnl0ZXM9cywhMDt0LnB1dEJ5dGVzKHRoaXMuX3BhcnRpYWxPdXRwdXQuZ2V0Qnl0ZXMoYS10aGlzLl9wYXJ0aWFsQnl0ZXMpKSx0aGlzLl9wYXJ0aWFsQnl0ZXM9MH1uKHRoaXMuX2luQmxvY2spfSxvLmN0ci5wcm90b3R5cGUuZGVjcnlwdD1vLmN0ci5wcm90b3R5cGUuZW5jcnlwdCxvLmdjbT1mdW5jdGlvbihlKXtlPWV8fHt9LHRoaXMubmFtZT1cIkdDTVwiLHRoaXMuY2lwaGVyPWUuY2lwaGVyLHRoaXMuYmxvY2tTaXplPWUuYmxvY2tTaXplfHwxNix0aGlzLl9pbnRzPXRoaXMuYmxvY2tTaXplLzQsdGhpcy5faW5CbG9jaz1uZXcgQXJyYXkodGhpcy5faW50cyksdGhpcy5fb3V0QmxvY2s9bmV3IEFycmF5KHRoaXMuX2ludHMpLHRoaXMuX3BhcnRpYWxPdXRwdXQ9cy51dGlsLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuX3BhcnRpYWxCeXRlcz0wLHRoaXMuX1I9Mzc3NDg3MzYwMH0sby5nY20ucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe2lmKCEoXCJpdlwiaW4gZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBJViBwYXJhbWV0ZXIuXCIpO3ZhciB0PXMudXRpbC5jcmVhdGVCdWZmZXIoZS5pdik7dGhpcy5fY2lwaGVyTGVuZ3RoPTA7dmFyIHI7aWYocj1cImFkZGl0aW9uYWxEYXRhXCJpbiBlP3MudXRpbC5jcmVhdGVCdWZmZXIoZS5hZGRpdGlvbmFsRGF0YSk6cy51dGlsLmNyZWF0ZUJ1ZmZlcigpLFwidGFnTGVuZ3RoXCJpbiBlP3RoaXMuX3RhZ0xlbmd0aD1lLnRhZ0xlbmd0aDp0aGlzLl90YWdMZW5ndGg9MTI4LHRoaXMuX3RhZz1udWxsLGUuZGVjcnlwdCYmKHRoaXMuX3RhZz1zLnV0aWwuY3JlYXRlQnVmZmVyKGUudGFnKS5nZXRCeXRlcygpLHRoaXMuX3RhZy5sZW5ndGghPT10aGlzLl90YWdMZW5ndGgvOCkpdGhyb3cgbmV3IEVycm9yKFwiQXV0aGVudGljYXRpb24gdGFnIGRvZXMgbm90IG1hdGNoIHRhZyBsZW5ndGguXCIpO3RoaXMuX2hhc2hCbG9jaz1uZXcgQXJyYXkodGhpcy5faW50cyksdGhpcy50YWc9bnVsbCx0aGlzLl9oYXNoU3Via2V5PW5ldyBBcnJheSh0aGlzLl9pbnRzKSx0aGlzLmNpcGhlci5lbmNyeXB0KFswLDAsMCwwXSx0aGlzLl9oYXNoU3Via2V5KSx0aGlzLmNvbXBvbmVudEJpdHM9NCx0aGlzLl9tPXRoaXMuZ2VuZXJhdGVIYXNoVGFibGUodGhpcy5faGFzaFN1YmtleSx0aGlzLmNvbXBvbmVudEJpdHMpO3ZhciBhPXQubGVuZ3RoKCk7aWYoMTI9PT1hKXRoaXMuX2owPVt0LmdldEludDMyKCksdC5nZXRJbnQzMigpLHQuZ2V0SW50MzIoKSwxXTtlbHNle2Zvcih0aGlzLl9qMD1bMCwwLDAsMF07dC5sZW5ndGgoKT4wOyl0aGlzLl9qMD10aGlzLmdoYXNoKHRoaXMuX2hhc2hTdWJrZXksdGhpcy5fajAsW3QuZ2V0SW50MzIoKSx0LmdldEludDMyKCksdC5nZXRJbnQzMigpLHQuZ2V0SW50MzIoKV0pO3RoaXMuX2owPXRoaXMuZ2hhc2godGhpcy5faGFzaFN1YmtleSx0aGlzLl9qMCxbMCwwXS5jb25jYXQoaSg4KmEpKSl9dGhpcy5faW5CbG9jaz10aGlzLl9qMC5zbGljZSgwKSxuKHRoaXMuX2luQmxvY2spLHRoaXMuX3BhcnRpYWxCeXRlcz0wLHI9cy51dGlsLmNyZWF0ZUJ1ZmZlcihyKSx0aGlzLl9hRGF0YUxlbmd0aD1pKDgqci5sZW5ndGgoKSk7dmFyIG89ci5sZW5ndGgoKSV0aGlzLmJsb2NrU2l6ZTtmb3IobyYmci5maWxsV2l0aEJ5dGUoMCx0aGlzLmJsb2NrU2l6ZS1vKSx0aGlzLl9zPVswLDAsMCwwXTtyLmxlbmd0aCgpPjA7KXRoaXMuX3M9dGhpcy5naGFzaCh0aGlzLl9oYXNoU3Via2V5LHRoaXMuX3MsW3IuZ2V0SW50MzIoKSxyLmdldEludDMyKCksci5nZXRJbnQzMigpLHIuZ2V0SW50MzIoKV0pfSxvLmdjbS5wcm90b3R5cGUuZW5jcnlwdD1mdW5jdGlvbihlLHQscil7dmFyIGE9ZS5sZW5ndGgoKTtpZigwPT09YSlyZXR1cm4hMDtpZih0aGlzLmNpcGhlci5lbmNyeXB0KHRoaXMuX2luQmxvY2ssdGhpcy5fb3V0QmxvY2spLDA9PT10aGlzLl9wYXJ0aWFsQnl0ZXMmJmE+PXRoaXMuYmxvY2tTaXplKXtmb3IodmFyIGk9MDtpPHRoaXMuX2ludHM7KytpKXQucHV0SW50MzIodGhpcy5fb3V0QmxvY2tbaV1ePWUuZ2V0SW50MzIoKSk7dGhpcy5fY2lwaGVyTGVuZ3RoKz10aGlzLmJsb2NrU2l6ZX1lbHNle3ZhciBzPSh0aGlzLmJsb2NrU2l6ZS1hKSV0aGlzLmJsb2NrU2l6ZTtzPjAmJihzPXRoaXMuYmxvY2tTaXplLXMpLHRoaXMuX3BhcnRpYWxPdXRwdXQuY2xlYXIoKTtmb3IodmFyIGk9MDtpPHRoaXMuX2ludHM7KytpKXRoaXMuX3BhcnRpYWxPdXRwdXQucHV0SW50MzIoZS5nZXRJbnQzMigpXnRoaXMuX291dEJsb2NrW2ldKTtpZigwPT09c3x8cil7aWYocil7dmFyIG89YSV0aGlzLmJsb2NrU2l6ZTt0aGlzLl9jaXBoZXJMZW5ndGgrPW8sdGhpcy5fcGFydGlhbE91dHB1dC50cnVuY2F0ZSh0aGlzLmJsb2NrU2l6ZS1vKX1lbHNlIHRoaXMuX2NpcGhlckxlbmd0aCs9dGhpcy5ibG9ja1NpemU7Zm9yKHZhciBpPTA7aTx0aGlzLl9pbnRzOysraSl0aGlzLl9vdXRCbG9ja1tpXT10aGlzLl9wYXJ0aWFsT3V0cHV0LmdldEludDMyKCk7dGhpcy5fcGFydGlhbE91dHB1dC5yZWFkLT10aGlzLmJsb2NrU2l6ZX1pZih0aGlzLl9wYXJ0aWFsQnl0ZXM+MCYmdGhpcy5fcGFydGlhbE91dHB1dC5nZXRCeXRlcyh0aGlzLl9wYXJ0aWFsQnl0ZXMpLHM+MCYmIXIpcmV0dXJuIGUucmVhZC09dGhpcy5ibG9ja1NpemUsdC5wdXRCeXRlcyh0aGlzLl9wYXJ0aWFsT3V0cHV0LmdldEJ5dGVzKHMtdGhpcy5fcGFydGlhbEJ5dGVzKSksdGhpcy5fcGFydGlhbEJ5dGVzPXMsITA7dC5wdXRCeXRlcyh0aGlzLl9wYXJ0aWFsT3V0cHV0LmdldEJ5dGVzKGEtdGhpcy5fcGFydGlhbEJ5dGVzKSksdGhpcy5fcGFydGlhbEJ5dGVzPTB9dGhpcy5fcz10aGlzLmdoYXNoKHRoaXMuX2hhc2hTdWJrZXksdGhpcy5fcyx0aGlzLl9vdXRCbG9jayksbih0aGlzLl9pbkJsb2NrKX0sby5nY20ucHJvdG90eXBlLmRlY3J5cHQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPWUubGVuZ3RoKCk7aWYoYTx0aGlzLmJsb2NrU2l6ZSYmIShyJiZhPjApKXJldHVybiEwO3RoaXMuY2lwaGVyLmVuY3J5cHQodGhpcy5faW5CbG9jayx0aGlzLl9vdXRCbG9jayksbih0aGlzLl9pbkJsb2NrKSx0aGlzLl9oYXNoQmxvY2tbMF09ZS5nZXRJbnQzMigpLHRoaXMuX2hhc2hCbG9ja1sxXT1lLmdldEludDMyKCksdGhpcy5faGFzaEJsb2NrWzJdPWUuZ2V0SW50MzIoKSx0aGlzLl9oYXNoQmxvY2tbM109ZS5nZXRJbnQzMigpLHRoaXMuX3M9dGhpcy5naGFzaCh0aGlzLl9oYXNoU3Via2V5LHRoaXMuX3MsdGhpcy5faGFzaEJsb2NrKTtmb3IodmFyIGk9MDtpPHRoaXMuX2ludHM7KytpKXQucHV0SW50MzIodGhpcy5fb3V0QmxvY2tbaV1edGhpcy5faGFzaEJsb2NrW2ldKTthPHRoaXMuYmxvY2tTaXplP3RoaXMuX2NpcGhlckxlbmd0aCs9YSV0aGlzLmJsb2NrU2l6ZTp0aGlzLl9jaXBoZXJMZW5ndGgrPXRoaXMuYmxvY2tTaXplfSxvLmdjbS5wcm90b3R5cGUuYWZ0ZXJGaW5pc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj0hMDt0LmRlY3J5cHQmJnQub3ZlcmZsb3cmJmUudHJ1bmNhdGUodGhpcy5ibG9ja1NpemUtdC5vdmVyZmxvdyksdGhpcy50YWc9cy51dGlsLmNyZWF0ZUJ1ZmZlcigpO3ZhciBhPXRoaXMuX2FEYXRhTGVuZ3RoLmNvbmNhdChpKDgqdGhpcy5fY2lwaGVyTGVuZ3RoKSk7dGhpcy5fcz10aGlzLmdoYXNoKHRoaXMuX2hhc2hTdWJrZXksdGhpcy5fcyxhKTt2YXIgbj1bXTt0aGlzLmNpcGhlci5lbmNyeXB0KHRoaXMuX2owLG4pO2Zvcih2YXIgbz0wO288dGhpcy5faW50czsrK28pdGhpcy50YWcucHV0SW50MzIodGhpcy5fc1tvXV5uW29dKTtyZXR1cm4gdGhpcy50YWcudHJ1bmNhdGUodGhpcy50YWcubGVuZ3RoKCklKHRoaXMuX3RhZ0xlbmd0aC84KSksdC5kZWNyeXB0JiZ0aGlzLnRhZy5ieXRlcygpIT09dGhpcy5fdGFnJiYocj0hMSkscn0sby5nY20ucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVswLDAsMCwwXSxhPXQuc2xpY2UoMCksbj0wO248MTI4Oysrbil7dmFyIGk9ZVtuLzMyfDBdJjE8PDMxLW4lMzI7aSYmKHJbMF1ePWFbMF0sclsxXV49YVsxXSxyWzJdXj1hWzJdLHJbM11ePWFbM10pLHRoaXMucG93KGEsYSl9cmV0dXJuIHJ9LG8uZ2NtLnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MSZlWzNdLGE9MzthPjA7LS1hKXRbYV09ZVthXT4+PjF8KDEmZVthLTFdKTw8MzE7dFswXT1lWzBdPj4+MSxyJiYodFswXV49dGhpcy5fUil9LG8uZ2NtLnByb3RvdHlwZS50YWJsZU11bHRpcGx5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bMCwwLDAsMF0scj0wO3I8MzI7KytyKXt2YXIgYT1yLzh8MCxuPWVbYV0+Pj40Kig3LXIlOCkmMTUsaT10aGlzLl9tW3JdW25dO3RbMF1ePWlbMF0sdFsxXV49aVsxXSx0WzJdXj1pWzJdLHRbM11ePWlbM119cmV0dXJuIHR9LG8uZ2NtLnByb3RvdHlwZS5naGFzaD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRbMF1ePXJbMF0sdFsxXV49clsxXSx0WzJdXj1yWzJdLHRbM11ePXJbM10sdGhpcy50YWJsZU11bHRpcGx5KHQpfSxvLmdjbS5wcm90b3R5cGUuZ2VuZXJhdGVIYXNoVGFibGU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9OC90LGE9NCpyLG49MTYqcixpPW5ldyBBcnJheShuKSxzPTA7czxuOysrcyl7dmFyIG89WzAsMCwwLDBdLGM9cy9hfDAsdT0oYS0xLXMlYSkqdDtvW2NdPTE8PHQtMTw8dSxpW3NdPXRoaXMuZ2VuZXJhdGVTdWJIYXNoVGFibGUodGhpcy5tdWx0aXBseShvLGUpLHQpfXJldHVybiBpfSxvLmdjbS5wcm90b3R5cGUuZ2VuZXJhdGVTdWJIYXNoVGFibGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj0xPDx0LGE9cj4+PjEsbj1uZXcgQXJyYXkocik7blthXT1lLnNsaWNlKDApO2Zvcih2YXIgaT1hPj4+MTtpPjA7KXRoaXMucG93KG5bMippXSxuW2ldPVtdKSxpPj49MTtmb3IoaT0yO2k8YTspe2Zvcih2YXIgcz0xO3M8aTsrK3Mpe3ZhciBvPW5baV0sYz1uW3NdO25baStzXT1bb1swXV5jWzBdLG9bMV1eY1sxXSxvWzJdXmNbMl0sb1szXV5jWzNdXX1pKj0yfWZvcihuWzBdPVswLDAsMCwwXSxpPWErMTtpPHI7KytpKXt2YXIgdT1uW2leYV07bltpXT1bZVswXV51WzBdLGVbMV1edVsxXSxlWzJdXnVbMl0sZVszXV51WzNdXX1yZXR1cm4gbn19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yKDApO2UuZXhwb3J0cz1hLmRlYnVnPWEuZGVidWd8fHt9LGEuZGVidWcuc3RvcmFnZT17fSxhLmRlYnVnLmdldD1mdW5jdGlvbihlLHQpe3ZhciByO3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP3I9YS5kZWJ1Zy5zdG9yYWdlOmUgaW4gYS5kZWJ1Zy5zdG9yYWdlJiYocj1cInVuZGVmaW5lZFwiPT10eXBlb2YgdD9hLmRlYnVnLnN0b3JhZ2VbZV06YS5kZWJ1Zy5zdG9yYWdlW2VdW3RdKSxyfSxhLmRlYnVnLnNldD1mdW5jdGlvbihlLHQscil7ZSBpbiBhLmRlYnVnLnN0b3JhZ2V8fChhLmRlYnVnLnN0b3JhZ2VbZV09e30pLGEuZGVidWcuc3RvcmFnZVtlXVt0XT1yfSxhLmRlYnVnLmNsZWFyPWZ1bmN0aW9uKGUsdCl7XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/YS5kZWJ1Zy5zdG9yYWdlPXt9OmUgaW4gYS5kZWJ1Zy5zdG9yYWdlJiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/ZGVsZXRlIGEuZGVidWcuc3RvcmFnZVtlXTpkZWxldGUgYS5kZWJ1Zy5zdG9yYWdlW2VdW3RdKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yKDApO3IoMSksZS5leHBvcnRzPWEubG9nPWEubG9nfHx7fSxhLmxvZy5sZXZlbHM9W1wibm9uZVwiLFwiZXJyb3JcIixcIndhcm5pbmdcIixcImluZm9cIixcImRlYnVnXCIsXCJ2ZXJib3NlXCIsXCJtYXhcIl07dmFyIG49e30saT1bXSxzPW51bGw7YS5sb2cuTEVWRUxfTE9DS0VEPTIsYS5sb2cuTk9fTEVWRUxfQ0hFQ0s9NCxhLmxvZy5JTlRFUlBPTEFURT04O2Zvcih2YXIgbz0wO288YS5sb2cubGV2ZWxzLmxlbmd0aDsrK28pe3ZhciBjPWEubG9nLmxldmVsc1tvXTtuW2NdPXtpbmRleDpvLG5hbWU6Yy50b1VwcGVyQ2FzZSgpfX1hLmxvZy5sb2dNZXNzYWdlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uW2UubGV2ZWxdLmluZGV4LHI9MDtyPGkubGVuZ3RoOysrcil7dmFyIHM9aVtyXTtpZihzLmZsYWdzJmEubG9nLk5PX0xFVkVMX0NIRUNLKXMuZihlKTtlbHNle3ZhciBvPW5bcy5sZXZlbF0uaW5kZXg7dDw9byYmcy5mKHMsZSl9fX0sYS5sb2cucHJlcGFyZVN0YW5kYXJkPWZ1bmN0aW9uKGUpe1wic3RhbmRhcmRcImluIGV8fChlLnN0YW5kYXJkPW5bZS5sZXZlbF0ubmFtZStcIiBbXCIrZS5jYXRlZ29yeStcIl0gXCIrZS5tZXNzYWdlKX0sYS5sb2cucHJlcGFyZUZ1bGw9ZnVuY3Rpb24oZSl7aWYoIShcImZ1bGxcImluIGUpKXt2YXIgdD1bZS5tZXNzYWdlXTt0PXQuY29uY2F0KFtdfHxlLmFyZ3VtZW50cyksZS5mdWxsPWEudXRpbC5mb3JtYXQuYXBwbHkodGhpcyx0KX19LGEubG9nLnByZXBhcmVTdGFuZGFyZEZ1bGw9ZnVuY3Rpb24oZSl7XCJzdGFuZGFyZEZ1bGxcImluIGV8fChhLmxvZy5wcmVwYXJlU3RhbmRhcmQoZSksZS5zdGFuZGFyZEZ1bGw9ZS5zdGFuZGFyZCl9O2Zvcih2YXIgdT1bXCJlcnJvclwiLFwid2FybmluZ1wiLFwiaW5mb1wiLFwiZGVidWdcIixcInZlcmJvc2VcIl0sbz0wO288dS5sZW5ndGg7KytvKSFmdW5jdGlvbihlKXthLmxvZ1tlXT1mdW5jdGlvbih0LHIpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuc2xpY2UoMiksaT17dGltZXN0YW1wOm5ldyBEYXRlLGxldmVsOmUsY2F0ZWdvcnk6dCxtZXNzYWdlOnIsYXJndW1lbnRzOm59O2EubG9nLmxvZ01lc3NhZ2UoaSl9fSh1W29dKTtpZihhLmxvZy5tYWtlTG9nZ2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXtmbGFnczowLGY6ZX07cmV0dXJuIGEubG9nLnNldExldmVsKHQsXCJub25lXCIpLHR9LGEubG9nLnNldExldmVsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ITE7aWYoZSYmIShlLmZsYWdzJmEubG9nLkxFVkVMX0xPQ0tFRCkpZm9yKHZhciBuPTA7bjxhLmxvZy5sZXZlbHMubGVuZ3RoOysrbil7dmFyIGk9YS5sb2cubGV2ZWxzW25dO2lmKHQ9PWkpe2UubGV2ZWw9dCxyPSEwO2JyZWFrfX1yZXR1cm4gcn0sYS5sb2cubG9jaz1mdW5jdGlvbihlLHQpe1widW5kZWZpbmVkXCI9PXR5cGVvZiB0fHx0P2UuZmxhZ3N8PWEubG9nLkxFVkVMX0xPQ0tFRDplLmZsYWdzJj1+YS5sb2cuTEVWRUxfTE9DS0VEfSxhLmxvZy5hZGRMb2dnZXI9ZnVuY3Rpb24oZSl7aS5wdXNoKGUpfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJsb2dcImluIGNvbnNvbGUpe3ZhciBsO2lmKGNvbnNvbGUuZXJyb3ImJmNvbnNvbGUud2FybiYmY29uc29sZS5pbmZvJiZjb25zb2xlLmRlYnVnKXt2YXIgcD17ZXJyb3I6Y29uc29sZS5lcnJvcix3YXJuaW5nOmNvbnNvbGUud2FybixpbmZvOmNvbnNvbGUuaW5mbyxkZWJ1Zzpjb25zb2xlLmRlYnVnLHZlcmJvc2U6Y29uc29sZS5kZWJ1Z30saD1mdW5jdGlvbihlLHQpe2EubG9nLnByZXBhcmVTdGFuZGFyZCh0KTt2YXIgcj1wW3QubGV2ZWxdLG49W3Quc3RhbmRhcmRdO249bi5jb25jYXQodC5hcmd1bWVudHMuc2xpY2UoKSksci5hcHBseShjb25zb2xlLG4pfTtsPWEubG9nLm1ha2VMb2dnZXIoaCl9ZWxzZXt2YXIgaD1mdW5jdGlvbihlLHQpe2EubG9nLnByZXBhcmVTdGFuZGFyZEZ1bGwodCksY29uc29sZS5sb2codC5zdGFuZGFyZEZ1bGwpfTtsPWEubG9nLm1ha2VMb2dnZXIoaCl9YS5sb2cuc2V0TGV2ZWwobCxcImRlYnVnXCIpLGEubG9nLmFkZExvZ2dlcihsKSxzPWx9ZWxzZSBjb25zb2xlPXtsb2c6ZnVuY3Rpb24oKXt9fTtpZihudWxsIT09cyl7dmFyIGY9YS51dGlsLmdldFF1ZXJ5VmFyaWFibGVzKCk7aWYoXCJjb25zb2xlLmxldmVsXCJpbiBmJiZhLmxvZy5zZXRMZXZlbChzLGZbXCJjb25zb2xlLmxldmVsXCJdLnNsaWNlKC0xKVswXSksXCJjb25zb2xlLmxvY2tcImluIGYpe3ZhciBkPWZbXCJjb25zb2xlLmxvY2tcIl0uc2xpY2UoLTEpWzBdO1widHJ1ZVwiPT1kJiZhLmxvZy5sb2NrKHMpfX1hLmxvZy5jb25zb2xlTG9nZ2VyPXN9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yKDApO3IoMSksYS5tZ2Y9YS5tZ2Z8fHt9O3ZhciBuPWUuZXhwb3J0cz1hLm1nZi5tZ2YxPWEubWdmMT1hLm1nZjF8fHt9O24uY3JlYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXtnZW5lcmF0ZTpmdW5jdGlvbih0LHIpe2Zvcih2YXIgbj1uZXcgYS51dGlsLkJ5dGVCdWZmZXIsaT1NYXRoLmNlaWwoci9lLmRpZ2VzdExlbmd0aCkscz0wO3M8aTtzKyspe3ZhciBvPW5ldyBhLnV0aWwuQnl0ZUJ1ZmZlcjtvLnB1dEludDMyKHMpLGUuc3RhcnQoKSxlLnVwZGF0ZSh0K28uZ2V0Qnl0ZXMoKSksbi5wdXRCdWZmZXIoZS5kaWdlc3QoKSl9cmV0dXJuIG4udHJ1bmNhdGUobi5sZW5ndGgoKS1yKSxuLmdldEJ5dGVzKCl9fTtyZXR1cm4gdH19LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGUuc3RhcnQoKS51cGRhdGUodCkuZGlnZXN0KCkuZ2V0Qnl0ZXMoKX1mdW5jdGlvbiBuKGUpe3ZhciB0O2lmKGUpe2lmKHQ9bC5vaWRzW3UuZGVyVG9PaWQoZSldLCF0KXt2YXIgcj1uZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBQUkYgT0lELlwiKTt0aHJvdyByLm9pZD1lLHIuc3VwcG9ydGVkPVtcImhtYWNXaXRoU0hBMVwiLFwiaG1hY1dpdGhTSEEyMjRcIixcImhtYWNXaXRoU0hBMjU2XCIsXCJobWFjV2l0aFNIQTM4NFwiLFwiaG1hY1dpdGhTSEE1MTJcIl0scn19ZWxzZSB0PVwiaG1hY1dpdGhTSEExXCI7cmV0dXJuIGkodCl9ZnVuY3Rpb24gaShlKXt2YXIgdD1vLm1kO3N3aXRjaChlKXtjYXNlXCJobWFjV2l0aFNIQTIyNFwiOnQ9by5tZC5zaGE1MTI7Y2FzZVwiaG1hY1dpdGhTSEExXCI6Y2FzZVwiaG1hY1dpdGhTSEEyNTZcIjpjYXNlXCJobWFjV2l0aFNIQTM4NFwiOmNhc2VcImhtYWNXaXRoU0hBNTEyXCI6ZT1lLnN1YnN0cig4KS50b0xvd2VyQ2FzZSgpO2JyZWFrO2RlZmF1bHQ6dmFyIHI9bmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgUFJGIGFsZ29yaXRobS5cIik7dGhyb3cgci5hbGdvcml0aG09ZSxyLnN1cHBvcnRlZD1bXCJobWFjV2l0aFNIQTFcIixcImhtYWNXaXRoU0hBMjI0XCIsXCJobWFjV2l0aFNIQTI1NlwiLFwiaG1hY1dpdGhTSEEzODRcIixcImhtYWNXaXRoU0hBNTEyXCJdLHJ9aWYoISh0JiZlIGluIHQpKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gaGFzaCBhbGdvcml0aG06IFwiK2UpO3JldHVybiB0W2VdLmNyZWF0ZSgpfWZ1bmN0aW9uIHMoZSx0LHIsYSl7dmFyIG49dS5jcmVhdGUodS5DbGFzcy5VTklWRVJTQUwsdS5UeXBlLlNFUVVFTkNFLCEwLFt1LmNyZWF0ZSh1LkNsYXNzLlVOSVZFUlNBTCx1LlR5cGUuT0NURVRTVFJJTkcsITEsZSksdS5jcmVhdGUodS5DbGFzcy5VTklWRVJTQUwsdS5UeXBlLklOVEVHRVIsITEsdC5nZXRCeXRlcygpKV0pO3JldHVyblwiaG1hY1dpdGhTSEExXCIhPT1hJiZuLnZhbHVlLnB1c2godS5jcmVhdGUodS5DbGFzcy5VTklWRVJTQUwsdS5UeXBlLklOVEVHRVIsITEsby51dGlsLmhleFRvQnl0ZXMoci50b1N0cmluZygxNikpKSx1LmNyZWF0ZSh1LkNsYXNzLlVOSVZFUlNBTCx1LlR5cGUuU0VRVUVOQ0UsITAsW3UuY3JlYXRlKHUuQ2xhc3MuVU5JVkVSU0FMLHUuVHlwZS5PSUQsITEsdS5vaWRUb0RlcihsLm9pZHNbYV0pLmdldEJ5dGVzKCkpLHUuY3JlYXRlKHUuQ2xhc3MuVU5JVkVSU0FMLHUuVHlwZS5OVUxMLCExLFwiXCIpXSkpLG59dmFyIG89cigwKTtpZihyKDUpLHIoMykscigxMCkscig0KSxyKDYpLHIoMTUpLHIoNykscigyKSxyKDI5KSxyKDExKSxyKDEpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjKXZhciBjPW8uanNibi5CaWdJbnRlZ2VyO3ZhciB1PW8uYXNuMSxsPW8ucGtpPW8ucGtpfHx7fTtlLmV4cG9ydHM9bC5wYmU9by5wYmU9by5wYmV8fHt9O3ZhciBwPWwub2lkcyxoPXtuYW1lOlwiRW5jcnlwdGVkUHJpdmF0ZUtleUluZm9cIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJFbmNyeXB0ZWRQcml2YXRlS2V5SW5mby5lbmNyeXB0aW9uQWxnb3JpdGhtXCIsdGFnQ2xhc3M6dS5DbGFzcy5VTklWRVJTQUwsdHlwZTp1LlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiQWxnb3JpdGhtSWRlbnRpZmllci5hbGdvcml0aG1cIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5PSUQsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcImVuY3J5cHRpb25PaWRcIn0se25hbWU6XCJBbGdvcml0aG1JZGVudGlmaWVyLnBhcmFtZXRlcnNcIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCxjYXB0dXJlQXNuMTpcImVuY3J5cHRpb25QYXJhbXNcIn1dfSx7bmFtZTpcIkVuY3J5cHRlZFByaXZhdGVLZXlJbmZvLmVuY3J5cHRlZERhdGFcIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5PQ1RFVFNUUklORyxjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwiZW5jcnlwdGVkRGF0YVwifV19LGY9e25hbWU6XCJQQkVTMkFsZ29yaXRobXNcIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCxcbnZhbHVlOlt7bmFtZTpcIlBCRVMyQWxnb3JpdGhtcy5rZXlEZXJpdmF0aW9uRnVuY1wiLHRhZ0NsYXNzOnUuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6dS5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcIlBCRVMyQWxnb3JpdGhtcy5rZXlEZXJpdmF0aW9uRnVuYy5vaWRcIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5PSUQsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcImtkZk9pZFwifSx7bmFtZTpcIlBCRVMyQWxnb3JpdGhtcy5wYXJhbXNcIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJQQkVTMkFsZ29yaXRobXMucGFyYW1zLnNhbHRcIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5PQ1RFVFNUUklORyxjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwia2RmU2FsdFwifSx7bmFtZTpcIlBCRVMyQWxnb3JpdGhtcy5wYXJhbXMuaXRlcmF0aW9uQ291bnRcIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5JTlRFR0VSLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJrZGZJdGVyYXRpb25Db3VudFwifSx7bmFtZTpcIlBCRVMyQWxnb3JpdGhtcy5wYXJhbXMua2V5TGVuZ3RoXCIsdGFnQ2xhc3M6dS5DbGFzcy5VTklWRVJTQUwsdHlwZTp1LlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxvcHRpb25hbDohMCxjYXB0dXJlOlwia2V5TGVuZ3RoXCJ9LHtuYW1lOlwiUEJFUzJBbGdvcml0aG1zLnBhcmFtcy5wcmZcIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCxvcHRpb25hbDohMCx2YWx1ZTpbe25hbWU6XCJQQkVTMkFsZ29yaXRobXMucGFyYW1zLnByZi5hbGdvcml0aG1cIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5PSUQsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcInByZk9pZFwifV19XX1dfSx7bmFtZTpcIlBCRVMyQWxnb3JpdGhtcy5lbmNyeXB0aW9uU2NoZW1lXCIsdGFnQ2xhc3M6dS5DbGFzcy5VTklWRVJTQUwsdHlwZTp1LlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiUEJFUzJBbGdvcml0aG1zLmVuY3J5cHRpb25TY2hlbWUub2lkXCIsdGFnQ2xhc3M6dS5DbGFzcy5VTklWRVJTQUwsdHlwZTp1LlR5cGUuT0lELGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJlbmNPaWRcIn0se25hbWU6XCJQQkVTMkFsZ29yaXRobXMuZW5jcnlwdGlvblNjaGVtZS5pdlwiLHRhZ0NsYXNzOnUuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6dS5UeXBlLk9DVEVUU1RSSU5HLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJlbmNJdlwifV19XX0sZD17bmFtZTpcInBrY3MtMTJQYmVQYXJhbXNcIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJwa2NzLTEyUGJlUGFyYW1zLnNhbHRcIix0YWdDbGFzczp1LkNsYXNzLlVOSVZFUlNBTCx0eXBlOnUuVHlwZS5PQ1RFVFNUUklORyxjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwic2FsdFwifSx7bmFtZTpcInBrY3MtMTJQYmVQYXJhbXMuaXRlcmF0aW9uc1wiLHRhZ0NsYXNzOnUuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6dS5UeXBlLklOVEVHRVIsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcIml0ZXJhdGlvbnNcIn1dfTtsLmVuY3J5cHRQcml2YXRlS2V5SW5mbz1mdW5jdGlvbihlLHQscil7cj1yfHx7fSxyLnNhbHRTaXplPXIuc2FsdFNpemV8fDgsci5jb3VudD1yLmNvdW50fHwyMDQ4LHIuYWxnb3JpdGhtPXIuYWxnb3JpdGhtfHxcImFlczEyOFwiLHIucHJmQWxnb3JpdGhtPXIucHJmQWxnb3JpdGhtfHxcInNoYTFcIjt2YXIgYSxuLGMsaD1vLnJhbmRvbS5nZXRCeXRlc1N5bmMoci5zYWx0U2l6ZSksZj1yLmNvdW50LGQ9dS5pbnRlZ2VyVG9EZXIoZik7aWYoMD09PXIuYWxnb3JpdGhtLmluZGV4T2YoXCJhZXNcIil8fFwiZGVzXCI9PT1yLmFsZ29yaXRobSl7dmFyIHksZyx2O3N3aXRjaChyLmFsZ29yaXRobSl7Y2FzZVwiYWVzMTI4XCI6YT0xNix5PTE2LGc9cFtcImFlczEyOC1DQkNcIl0sdj1vLmFlcy5jcmVhdGVFbmNyeXB0aW9uQ2lwaGVyO2JyZWFrO2Nhc2VcImFlczE5MlwiOmE9MjQseT0xNixnPXBbXCJhZXMxOTItQ0JDXCJdLHY9by5hZXMuY3JlYXRlRW5jcnlwdGlvbkNpcGhlcjticmVhaztjYXNlXCJhZXMyNTZcIjphPTMyLHk9MTYsZz1wW1wiYWVzMjU2LUNCQ1wiXSx2PW8uYWVzLmNyZWF0ZUVuY3J5cHRpb25DaXBoZXI7YnJlYWs7Y2FzZVwiZGVzXCI6YT04LHk9OCxnPXAuZGVzQ0JDLHY9by5kZXMuY3JlYXRlRW5jcnlwdGlvbkNpcGhlcjticmVhaztkZWZhdWx0OnZhciBtPW5ldyBFcnJvcihcIkNhbm5vdCBlbmNyeXB0IHByaXZhdGUga2V5LiBVbmtub3duIGVuY3J5cHRpb24gYWxnb3JpdGhtLlwiKTt0aHJvdyBtLmFsZ29yaXRobT1yLmFsZ29yaXRobSxtfXZhciBDPVwiaG1hY1dpdGhcIityLnByZkFsZ29yaXRobS50b1VwcGVyQ2FzZSgpLEU9aShDKSxTPW8ucGtjczUucGJrZGYyKHQsaCxmLGEsRSksVD1vLnJhbmRvbS5nZXRCeXRlc1N5bmMoeSksST12KFMpO0kuc3RhcnQoVCksSS51cGRhdGUodS50b0RlcihlKSksSS5maW5pc2goKSxjPUkub3V0cHV0LmdldEJ5dGVzKCk7dmFyIEE9cyhoLGQsYSxDKTtuPXUuY3JlYXRlKHUuQ2xhc3MuVU5JVkVSU0FMLHUuVHlwZS5TRVFVRU5DRSwhMCxbdS5jcmVhdGUodS5DbGFzcy5VTklWRVJTQUwsdS5UeXBlLk9JRCwhMSx1Lm9pZFRvRGVyKHAucGtjczVQQkVTMikuZ2V0Qnl0ZXMoKSksdS5jcmVhdGUodS5DbGFzcy5VTklWRVJTQUwsdS5UeXBlLlNFUVVFTkNFLCEwLFt1LmNyZWF0ZSh1LkNsYXNzLlVOSVZFUlNBTCx1LlR5cGUuU0VRVUVOQ0UsITAsW3UuY3JlYXRlKHUuQ2xhc3MuVU5JVkVSU0FMLHUuVHlwZS5PSUQsITEsdS5vaWRUb0RlcihwLnBrY3M1UEJLREYyKS5nZXRCeXRlcygpKSxBXSksdS5jcmVhdGUodS5DbGFzcy5VTklWRVJTQUwsdS5UeXBlLlNFUVVFTkNFLCEwLFt1LmNyZWF0ZSh1LkNsYXNzLlVOSVZFUlNBTCx1LlR5cGUuT0lELCExLHUub2lkVG9EZXIoZykuZ2V0Qnl0ZXMoKSksdS5jcmVhdGUodS5DbGFzcy5VTklWRVJTQUwsdS5UeXBlLk9DVEVUU1RSSU5HLCExLFQpXSldKV0pfWVsc2V7aWYoXCIzZGVzXCIhPT1yLmFsZ29yaXRobSl7dmFyIG09bmV3IEVycm9yKFwiQ2Fubm90IGVuY3J5cHQgcHJpdmF0ZSBrZXkuIFVua25vd24gZW5jcnlwdGlvbiBhbGdvcml0aG0uXCIpO3Rocm93IG0uYWxnb3JpdGhtPXIuYWxnb3JpdGhtLG19YT0yNDt2YXIgYj1uZXcgby51dGlsLkJ5dGVCdWZmZXIoaCksUz1sLnBiZS5nZW5lcmF0ZVBrY3MxMktleSh0LGIsMSxmLGEpLFQ9bC5wYmUuZ2VuZXJhdGVQa2NzMTJLZXkodCxiLDIsZixhKSxJPW8uZGVzLmNyZWF0ZUVuY3J5cHRpb25DaXBoZXIoUyk7SS5zdGFydChUKSxJLnVwZGF0ZSh1LnRvRGVyKGUpKSxJLmZpbmlzaCgpLGM9SS5vdXRwdXQuZ2V0Qnl0ZXMoKSxuPXUuY3JlYXRlKHUuQ2xhc3MuVU5JVkVSU0FMLHUuVHlwZS5TRVFVRU5DRSwhMCxbdS5jcmVhdGUodS5DbGFzcy5VTklWRVJTQUwsdS5UeXBlLk9JRCwhMSx1Lm9pZFRvRGVyKHBbXCJwYmVXaXRoU0hBQW5kMy1LZXlUcmlwbGVERVMtQ0JDXCJdKS5nZXRCeXRlcygpKSx1LmNyZWF0ZSh1LkNsYXNzLlVOSVZFUlNBTCx1LlR5cGUuU0VRVUVOQ0UsITAsW3UuY3JlYXRlKHUuQ2xhc3MuVU5JVkVSU0FMLHUuVHlwZS5PQ1RFVFNUUklORywhMSxoKSx1LmNyZWF0ZSh1LkNsYXNzLlVOSVZFUlNBTCx1LlR5cGUuSU5URUdFUiwhMSxkLmdldEJ5dGVzKCkpXSldKX12YXIgQj11LmNyZWF0ZSh1LkNsYXNzLlVOSVZFUlNBTCx1LlR5cGUuU0VRVUVOQ0UsITAsW24sdS5jcmVhdGUodS5DbGFzcy5VTklWRVJTQUwsdS5UeXBlLk9DVEVUU1RSSU5HLCExLGMpXSk7cmV0dXJuIEJ9LGwuZGVjcnlwdFByaXZhdGVLZXlJbmZvPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbCxhPXt9LG49W107aWYoIXUudmFsaWRhdGUoZSxoLGEsbikpe3ZhciBpPW5ldyBFcnJvcihcIkNhbm5vdCByZWFkIGVuY3J5cHRlZCBwcml2YXRlIGtleS4gQVNOLjEgb2JqZWN0IGlzIG5vdCBhIHN1cHBvcnRlZCBFbmNyeXB0ZWRQcml2YXRlS2V5SW5mby5cIik7dGhyb3cgaS5lcnJvcnM9bixpfXZhciBzPXUuZGVyVG9PaWQoYS5lbmNyeXB0aW9uT2lkKSxjPWwucGJlLmdldENpcGhlcihzLGEuZW5jcnlwdGlvblBhcmFtcyx0KSxwPW8udXRpbC5jcmVhdGVCdWZmZXIoYS5lbmNyeXB0ZWREYXRhKTtyZXR1cm4gYy51cGRhdGUocCksYy5maW5pc2goKSYmKHI9dS5mcm9tRGVyKGMub3V0cHV0KSkscn0sbC5lbmNyeXB0ZWRQcml2YXRlS2V5VG9QZW09ZnVuY3Rpb24oZSx0KXt2YXIgcj17dHlwZTpcIkVOQ1JZUFRFRCBQUklWQVRFIEtFWVwiLGJvZHk6dS50b0RlcihlKS5nZXRCeXRlcygpfTtyZXR1cm4gby5wZW0uZW5jb2RlKHIse21heGxpbmU6dH0pfSxsLmVuY3J5cHRlZFByaXZhdGVLZXlGcm9tUGVtPWZ1bmN0aW9uKGUpe3ZhciB0PW8ucGVtLmRlY29kZShlKVswXTtpZihcIkVOQ1JZUFRFRCBQUklWQVRFIEtFWVwiIT09dC50eXBlKXt2YXIgcj1uZXcgRXJyb3IoJ0NvdWxkIG5vdCBjb252ZXJ0IGVuY3J5cHRlZCBwcml2YXRlIGtleSBmcm9tIFBFTTsgUEVNIGhlYWRlciB0eXBlIGlzIFwiRU5DUllQVEVEIFBSSVZBVEUgS0VZXCIuJyk7dGhyb3cgci5oZWFkZXJUeXBlPXQudHlwZSxyfWlmKHQucHJvY1R5cGUmJlwiRU5DUllQVEVEXCI9PT10LnByb2NUeXBlLnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGNvbnZlcnQgZW5jcnlwdGVkIHByaXZhdGUga2V5IGZyb20gUEVNOyBQRU0gaXMgZW5jcnlwdGVkLlwiKTtyZXR1cm4gdS5mcm9tRGVyKHQuYm9keSl9LGwuZW5jcnlwdFJzYVByaXZhdGVLZXk9ZnVuY3Rpb24oZSx0LHIpe2lmKHI9cnx8e30sIXIubGVnYWN5KXt2YXIgYT1sLndyYXBSc2FQcml2YXRlS2V5KGwucHJpdmF0ZUtleVRvQXNuMShlKSk7cmV0dXJuIGE9bC5lbmNyeXB0UHJpdmF0ZUtleUluZm8oYSx0LHIpLGwuZW5jcnlwdGVkUHJpdmF0ZUtleVRvUGVtKGEpfXZhciBuLGkscyxjO3N3aXRjaChyLmFsZ29yaXRobSl7Y2FzZVwiYWVzMTI4XCI6bj1cIkFFUy0xMjgtQ0JDXCIscz0xNixpPW8ucmFuZG9tLmdldEJ5dGVzU3luYygxNiksYz1vLmFlcy5jcmVhdGVFbmNyeXB0aW9uQ2lwaGVyO2JyZWFrO2Nhc2VcImFlczE5MlwiOm49XCJBRVMtMTkyLUNCQ1wiLHM9MjQsaT1vLnJhbmRvbS5nZXRCeXRlc1N5bmMoMTYpLGM9by5hZXMuY3JlYXRlRW5jcnlwdGlvbkNpcGhlcjticmVhaztjYXNlXCJhZXMyNTZcIjpuPVwiQUVTLTI1Ni1DQkNcIixzPTMyLGk9by5yYW5kb20uZ2V0Qnl0ZXNTeW5jKDE2KSxjPW8uYWVzLmNyZWF0ZUVuY3J5cHRpb25DaXBoZXI7YnJlYWs7Y2FzZVwiM2Rlc1wiOm49XCJERVMtRURFMy1DQkNcIixzPTI0LGk9by5yYW5kb20uZ2V0Qnl0ZXNTeW5jKDgpLGM9by5kZXMuY3JlYXRlRW5jcnlwdGlvbkNpcGhlcjticmVhaztjYXNlXCJkZXNcIjpuPVwiREVTLUNCQ1wiLHM9OCxpPW8ucmFuZG9tLmdldEJ5dGVzU3luYyg4KSxjPW8uZGVzLmNyZWF0ZUVuY3J5cHRpb25DaXBoZXI7YnJlYWs7ZGVmYXVsdDp2YXIgcD1uZXcgRXJyb3IoJ0NvdWxkIG5vdCBlbmNyeXB0IFJTQSBwcml2YXRlIGtleTsgdW5zdXBwb3J0ZWQgZW5jcnlwdGlvbiBhbGdvcml0aG0gXCInK3IuYWxnb3JpdGhtKydcIi4nKTt0aHJvdyBwLmFsZ29yaXRobT1yLmFsZ29yaXRobSxwfXZhciBoPW8ucGJlLm9wZW5zc2xEZXJpdmVCeXRlcyh0LGkuc3Vic3RyKDAsOCkscyksZj1jKGgpO2Yuc3RhcnQoaSksZi51cGRhdGUodS50b0RlcihsLnByaXZhdGVLZXlUb0FzbjEoZSkpKSxmLmZpbmlzaCgpO3ZhciBkPXt0eXBlOlwiUlNBIFBSSVZBVEUgS0VZXCIscHJvY1R5cGU6e3ZlcnNpb246XCI0XCIsdHlwZTpcIkVOQ1JZUFRFRFwifSxkZWtJbmZvOnthbGdvcml0aG06bixwYXJhbWV0ZXJzOm8udXRpbC5ieXRlc1RvSGV4KGkpLnRvVXBwZXJDYXNlKCl9LGJvZHk6Zi5vdXRwdXQuZ2V0Qnl0ZXMoKX07cmV0dXJuIG8ucGVtLmVuY29kZShkKX0sbC5kZWNyeXB0UnNhUHJpdmF0ZUtleT1mdW5jdGlvbihlLHQpe3ZhciByPW51bGwsYT1vLnBlbS5kZWNvZGUoZSlbMF07aWYoXCJFTkNSWVBURUQgUFJJVkFURSBLRVlcIiE9PWEudHlwZSYmXCJQUklWQVRFIEtFWVwiIT09YS50eXBlJiZcIlJTQSBQUklWQVRFIEtFWVwiIT09YS50eXBlKXt2YXIgbj1uZXcgRXJyb3IoJ0NvdWxkIG5vdCBjb252ZXJ0IHByaXZhdGUga2V5IGZyb20gUEVNOyBQRU0gaGVhZGVyIHR5cGUgaXMgbm90IFwiRU5DUllQVEVEIFBSSVZBVEUgS0VZXCIsIFwiUFJJVkFURSBLRVlcIiwgb3IgXCJSU0EgUFJJVkFURSBLRVlcIi4nKTt0aHJvdyBuLmhlYWRlclR5cGU9bixufWlmKGEucHJvY1R5cGUmJlwiRU5DUllQVEVEXCI9PT1hLnByb2NUeXBlLnR5cGUpe3ZhciBpLHM7c3dpdGNoKGEuZGVrSW5mby5hbGdvcml0aG0pe2Nhc2VcIkRFUy1DQkNcIjppPTgscz1vLmRlcy5jcmVhdGVEZWNyeXB0aW9uQ2lwaGVyO2JyZWFrO2Nhc2VcIkRFUy1FREUzLUNCQ1wiOmk9MjQscz1vLmRlcy5jcmVhdGVEZWNyeXB0aW9uQ2lwaGVyO2JyZWFrO2Nhc2VcIkFFUy0xMjgtQ0JDXCI6aT0xNixzPW8uYWVzLmNyZWF0ZURlY3J5cHRpb25DaXBoZXI7YnJlYWs7Y2FzZVwiQUVTLTE5Mi1DQkNcIjppPTI0LHM9by5hZXMuY3JlYXRlRGVjcnlwdGlvbkNpcGhlcjticmVhaztjYXNlXCJBRVMtMjU2LUNCQ1wiOmk9MzIscz1vLmFlcy5jcmVhdGVEZWNyeXB0aW9uQ2lwaGVyO2JyZWFrO2Nhc2VcIlJDMi00MC1DQkNcIjppPTUscz1mdW5jdGlvbihlKXtyZXR1cm4gby5yYzIuY3JlYXRlRGVjcnlwdGlvbkNpcGhlcihlLDQwKX07YnJlYWs7Y2FzZVwiUkMyLTY0LUNCQ1wiOmk9OCxzPWZ1bmN0aW9uKGUpe3JldHVybiBvLnJjMi5jcmVhdGVEZWNyeXB0aW9uQ2lwaGVyKGUsNjQpfTticmVhaztjYXNlXCJSQzItMTI4LUNCQ1wiOmk9MTYscz1mdW5jdGlvbihlKXtyZXR1cm4gby5yYzIuY3JlYXRlRGVjcnlwdGlvbkNpcGhlcihlLDEyOCl9O2JyZWFrO2RlZmF1bHQ6dmFyIG49bmV3IEVycm9yKCdDb3VsZCBub3QgZGVjcnlwdCBwcml2YXRlIGtleTsgdW5zdXBwb3J0ZWQgZW5jcnlwdGlvbiBhbGdvcml0aG0gXCInK2EuZGVrSW5mby5hbGdvcml0aG0rJ1wiLicpO3Rocm93IG4uYWxnb3JpdGhtPWEuZGVrSW5mby5hbGdvcml0aG0sbn12YXIgYz1vLnV0aWwuaGV4VG9CeXRlcyhhLmRla0luZm8ucGFyYW1ldGVycykscD1vLnBiZS5vcGVuc3NsRGVyaXZlQnl0ZXModCxjLnN1YnN0cigwLDgpLGkpLGg9cyhwKTtpZihoLnN0YXJ0KGMpLGgudXBkYXRlKG8udXRpbC5jcmVhdGVCdWZmZXIoYS5ib2R5KSksIWguZmluaXNoKCkpcmV0dXJuIHI7cj1oLm91dHB1dC5nZXRCeXRlcygpfWVsc2Ugcj1hLmJvZHk7cmV0dXJuIHI9XCJFTkNSWVBURUQgUFJJVkFURSBLRVlcIj09PWEudHlwZT9sLmRlY3J5cHRQcml2YXRlS2V5SW5mbyh1LmZyb21EZXIociksdCk6dS5mcm9tRGVyKHIpLG51bGwhPT1yJiYocj1sLnByaXZhdGVLZXlGcm9tQXNuMShyKSkscn0sbC5wYmUuZ2VuZXJhdGVQa2NzMTJLZXk9ZnVuY3Rpb24oZSx0LHIsYSxuLGkpe3ZhciBzLGM7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGl8fG51bGw9PT1pKXtpZighKFwic2hhMVwiaW4gby5tZCkpdGhyb3cgbmV3IEVycm9yKCdcInNoYTFcIiBoYXNoIGFsZ29yaXRobSB1bmF2YWlsYWJsZS4nKTtpPW8ubWQuc2hhMS5jcmVhdGUoKX12YXIgdT1pLmRpZ2VzdExlbmd0aCxsPWkuYmxvY2tMZW5ndGgscD1uZXcgby51dGlsLkJ5dGVCdWZmZXIsaD1uZXcgby51dGlsLkJ5dGVCdWZmZXI7aWYobnVsbCE9PWUmJnZvaWQgMCE9PWUpe2ZvcihjPTA7YzxlLmxlbmd0aDtjKyspaC5wdXRJbnQxNihlLmNoYXJDb2RlQXQoYykpO2gucHV0SW50MTYoMCl9dmFyIGY9aC5sZW5ndGgoKSxkPXQubGVuZ3RoKCkseT1uZXcgby51dGlsLkJ5dGVCdWZmZXI7eS5maWxsV2l0aEJ5dGUocixsKTt2YXIgZz1sKk1hdGguY2VpbChkL2wpLHY9bmV3IG8udXRpbC5CeXRlQnVmZmVyO2ZvcihjPTA7YzxnO2MrKyl2LnB1dEJ5dGUodC5hdChjJWQpKTt2YXIgbT1sKk1hdGguY2VpbChmL2wpLEM9bmV3IG8udXRpbC5CeXRlQnVmZmVyO2ZvcihjPTA7YzxtO2MrKylDLnB1dEJ5dGUoaC5hdChjJWYpKTt2YXIgRT12O0UucHV0QnVmZmVyKEMpO2Zvcih2YXIgUz1NYXRoLmNlaWwobi91KSxUPTE7VDw9UztUKyspe3ZhciBJPW5ldyBvLnV0aWwuQnl0ZUJ1ZmZlcjtJLnB1dEJ5dGVzKHkuYnl0ZXMoKSksSS5wdXRCeXRlcyhFLmJ5dGVzKCkpO2Zvcih2YXIgQT0wO0E8YTtBKyspaS5zdGFydCgpLGkudXBkYXRlKEkuZ2V0Qnl0ZXMoKSksST1pLmRpZ2VzdCgpO3ZhciBiPW5ldyBvLnV0aWwuQnl0ZUJ1ZmZlcjtmb3IoYz0wO2M8bDtjKyspYi5wdXRCeXRlKEkuYXQoYyV1KSk7dmFyIEI9TWF0aC5jZWlsKGQvbCkrTWF0aC5jZWlsKGYvbCksTj1uZXcgby51dGlsLkJ5dGVCdWZmZXI7Zm9yKHM9MDtzPEI7cysrKXt2YXIgaz1uZXcgby51dGlsLkJ5dGVCdWZmZXIoRS5nZXRCeXRlcyhsKSksUj01MTE7Zm9yKGM9Yi5sZW5ndGgoKS0xO2M+PTA7Yy0tKVI+Pj04LFIrPWIuYXQoYykray5hdChjKSxrLnNldEF0KGMsMjU1JlIpO04ucHV0QnVmZmVyKGspfUU9TixwLnB1dEJ1ZmZlcihJKX1yZXR1cm4gcC50cnVuY2F0ZShwLmxlbmd0aCgpLW4pLHB9LGwucGJlLmdldENpcGhlcj1mdW5jdGlvbihlLHQscil7c3dpdGNoKGUpe2Nhc2UgbC5vaWRzLnBrY3M1UEJFUzI6cmV0dXJuIGwucGJlLmdldENpcGhlckZvclBCRVMyKGUsdCxyKTtjYXNlIGwub2lkc1tcInBiZVdpdGhTSEFBbmQzLUtleVRyaXBsZURFUy1DQkNcIl06Y2FzZSBsLm9pZHNbXCJwYmV3aXRoU0hBQW5kNDBCaXRSQzItQ0JDXCJdOnJldHVybiBsLnBiZS5nZXRDaXBoZXJGb3JQS0NTMTJQQkUoZSx0LHIpO2RlZmF1bHQ6dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IHJlYWQgZW5jcnlwdGVkIFBCRSBkYXRhIGJsb2NrLiBVbnN1cHBvcnRlZCBPSUQuXCIpO3Rocm93IGEub2lkPWUsYS5zdXBwb3J0ZWRPaWRzPVtcInBrY3M1UEJFUzJcIixcInBiZVdpdGhTSEFBbmQzLUtleVRyaXBsZURFUy1DQkNcIixcInBiZXdpdGhTSEFBbmQ0MEJpdFJDMi1DQkNcIl0sYX19LGwucGJlLmdldENpcGhlckZvclBCRVMyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT17fSxpPVtdO2lmKCF1LnZhbGlkYXRlKHQsZixhLGkpKXt2YXIgcz1uZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBwYXNzd29yZC1iYXNlZC1lbmNyeXB0aW9uIGFsZ29yaXRobSBwYXJhbWV0ZXJzLiBBU04uMSBvYmplY3QgaXMgbm90IGEgc3VwcG9ydGVkIEVuY3J5cHRlZFByaXZhdGVLZXlJbmZvLlwiKTt0aHJvdyBzLmVycm9ycz1pLHN9aWYoZT11LmRlclRvT2lkKGEua2RmT2lkKSxlIT09bC5vaWRzLnBrY3M1UEJLREYyKXt2YXIgcz1uZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBlbmNyeXB0ZWQgcHJpdmF0ZSBrZXkuIFVuc3VwcG9ydGVkIGtleSBkZXJpdmF0aW9uIGZ1bmN0aW9uIE9JRC5cIik7dGhyb3cgcy5vaWQ9ZSxzLnN1cHBvcnRlZE9pZHM9W1wicGtjczVQQktERjJcIl0sc31pZihlPXUuZGVyVG9PaWQoYS5lbmNPaWQpLGUhPT1sLm9pZHNbXCJhZXMxMjgtQ0JDXCJdJiZlIT09bC5vaWRzW1wiYWVzMTkyLUNCQ1wiXSYmZSE9PWwub2lkc1tcImFlczI1Ni1DQkNcIl0mJmUhPT1sLm9pZHNbXCJkZXMtRURFMy1DQkNcIl0mJmUhPT1sLm9pZHMuZGVzQ0JDKXt2YXIgcz1uZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBlbmNyeXB0ZWQgcHJpdmF0ZSBrZXkuIFVuc3VwcG9ydGVkIGVuY3J5cHRpb24gc2NoZW1lIE9JRC5cIik7dGhyb3cgcy5vaWQ9ZSxzLnN1cHBvcnRlZE9pZHM9W1wiYWVzMTI4LUNCQ1wiLFwiYWVzMTkyLUNCQ1wiLFwiYWVzMjU2LUNCQ1wiLFwiZGVzLUVERTMtQ0JDXCIsXCJkZXNDQkNcIl0sc312YXIgYz1hLmtkZlNhbHQscD1vLnV0aWwuY3JlYXRlQnVmZmVyKGEua2RmSXRlcmF0aW9uQ291bnQpO3A9cC5nZXRJbnQocC5sZW5ndGgoKTw8Myk7dmFyIGgsZDtzd2l0Y2gobC5vaWRzW2VdKXtjYXNlXCJhZXMxMjgtQ0JDXCI6aD0xNixkPW8uYWVzLmNyZWF0ZURlY3J5cHRpb25DaXBoZXI7YnJlYWs7Y2FzZVwiYWVzMTkyLUNCQ1wiOmg9MjQsZD1vLmFlcy5jcmVhdGVEZWNyeXB0aW9uQ2lwaGVyO2JyZWFrO2Nhc2VcImFlczI1Ni1DQkNcIjpoPTMyLGQ9by5hZXMuY3JlYXRlRGVjcnlwdGlvbkNpcGhlcjticmVhaztjYXNlXCJkZXMtRURFMy1DQkNcIjpoPTI0LGQ9by5kZXMuY3JlYXRlRGVjcnlwdGlvbkNpcGhlcjticmVhaztjYXNlXCJkZXNDQkNcIjpoPTgsZD1vLmRlcy5jcmVhdGVEZWNyeXB0aW9uQ2lwaGVyfXZhciB5PW4oYS5wcmZPaWQpLGc9by5wa2NzNS5wYmtkZjIocixjLHAsaCx5KSx2PWEuZW5jSXYsbT1kKGcpO3JldHVybiBtLnN0YXJ0KHYpLG19LGwucGJlLmdldENpcGhlckZvclBLQ1MxMlBCRT1mdW5jdGlvbihlLHQscil7dmFyIGE9e30saT1bXTtpZighdS52YWxpZGF0ZSh0LGQsYSxpKSl7dmFyIHM9bmV3IEVycm9yKFwiQ2Fubm90IHJlYWQgcGFzc3dvcmQtYmFzZWQtZW5jcnlwdGlvbiBhbGdvcml0aG0gcGFyYW1ldGVycy4gQVNOLjEgb2JqZWN0IGlzIG5vdCBhIHN1cHBvcnRlZCBFbmNyeXB0ZWRQcml2YXRlS2V5SW5mby5cIik7dGhyb3cgcy5lcnJvcnM9aSxzfXZhciBjPW8udXRpbC5jcmVhdGVCdWZmZXIoYS5zYWx0KSxwPW8udXRpbC5jcmVhdGVCdWZmZXIoYS5pdGVyYXRpb25zKTtwPXAuZ2V0SW50KHAubGVuZ3RoKCk8PDMpO3ZhciBoLGYseTtzd2l0Y2goZSl7Y2FzZSBsLm9pZHNbXCJwYmVXaXRoU0hBQW5kMy1LZXlUcmlwbGVERVMtQ0JDXCJdOmg9MjQsZj04LHk9by5kZXMuc3RhcnREZWNyeXB0aW5nO2JyZWFrO2Nhc2UgbC5vaWRzW1wicGJld2l0aFNIQUFuZDQwQml0UkMyLUNCQ1wiXTpoPTUsZj04LHk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1vLnJjMi5jcmVhdGVEZWNyeXB0aW9uQ2lwaGVyKGUsNDApO3JldHVybiByLnN0YXJ0KHQsbnVsbCkscn07YnJlYWs7ZGVmYXVsdDp2YXIgcz1uZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBQS0NTICMxMiBQQkUgZGF0YSBibG9jay4gVW5zdXBwb3J0ZWQgT0lELlwiKTt0aHJvdyBzLm9pZD1lLHN9dmFyIGc9bihhLnByZk9pZCksdj1sLnBiZS5nZW5lcmF0ZVBrY3MxMktleShyLGMsMSxwLGgsZyk7Zy5zdGFydCgpO3ZhciBtPWwucGJlLmdlbmVyYXRlUGtjczEyS2V5KHIsYywyLHAsZixnKTtyZXR1cm4geSh2LG0pfSxsLnBiZS5vcGVuc3NsRGVyaXZlQnl0ZXM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIG58fG51bGw9PT1uKXtpZighKFwibWQ1XCJpbiBvLm1kKSl0aHJvdyBuZXcgRXJyb3IoJ1wibWQ1XCIgaGFzaCBhbGdvcml0aG0gdW5hdmFpbGFibGUuJyk7bj1vLm1kLm1kNS5jcmVhdGUoKX1udWxsPT09dCYmKHQ9XCJcIik7Zm9yKHZhciBpPVthKG4sZSt0KV0scz0xNixjPTE7czxyOysrYyxzKz0xNilpLnB1c2goYShuLGlbYy0xXStlK3QpKTtyZXR1cm4gaS5qb2luKFwiXCIpLnN1YnN0cigwLHIpfX0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGEoZSx0LHIpe3J8fChyPW4ubWQuc2hhMS5jcmVhdGUoKSk7Zm9yKHZhciBhPVwiXCIsaT1NYXRoLmNlaWwodC9yLmRpZ2VzdExlbmd0aCkscz0wO3M8aTsrK3Mpe3ZhciBvPVN0cmluZy5mcm9tQ2hhckNvZGUocz4+MjQmMjU1LHM+PjE2JjI1NSxzPj44JjI1NSwyNTUmcyk7ci5zdGFydCgpLHIudXBkYXRlKGUrbyksYSs9ci5kaWdlc3QoKS5nZXRCeXRlcygpfXJldHVybiBhLnN1YnN0cmluZygwLHQpfXZhciBuPXIoMCk7cigxKSxyKDIpLHIoOSk7dmFyIGk9ZS5leHBvcnRzPW4ucGtjczE9bi5wa2NzMXx8e307aS5lbmNvZGVfcnNhX29hZXA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLHMsbyxjO1wic3RyaW5nXCI9PXR5cGVvZiByPyhpPXIscz1hcmd1bWVudHNbM118fHZvaWQgMCxvPWFyZ3VtZW50c1s0XXx8dm9pZCAwKTpyJiYoaT1yLmxhYmVsfHx2b2lkIDAscz1yLnNlZWR8fHZvaWQgMCxvPXIubWR8fHZvaWQgMCxyLm1nZjEmJnIubWdmMS5tZCYmKGM9ci5tZ2YxLm1kKSksbz9vLnN0YXJ0KCk6bz1uLm1kLnNoYTEuY3JlYXRlKCksY3x8KGM9byk7dmFyIHU9TWF0aC5jZWlsKGUubi5iaXRMZW5ndGgoKS84KSxsPXUtMipvLmRpZ2VzdExlbmd0aC0yO2lmKHQubGVuZ3RoPmwpe3ZhciBwPW5ldyBFcnJvcihcIlJTQUVTLU9BRVAgaW5wdXQgbWVzc2FnZSBsZW5ndGggaXMgdG9vIGxvbmcuXCIpO3Rocm93IHAubGVuZ3RoPXQubGVuZ3RoLHAubWF4TGVuZ3RoPWwscH1pfHwoaT1cIlwiKSxvLnVwZGF0ZShpLFwicmF3XCIpO2Zvcih2YXIgaD1vLmRpZ2VzdCgpLGY9XCJcIixkPWwtdC5sZW5ndGgseT0wO3k8ZDt5KyspZis9XCJcXDBcIjt2YXIgZz1oLmdldEJ5dGVzKCkrZitcIlx1MDAwMVwiK3Q7aWYocyl7aWYocy5sZW5ndGghPT1vLmRpZ2VzdExlbmd0aCl7dmFyIHA9bmV3IEVycm9yKFwiSW52YWxpZCBSU0FFUy1PQUVQIHNlZWQuIFRoZSBzZWVkIGxlbmd0aCBtdXN0IG1hdGNoIHRoZSBkaWdlc3QgbGVuZ3RoLlwiKTt0aHJvdyBwLnNlZWRMZW5ndGg9cy5sZW5ndGgscC5kaWdlc3RMZW5ndGg9by5kaWdlc3RMZW5ndGgscH19ZWxzZSBzPW4ucmFuZG9tLmdldEJ5dGVzKG8uZGlnZXN0TGVuZ3RoKTt2YXIgdj1hKHMsdS1vLmRpZ2VzdExlbmd0aC0xLGMpLG09bi51dGlsLnhvckJ5dGVzKGcsdixnLmxlbmd0aCksQz1hKG0sby5kaWdlc3RMZW5ndGgsYyksRT1uLnV0aWwueG9yQnl0ZXMocyxDLHMubGVuZ3RoKTtyZXR1cm5cIlxcMFwiK0UrbX0saS5kZWNvZGVfcnNhX29hZXA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLHMsbztcInN0cmluZ1wiPT10eXBlb2Ygcj8oaT1yLHM9YXJndW1lbnRzWzNdfHx2b2lkIDApOnImJihpPXIubGFiZWx8fHZvaWQgMCxzPXIubWR8fHZvaWQgMCxyLm1nZjEmJnIubWdmMS5tZCYmKG89ci5tZ2YxLm1kKSk7dmFyIGM9TWF0aC5jZWlsKGUubi5iaXRMZW5ndGgoKS84KTtpZih0Lmxlbmd0aCE9PWMpe3ZhciB1PW5ldyBFcnJvcihcIlJTQUVTLU9BRVAgZW5jb2RlZCBtZXNzYWdlIGxlbmd0aCBpcyBpbnZhbGlkLlwiKTt0aHJvdyB1Lmxlbmd0aD10Lmxlbmd0aCx1LmV4cGVjdGVkTGVuZ3RoPWMsdX1pZih2b2lkIDA9PT1zP3M9bi5tZC5zaGExLmNyZWF0ZSgpOnMuc3RhcnQoKSxvfHwobz1zKSxjPDIqcy5kaWdlc3RMZW5ndGgrMil0aHJvdyBuZXcgRXJyb3IoXCJSU0FFUy1PQUVQIGtleSBpcyB0b28gc2hvcnQgZm9yIHRoZSBoYXNoIGZ1bmN0aW9uLlwiKTtpfHwoaT1cIlwiKSxzLnVwZGF0ZShpLFwicmF3XCIpO2Zvcih2YXIgbD1zLmRpZ2VzdCgpLmdldEJ5dGVzKCkscD10LmNoYXJBdCgwKSxoPXQuc3Vic3RyaW5nKDEscy5kaWdlc3RMZW5ndGgrMSksZj10LnN1YnN0cmluZygxK3MuZGlnZXN0TGVuZ3RoKSxkPWEoZixzLmRpZ2VzdExlbmd0aCxvKSx5PW4udXRpbC54b3JCeXRlcyhoLGQsaC5sZW5ndGgpLGc9YSh5LGMtcy5kaWdlc3RMZW5ndGgtMSxvKSx2PW4udXRpbC54b3JCeXRlcyhmLGcsZi5sZW5ndGgpLG09di5zdWJzdHJpbmcoMCxzLmRpZ2VzdExlbmd0aCksdT1cIlxcMFwiIT09cCxDPTA7QzxzLmRpZ2VzdExlbmd0aDsrK0MpdXw9bC5jaGFyQXQoQykhPT1tLmNoYXJBdChDKTtmb3IodmFyIEU9MSxTPXMuZGlnZXN0TGVuZ3RoLFQ9cy5kaWdlc3RMZW5ndGg7VDx2Lmxlbmd0aDtUKyspe3ZhciBJPXYuY2hhckNvZGVBdChUKSxBPTEmSV4xLGI9RT82NTUzNDowO3V8PUkmYixFJj1BLFMrPUV9aWYodXx8MSE9PXYuY2hhckNvZGVBdChTKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFJTQUVTLU9BRVAgcGFkZGluZy5cIik7cmV0dXJuIHYuc3Vic3RyaW5nKFMrMSl9fSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gYShlLHQscixhKXtmb3IodmFyIG49W10saT0wO2k8ZS5sZW5ndGg7aSsrKWZvcih2YXIgcz0wO3M8ZVtpXS5zYWZlQmFncy5sZW5ndGg7cysrKXt2YXIgbz1lW2ldLnNhZmVCYWdzW3NdO3ZvaWQgMCE9PWEmJm8udHlwZSE9PWF8fChudWxsIT09dD92b2lkIDAhPT1vLmF0dHJpYnV0ZXNbdF0mJm8uYXR0cmlidXRlc1t0XS5pbmRleE9mKHIpPj0wJiZuLnB1c2gobyk6bi5wdXNoKG8pKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2lmKGUuY29tcG9zZWR8fGUuY29uc3RydWN0ZWQpe2Zvcih2YXIgdD11LnV0aWwuY3JlYXRlQnVmZmVyKCkscj0wO3I8ZS52YWx1ZS5sZW5ndGg7KytyKXQucHV0Qnl0ZXMoZS52YWx1ZVtyXS52YWx1ZSk7ZS5jb21wb3NlZD1lLmNvbnN0cnVjdGVkPSExLGUudmFsdWU9dC5nZXRCeXRlcygpfXJldHVybiBlfWZ1bmN0aW9uIGkoZSx0LHIsYSl7aWYodD1sLmZyb21EZXIodCxyKSx0LnRhZ0NsYXNzIT09bC5DbGFzcy5VTklWRVJTQUx8fHQudHlwZSE9PWwuVHlwZS5TRVFVRU5DRXx8dC5jb25zdHJ1Y3RlZCE9PSEwKXRocm93IG5ldyBFcnJvcihcIlBLQ1MjMTIgQXV0aGVudGljYXRlZFNhZmUgZXhwZWN0ZWQgdG8gYmUgYSBTRVFVRU5DRSBPRiBDb250ZW50SW5mb1wiKTtmb3IodmFyIGk9MDtpPHQudmFsdWUubGVuZ3RoO2krKyl7dmFyIGM9dC52YWx1ZVtpXSx1PXt9LGg9W107aWYoIWwudmFsaWRhdGUoYyxmLHUsaCkpe3ZhciBkPW5ldyBFcnJvcihcIkNhbm5vdCByZWFkIENvbnRlbnRJbmZvLlwiKTt0aHJvdyBkLmVycm9ycz1oLGR9dmFyIHk9e2VuY3J5cHRlZDohMX0sZz1udWxsLHY9dS5jb250ZW50LnZhbHVlWzBdO3N3aXRjaChsLmRlclRvT2lkKHUuY29udGVudFR5cGUpKXtjYXNlIHAub2lkcy5kYXRhOmlmKHYudGFnQ2xhc3MhPT1sLkNsYXNzLlVOSVZFUlNBTHx8di50eXBlIT09bC5UeXBlLk9DVEVUU1RSSU5HKXRocm93IG5ldyBFcnJvcihcIlBLQ1MjMTIgU2FmZUNvbnRlbnRzIERhdGEgaXMgbm90IGFuIE9DVEVUIFNUUklORy5cIik7Zz1uKHYpLnZhbHVlO2JyZWFrO2Nhc2UgcC5vaWRzLmVuY3J5cHRlZERhdGE6Zz1zKHYsYSkseS5lbmNyeXB0ZWQ9ITA7YnJlYWs7ZGVmYXVsdDp2YXIgZD1uZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBQS0NTIzEyIGNvbnRlbnRUeXBlLlwiKTt0aHJvdyBkLmNvbnRlbnRUeXBlPWwuZGVyVG9PaWQodS5jb250ZW50VHlwZSksZH15LnNhZmVCYWdzPW8oZyxyLGEpLGUuc2FmZUNvbnRlbnRzLnB1c2goeSl9fWZ1bmN0aW9uIHMoZSx0KXt2YXIgcj17fSxhPVtdO2lmKCFsLnZhbGlkYXRlKGUsdS5wa2NzNy5hc24xLmVuY3J5cHRlZERhdGFWYWxpZGF0b3IscixhKSl7dmFyIGk9bmV3IEVycm9yKFwiQ2Fubm90IHJlYWQgRW5jcnlwdGVkQ29udGVudEluZm8uXCIpO3Rocm93IGkuZXJyb3JzPWEsaX12YXIgcz1sLmRlclRvT2lkKHIuY29udGVudFR5cGUpO2lmKHMhPT1wLm9pZHMuZGF0YSl7dmFyIGk9bmV3IEVycm9yKFwiUEtDUyMxMiBFbmNyeXB0ZWRDb250ZW50SW5mbyBDb250ZW50VHlwZSBpcyBub3QgRGF0YS5cIik7dGhyb3cgaS5vaWQ9cyxpfXM9bC5kZXJUb09pZChyLmVuY0FsZ29yaXRobSk7dmFyIG89cC5wYmUuZ2V0Q2lwaGVyKHMsci5lbmNQYXJhbWV0ZXIsdCksYz1uKHIuZW5jcnlwdGVkQ29udGVudEFzbjEpLGg9dS51dGlsLmNyZWF0ZUJ1ZmZlcihjLnZhbHVlKTtpZihvLnVwZGF0ZShoKSwhby5maW5pc2goKSl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVjcnlwdCBQS0NTIzEyIFNhZmVDb250ZW50cy5cIik7cmV0dXJuIG8ub3V0cHV0LmdldEJ5dGVzKCl9ZnVuY3Rpb24gbyhlLHQscil7aWYoIXQmJjA9PT1lLmxlbmd0aClyZXR1cm5bXTtpZihlPWwuZnJvbURlcihlLHQpLGUudGFnQ2xhc3MhPT1sLkNsYXNzLlVOSVZFUlNBTHx8ZS50eXBlIT09bC5UeXBlLlNFUVVFTkNFfHxlLmNvbnN0cnVjdGVkIT09ITApdGhyb3cgbmV3IEVycm9yKFwiUEtDUyMxMiBTYWZlQ29udGVudHMgZXhwZWN0ZWQgdG8gYmUgYSBTRVFVRU5DRSBPRiBTYWZlQmFnLlwiKTtmb3IodmFyIGE9W10sbj0wO248ZS52YWx1ZS5sZW5ndGg7bisrKXt2YXIgaT1lLnZhbHVlW25dLHM9e30sbz1bXTtpZighbC52YWxpZGF0ZShpLHkscyxvKSl7dmFyIHU9bmV3IEVycm9yKFwiQ2Fubm90IHJlYWQgU2FmZUJhZy5cIik7dGhyb3cgdS5lcnJvcnM9byx1fXZhciBoPXt0eXBlOmwuZGVyVG9PaWQocy5iYWdJZCksYXR0cmlidXRlczpjKHMuYmFnQXR0cmlidXRlcyl9O2EucHVzaChoKTt2YXIgZixkLGc9cy5iYWdWYWx1ZS52YWx1ZVswXTtzd2l0Y2goaC50eXBlKXtjYXNlIHAub2lkcy5wa2NzOFNocm91ZGVkS2V5QmFnOmlmKGc9cC5kZWNyeXB0UHJpdmF0ZUtleUluZm8oZyxyKSxudWxsPT09Zyl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZGVjcnlwdCBQS0NTIzggU2hyb3VkZWRLZXlCYWcsIHdyb25nIHBhc3N3b3JkP1wiKTtjYXNlIHAub2lkcy5rZXlCYWc6dHJ5e2gua2V5PXAucHJpdmF0ZUtleUZyb21Bc24xKGcpfWNhdGNoKGUpe2gua2V5PW51bGwsaC5hc24xPWd9Y29udGludWU7Y2FzZSBwLm9pZHMuY2VydEJhZzpmPXYsZD1mdW5jdGlvbigpe2lmKGwuZGVyVG9PaWQocy5jZXJ0SWQpIT09cC5vaWRzLng1MDlDZXJ0aWZpY2F0ZSl7dmFyIGU9bmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgY2VydGlmaWNhdGUgdHlwZSwgb25seSBYLjUwOSBzdXBwb3J0ZWQuXCIpO3Rocm93IGUub2lkPWwuZGVyVG9PaWQocy5jZXJ0SWQpLGV9dmFyIHI9bC5mcm9tRGVyKHMuY2VydCx0KTt0cnl7aC5jZXJ0PXAuY2VydGlmaWNhdGVGcm9tQXNuMShyLCEwKX1jYXRjaChlKXtoLmNlcnQ9bnVsbCxoLmFzbjE9cn19O2JyZWFrO2RlZmF1bHQ6dmFyIHU9bmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgUEtDUyMxMiBTYWZlQmFnIHR5cGUuXCIpO3Rocm93IHUub2lkPWgudHlwZSx1fWlmKHZvaWQgMCE9PWYmJiFsLnZhbGlkYXRlKGcsZixzLG8pKXt2YXIgdT1uZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBQS0NTIzEyIFwiK2YubmFtZSk7dGhyb3cgdS5lcnJvcnM9byx1fWQoKX1yZXR1cm4gYX1mdW5jdGlvbiBjKGUpe3ZhciB0PXt9O2lmKHZvaWQgMCE9PWUpZm9yKHZhciByPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBhPXt9LG49W107aWYoIWwudmFsaWRhdGUoZVtyXSxnLGEsbikpe3ZhciBpPW5ldyBFcnJvcihcIkNhbm5vdCByZWFkIFBLQ1MjMTIgQmFnQXR0cmlidXRlLlwiKTt0aHJvdyBpLmVycm9ycz1uLGl9dmFyIHM9bC5kZXJUb09pZChhLm9pZCk7aWYodm9pZCAwIT09cC5vaWRzW3NdKXt0W3Aub2lkc1tzXV09W107Zm9yKHZhciBvPTA7bzxhLnZhbHVlcy5sZW5ndGg7KytvKXRbcC5vaWRzW3NdXS5wdXNoKGEudmFsdWVzW29dLnZhbHVlKX19cmV0dXJuIHR9dmFyIHU9cigwKTtyKDMpLHIoOCkscig2KSxyKDI1KSxyKDIyKSxyKDIpLHIoMTEpLHIoOSkscigxKSxyKDE3KTt2YXIgbD11LmFzbjEscD11LnBraSxoPWUuZXhwb3J0cz11LnBrY3MxMj11LnBrY3MxMnx8e30sZj17bmFtZTpcIkNvbnRlbnRJbmZvXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiQ29udGVudEluZm8uY29udGVudFR5cGVcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5PSUQsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcImNvbnRlbnRUeXBlXCJ9LHtuYW1lOlwiQ29udGVudEluZm8uY29udGVudFwiLHRhZ0NsYXNzOmwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQyxjb25zdHJ1Y3RlZDohMCxjYXB0dXJlQXNuMTpcImNvbnRlbnRcIn1dfSxkPXtuYW1lOlwiUEZYXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiUEZYLnZlcnNpb25cIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5JTlRFR0VSLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJ2ZXJzaW9uXCJ9LGYse25hbWU6XCJQRlgubWFjRGF0YVwiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLG9wdGlvbmFsOiEwLGNhcHR1cmVBc24xOlwibWFjXCIsdmFsdWU6W3tuYW1lOlwiUEZYLm1hY0RhdGEubWFjXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiUEZYLm1hY0RhdGEubWFjLmRpZ2VzdEFsZ29yaXRobVwiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcIlBGWC5tYWNEYXRhLm1hYy5kaWdlc3RBbGdvcml0aG0uYWxnb3JpdGhtXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuT0lELGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJtYWNBbGdvcml0aG1cIn0se25hbWU6XCJQRlgubWFjRGF0YS5tYWMuZGlnZXN0QWxnb3JpdGhtLnBhcmFtZXRlcnNcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCxjYXB0dXJlQXNuMTpcIm1hY0FsZ29yaXRobVBhcmFtZXRlcnNcIn1dfSx7bmFtZTpcIlBGWC5tYWNEYXRhLm1hYy5kaWdlc3RcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5PQ1RFVFNUUklORyxjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwibWFjRGlnZXN0XCJ9XX0se25hbWU6XCJQRlgubWFjRGF0YS5tYWNTYWx0XCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuT0NURVRTVFJJTkcsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcIm1hY1NhbHRcIn0se25hbWU6XCJQRlgubWFjRGF0YS5pdGVyYXRpb25zXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxvcHRpb25hbDohMCxjYXB0dXJlOlwibWFjSXRlcmF0aW9uc1wifV19XX0seT17bmFtZTpcIlNhZmVCYWdcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJTYWZlQmFnLmJhZ0lkXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuT0lELGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJiYWdJZFwifSx7bmFtZTpcIlNhZmVCYWcuYmFnVmFsdWVcIix0YWdDbGFzczpsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsY29uc3RydWN0ZWQ6ITAsY2FwdHVyZUFzbjE6XCJiYWdWYWx1ZVwifSx7bmFtZTpcIlNhZmVCYWcuYmFnQXR0cmlidXRlc1wiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLlNFVCxjb25zdHJ1Y3RlZDohMCxvcHRpb25hbDohMCxjYXB0dXJlOlwiYmFnQXR0cmlidXRlc1wifV19LGc9e25hbWU6XCJBdHRyaWJ1dGVcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJBdHRyaWJ1dGUuYXR0cklkXCIsdGFnQ2xhc3M6bC5DbGFzcy5VTklWRVJTQUwsdHlwZTpsLlR5cGUuT0lELGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJvaWRcIn0se25hbWU6XCJBdHRyaWJ1dGUuYXR0clZhbHVlc1wiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLlNFVCxjb25zdHJ1Y3RlZDohMCxjYXB0dXJlOlwidmFsdWVzXCJ9XX0sdj17bmFtZTpcIkNlcnRCYWdcIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJDZXJ0QmFnLmNlcnRJZFwiLHRhZ0NsYXNzOmwuQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bC5UeXBlLk9JRCxjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwiY2VydElkXCJ9LHtuYW1lOlwiQ2VydEJhZy5jZXJ0VmFsdWVcIix0YWdDbGFzczpsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiQ2VydEJhZy5jZXJ0VmFsdWVbMF1cIix0YWdDbGFzczpsLkNsYXNzLlVOSVZFUlNBTCx0eXBlOmwuQ2xhc3MuT0NURVRTVFJJTkcsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcImNlcnRcIn1dfV19O2gucGtjczEyRnJvbUFzbjE9ZnVuY3Rpb24oZSx0LHIpe1wic3RyaW5nXCI9PXR5cGVvZiB0PyhyPXQsdD0hMCk6dm9pZCAwPT09dCYmKHQ9ITApO3ZhciBzPXt9LG89W107aWYoIWwudmFsaWRhdGUoZSxkLHMsbykpe3ZhciBjPW5ldyBFcnJvcihcIkNhbm5vdCByZWFkIFBLQ1MjMTIgUEZYLiBBU04uMSBvYmplY3QgaXMgbm90IGFuIFBLQ1MjMTIgUEZYLlwiKTt0aHJvdyBjLmVycm9ycz1jLGN9dmFyIGY9e3ZlcnNpb246cy52ZXJzaW9uLmNoYXJDb2RlQXQoMCksc2FmZUNvbnRlbnRzOltdLGdldEJhZ3M6ZnVuY3Rpb24oZSl7dmFyIHQscj17fTtyZXR1cm5cImxvY2FsS2V5SWRcImluIGU/dD1lLmxvY2FsS2V5SWQ6XCJsb2NhbEtleUlkSGV4XCJpbiBlJiYodD11LnV0aWwuaGV4VG9CeXRlcyhlLmxvY2FsS2V5SWRIZXgpKSx2b2lkIDA9PT10JiYhKFwiZnJpZW5kbHlOYW1lXCJpbiBlKSYmXCJiYWdUeXBlXCJpbiBlJiYocltlLmJhZ1R5cGVdPWEoZi5zYWZlQ29udGVudHMsbnVsbCxudWxsLGUuYmFnVHlwZSkpLHZvaWQgMCE9PXQmJihyLmxvY2FsS2V5SWQ9YShmLnNhZmVDb250ZW50cyxcImxvY2FsS2V5SWRcIix0LGUuYmFnVHlwZSkpLFwiZnJpZW5kbHlOYW1lXCJpbiBlJiYoci5mcmllbmRseU5hbWU9YShmLnNhZmVDb250ZW50cyxcImZyaWVuZGx5TmFtZVwiLGUuZnJpZW5kbHlOYW1lLGUuYmFnVHlwZSkpLHJ9LGdldEJhZ3NCeUZyaWVuZGx5TmFtZTpmdW5jdGlvbihlLHQpe3JldHVybiBhKGYuc2FmZUNvbnRlbnRzLFwiZnJpZW5kbHlOYW1lXCIsZSx0KX0sZ2V0QmFnc0J5TG9jYWxLZXlJZDpmdW5jdGlvbihlLHQpe3JldHVybiBhKGYuc2FmZUNvbnRlbnRzLFwibG9jYWxLZXlJZFwiLGUsdCl9fTtpZigzIT09cy52ZXJzaW9uLmNoYXJDb2RlQXQoMCkpe3ZhciBjPW5ldyBFcnJvcihcIlBLQ1MjMTIgUEZYIG9mIHZlcnNpb24gb3RoZXIgdGhhbiAzIG5vdCBzdXBwb3J0ZWQuXCIpO3Rocm93IGMudmVyc2lvbj1zLnZlcnNpb24uY2hhckNvZGVBdCgwKSxjfWlmKGwuZGVyVG9PaWQocy5jb250ZW50VHlwZSkhPT1wLm9pZHMuZGF0YSl7dmFyIGM9bmV3IEVycm9yKFwiT25seSBQS0NTIzEyIFBGWCBpbiBwYXNzd29yZCBpbnRlZ3JpdHkgbW9kZSBzdXBwb3J0ZWQuXCIpO3Rocm93IGMub2lkPWwuZGVyVG9PaWQocy5jb250ZW50VHlwZSksY312YXIgeT1zLmNvbnRlbnQudmFsdWVbMF07aWYoeS50YWdDbGFzcyE9PWwuQ2xhc3MuVU5JVkVSU0FMfHx5LnR5cGUhPT1sLlR5cGUuT0NURVRTVFJJTkcpdGhyb3cgbmV3IEVycm9yKFwiUEtDUyMxMiBhdXRoU2FmZSBjb250ZW50IGRhdGEgaXMgbm90IGFuIE9DVEVUIFNUUklORy5cIik7aWYoeT1uKHkpLHMubWFjKXt2YXIgZz1udWxsLHY9MCxtPWwuZGVyVG9PaWQocy5tYWNBbGdvcml0aG0pO3N3aXRjaChtKXtjYXNlIHAub2lkcy5zaGExOmc9dS5tZC5zaGExLmNyZWF0ZSgpLHY9MjA7YnJlYWs7Y2FzZSBwLm9pZHMuc2hhMjU2Omc9dS5tZC5zaGEyNTYuY3JlYXRlKCksdj0zMjticmVhaztjYXNlIHAub2lkcy5zaGEzODQ6Zz11Lm1kLnNoYTM4NC5jcmVhdGUoKSx2PTQ4O2JyZWFrO2Nhc2UgcC5vaWRzLnNoYTUxMjpnPXUubWQuc2hhNTEyLmNyZWF0ZSgpLHY9NjQ7YnJlYWs7Y2FzZSBwLm9pZHMubWQ1Omc9dS5tZC5tZDUuY3JlYXRlKCksdj0xNn1pZihudWxsPT09Zyl0aHJvdyBuZXcgRXJyb3IoXCJQS0NTIzEyIHVzZXMgdW5zdXBwb3J0ZWQgTUFDIGFsZ29yaXRobTogXCIrbSk7dmFyIEM9bmV3IHUudXRpbC5CeXRlQnVmZmVyKHMubWFjU2FsdCksRT1cIm1hY0l0ZXJhdGlvbnNcImluIHM/cGFyc2VJbnQodS51dGlsLmJ5dGVzVG9IZXgocy5tYWNJdGVyYXRpb25zKSwxNik6MSxTPWguZ2VuZXJhdGVLZXkocixDLDMsRSx2LGcpLFQ9dS5obWFjLmNyZWF0ZSgpO1Quc3RhcnQoZyxTKSxULnVwZGF0ZSh5LnZhbHVlKTt2YXIgST1ULmdldE1hYygpO2lmKEkuZ2V0Qnl0ZXMoKSE9PXMubWFjRGlnZXN0KXRocm93IG5ldyBFcnJvcihcIlBLQ1MjMTIgTUFDIGNvdWxkIG5vdCBiZSB2ZXJpZmllZC4gSW52YWxpZCBwYXNzd29yZD9cIil9cmV0dXJuIGkoZix5LnZhbHVlLHQsciksZn0saC50b1BrY3MxMkFzbjE9ZnVuY3Rpb24oZSx0LHIsYSl7YT1hfHx7fSxhLnNhbHRTaXplPWEuc2FsdFNpemV8fDgsYS5jb3VudD1hLmNvdW50fHwyMDQ4LGEuYWxnb3JpdGhtPWEuYWxnb3JpdGhtfHxhLmVuY0FsZ29yaXRobXx8XCJhZXMxMjhcIixcInVzZU1hY1wiaW4gYXx8KGEudXNlTWFjPSEwKSxcImxvY2FsS2V5SWRcImluIGF8fChhLmxvY2FsS2V5SWQ9bnVsbCksXCJnZW5lcmF0ZUxvY2FsS2V5SWRcImluIGF8fChhLmdlbmVyYXRlTG9jYWxLZXlJZD0hMCk7dmFyIG4saT1hLmxvY2FsS2V5SWQ7aWYobnVsbCE9PWkpaT11LnV0aWwuaGV4VG9CeXRlcyhpKTtlbHNlIGlmKGEuZ2VuZXJhdGVMb2NhbEtleUlkKWlmKHQpe3ZhciBzPXUudXRpbC5pc0FycmF5KHQpP3RbMF06dDtcInN0cmluZ1wiPT10eXBlb2YgcyYmKHM9cC5jZXJ0aWZpY2F0ZUZyb21QZW0ocykpO3ZhciBvPXUubWQuc2hhMS5jcmVhdGUoKTtvLnVwZGF0ZShsLnRvRGVyKHAuY2VydGlmaWNhdGVUb0FzbjEocykpLmdldEJ5dGVzKCkpLGk9by5kaWdlc3QoKS5nZXRCeXRlcygpfWVsc2UgaT11LnJhbmRvbS5nZXRCeXRlcygyMCk7dmFyIGM9W107bnVsbCE9PWkmJmMucHVzaChsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5PSUQsITEsbC5vaWRUb0RlcihwLm9pZHMubG9jYWxLZXlJZCkuZ2V0Qnl0ZXMoKSksbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFVCwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9DVEVUU1RSSU5HLCExLGkpXSldKSksXCJmcmllbmRseU5hbWVcImluIGEmJmMucHVzaChsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5PSUQsITEsbC5vaWRUb0RlcihwLm9pZHMuZnJpZW5kbHlOYW1lKS5nZXRCeXRlcygpKSxsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VULCEwLFtsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuQk1QU1RSSU5HLCExLGEuZnJpZW5kbHlOYW1lKV0pXSkpLGMubGVuZ3RoPjAmJihuPWwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVQsITAsYykpO3ZhciBmPVtdLGQ9W107bnVsbCE9PXQmJihkPXUudXRpbC5pc0FycmF5KHQpP3Q6W3RdKTtmb3IodmFyIHk9W10sZz0wO2c8ZC5sZW5ndGg7KytnKXt0PWRbZ10sXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXAuY2VydGlmaWNhdGVGcm9tUGVtKHQpKTt2YXIgdj0wPT09Zz9uOnZvaWQgMCxtPXAuY2VydGlmaWNhdGVUb0FzbjEodCksQz1sLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5PSUQsITEsbC5vaWRUb0RlcihwLm9pZHMuY2VydEJhZykuZ2V0Qnl0ZXMoKSksbC5jcmVhdGUobC5DbGFzcy5DT05URVhUX1NQRUNJRklDLDAsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9JRCwhMSxsLm9pZFRvRGVyKHAub2lkcy54NTA5Q2VydGlmaWNhdGUpLmdldEJ5dGVzKCkpLGwuY3JlYXRlKGwuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQywwLCEwLFtsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuT0NURVRTVFJJTkcsITEsbC50b0RlcihtKS5nZXRCeXRlcygpKV0pXSldKSx2XSk7eS5wdXNoKEMpfWlmKHkubGVuZ3RoPjApe3ZhciBFPWwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCx5KSxTPWwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9JRCwhMSxsLm9pZFRvRGVyKHAub2lkcy5kYXRhKS5nZXRCeXRlcygpKSxsLmNyZWF0ZShsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMCwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9DVEVUU1RSSU5HLCExLGwudG9EZXIoRSkuZ2V0Qnl0ZXMoKSldKV0pO2YucHVzaChTKX12YXIgVD1udWxsO2lmKG51bGwhPT1lKXt2YXIgST1wLndyYXBSc2FQcml2YXRlS2V5KHAucHJpdmF0ZUtleVRvQXNuMShlKSk7VD1udWxsPT09cj9sLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5PSUQsITEsbC5vaWRUb0RlcihwLm9pZHMua2V5QmFnKS5nZXRCeXRlcygpKSxsLmNyZWF0ZShsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMCwhMCxbSV0pLG5dKTpsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5PSUQsITEsbC5vaWRUb0RlcihwLm9pZHMucGtjczhTaHJvdWRlZEtleUJhZykuZ2V0Qnl0ZXMoKSksbC5jcmVhdGUobC5DbGFzcy5DT05URVhUX1NQRUNJRklDLDAsITAsW3AuZW5jcnlwdFByaXZhdGVLZXlJbmZvKEkscixhKV0pLG5dKTt2YXIgQT1sLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW1RdKSxiPWwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9JRCwhMSxsLm9pZFRvRGVyKHAub2lkcy5kYXRhKS5nZXRCeXRlcygpKSxsLmNyZWF0ZShsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMCwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9DVEVUU1RSSU5HLCExLGwudG9EZXIoQSkuZ2V0Qnl0ZXMoKSldKV0pO2YucHVzaChiKX12YXIgQixOPWwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxmKTtpZihhLnVzZU1hYyl7dmFyIG89dS5tZC5zaGExLmNyZWF0ZSgpLGs9bmV3IHUudXRpbC5CeXRlQnVmZmVyKHUucmFuZG9tLmdldEJ5dGVzKGEuc2FsdFNpemUpKSxSPWEuY291bnQsZT1oLmdlbmVyYXRlS2V5KHIsaywzLFIsMjApLHc9dS5obWFjLmNyZWF0ZSgpO3cuc3RhcnQobyxlKSx3LnVwZGF0ZShsLnRvRGVyKE4pLmdldEJ5dGVzKCkpO3ZhciBMPXcuZ2V0TWFjKCk7Qj1sLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLlNFUVVFTkNFLCEwLFtsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuT0lELCExLGwub2lkVG9EZXIocC5vaWRzLnNoYTEpLmdldEJ5dGVzKCkpLGwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5OVUxMLCExLFwiXCIpXSksbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9DVEVUU1RSSU5HLCExLEwuZ2V0Qnl0ZXMoKSldKSxsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuT0NURVRTVFJJTkcsITEsay5nZXRCeXRlcygpKSxsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuSU5URUdFUiwhMSxsLmludGVnZXJUb0RlcihSKS5nZXRCeXRlcygpKV0pfXJldHVybiBsLmNyZWF0ZShsLkNsYXNzLlVOSVZFUlNBTCxsLlR5cGUuU0VRVUVOQ0UsITAsW2wuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5JTlRFR0VSLCExLGwuaW50ZWdlclRvRGVyKDMpLmdldEJ5dGVzKCkpLGwuY3JlYXRlKGwuQ2xhc3MuVU5JVkVSU0FMLGwuVHlwZS5TRVFVRU5DRSwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9JRCwhMSxsLm9pZFRvRGVyKHAub2lkcy5kYXRhKS5nZXRCeXRlcygpKSxsLmNyZWF0ZShsLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMCwhMCxbbC5jcmVhdGUobC5DbGFzcy5VTklWRVJTQUwsbC5UeXBlLk9DVEVUU1RSSU5HLCExLGwudG9EZXIoTikuZ2V0Qnl0ZXMoKSldKV0pLEJdKX0saC5nZW5lcmF0ZUtleT11LnBiZS5nZW5lcmF0ZVBrY3MxMktleX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXIoMCk7cigzKSxyKDEpO3ZhciBuPWEuYXNuMSxpPWUuZXhwb3J0cz1hLnBrY3M3YXNuMT1hLnBrY3M3YXNuMXx8e307YS5wa2NzNz1hLnBrY3M3fHx7fSxhLnBrY3M3LmFzbjE9aTt2YXIgcz17bmFtZTpcIkNvbnRlbnRJbmZvXCIsdGFnQ2xhc3M6bi5DbGFzcy5VTklWRVJTQUwsdHlwZTpuLlR5cGUuU0VRVUVOQ0UsY29uc3RydWN0ZWQ6ITAsdmFsdWU6W3tuYW1lOlwiQ29udGVudEluZm8uQ29udGVudFR5cGVcIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5PSUQsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcImNvbnRlbnRUeXBlXCJ9LHtuYW1lOlwiQ29udGVudEluZm8uY29udGVudFwiLHRhZ0NsYXNzOm4uQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQyx0eXBlOjAsY29uc3RydWN0ZWQ6ITAsb3B0aW9uYWw6ITAsY2FwdHVyZUFzbjE6XCJjb250ZW50XCJ9XX07aS5jb250ZW50SW5mb1ZhbGlkYXRvcj1zO3ZhciBvPXtuYW1lOlwiRW5jcnlwdGVkQ29udGVudEluZm9cIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJFbmNyeXB0ZWRDb250ZW50SW5mby5jb250ZW50VHlwZVwiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLk9JRCxjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwiY29udGVudFR5cGVcIn0se25hbWU6XCJFbmNyeXB0ZWRDb250ZW50SW5mby5jb250ZW50RW5jcnlwdGlvbkFsZ29yaXRobVwiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcIkVuY3J5cHRlZENvbnRlbnRJbmZvLmNvbnRlbnRFbmNyeXB0aW9uQWxnb3JpdGhtLmFsZ29yaXRobVwiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLk9JRCxjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwiZW5jQWxnb3JpdGhtXCJ9LHtuYW1lOlwiRW5jcnlwdGVkQ29udGVudEluZm8uY29udGVudEVuY3J5cHRpb25BbGdvcml0aG0ucGFyYW1ldGVyXCIsdGFnQ2xhc3M6bi5DbGFzcy5VTklWRVJTQUwsY2FwdHVyZUFzbjE6XCJlbmNQYXJhbWV0ZXJcIn1dfSx7bmFtZTpcIkVuY3J5cHRlZENvbnRlbnRJbmZvLmVuY3J5cHRlZENvbnRlbnRcIix0YWdDbGFzczpuLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsdHlwZTowLGNhcHR1cmU6XCJlbmNyeXB0ZWRDb250ZW50XCIsY2FwdHVyZUFzbjE6XCJlbmNyeXB0ZWRDb250ZW50QXNuMVwifV19O2kuZW52ZWxvcGVkRGF0YVZhbGlkYXRvcj17bmFtZTpcIkVudmVsb3BlZERhdGFcIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJFbnZlbG9wZWREYXRhLlZlcnNpb25cIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5JTlRFR0VSLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJ2ZXJzaW9uXCJ9LHtuYW1lOlwiRW52ZWxvcGVkRGF0YS5SZWNpcGllbnRJbmZvc1wiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLlNFVCxjb25zdHJ1Y3RlZDohMCxjYXB0dXJlQXNuMTpcInJlY2lwaWVudEluZm9zXCJ9XS5jb25jYXQobyl9LGkuZW5jcnlwdGVkRGF0YVZhbGlkYXRvcj17bmFtZTpcIkVuY3J5cHRlZERhdGFcIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJFbmNyeXB0ZWREYXRhLlZlcnNpb25cIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5JTlRFR0VSLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJ2ZXJzaW9uXCJ9XS5jb25jYXQobyl9O3ZhciBjPXtuYW1lOlwiU2lnbmVySW5mb1wiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcIlNpZ25lckluZm8udmVyc2lvblwiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLklOVEVHRVIsY29uc3RydWN0ZWQ6ITF9LHtuYW1lOlwiU2lnbmVySW5mby5pc3N1ZXJBbmRTZXJpYWxOdW1iZXJcIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJTaWduZXJJbmZvLmlzc3VlckFuZFNlcmlhbE51bWJlci5pc3N1ZXJcIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCxjYXB0dXJlQXNuMTpcImlzc3VlclwifSx7bmFtZTpcIlNpZ25lckluZm8uaXNzdWVyQW5kU2VyaWFsTnVtYmVyLnNlcmlhbE51bWJlclwiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLklOVEVHRVIsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcInNlcmlhbFwifV19LHtuYW1lOlwiU2lnbmVySW5mby5kaWdlc3RBbGdvcml0aG1cIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJTaWduZXJJbmZvLmRpZ2VzdEFsZ29yaXRobS5hbGdvcml0aG1cIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5PSUQsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcImRpZ2VzdEFsZ29yaXRobVwifSx7bmFtZTpcIlNpZ25lckluZm8uZGlnZXN0QWxnb3JpdGhtLnBhcmFtZXRlclwiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLGNvbnN0cnVjdGVkOiExLGNhcHR1cmVBc24xOlwiZGlnZXN0UGFyYW1ldGVyXCIsb3B0aW9uYWw6ITB9XX0se25hbWU6XCJTaWduZXJJbmZvLmF1dGhlbnRpY2F0ZWRBdHRyaWJ1dGVzXCIsdGFnQ2xhc3M6bi5DbGFzcy5DT05URVhUX1NQRUNJRklDLHR5cGU6MCxjb25zdHJ1Y3RlZDohMCxvcHRpb25hbDohMCxjYXB0dXJlOlwiYXV0aGVudGljYXRlZEF0dHJpYnV0ZXNcIn0se25hbWU6XCJTaWduZXJJbmZvLmRpZ2VzdEVuY3J5cHRpb25BbGdvcml0aG1cIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCxjYXB0dXJlOlwic2lnbmF0dXJlQWxnb3JpdGhtXCJ9LHtuYW1lOlwiU2lnbmVySW5mby5lbmNyeXB0ZWREaWdlc3RcIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5PQ1RFVFNUUklORyxjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwic2lnbmF0dXJlXCJ9LHtuYW1lOlwiU2lnbmVySW5mby51bmF1dGhlbnRpY2F0ZWRBdHRyaWJ1dGVzXCIsdGFnQ2xhc3M6bi5DbGFzcy5DT05URVhUX1NQRUNJRklDLHR5cGU6MSxjb25zdHJ1Y3RlZDohMCxvcHRpb25hbDohMCxjYXB0dXJlOlwidW5hdXRoZW50aWNhdGVkQXR0cmlidXRlc1wifV19O2kuc2lnbmVkRGF0YVZhbGlkYXRvcj17bmFtZTpcIlNpZ25lZERhdGFcIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJTaWduZWREYXRhLlZlcnNpb25cIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5JTlRFR0VSLGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJ2ZXJzaW9uXCJ9LHtuYW1lOlwiU2lnbmVkRGF0YS5EaWdlc3RBbGdvcml0aG1zXCIsdGFnQ2xhc3M6bi5DbGFzcy5VTklWRVJTQUwsdHlwZTpuLlR5cGUuU0VULGNvbnN0cnVjdGVkOiEwLGNhcHR1cmVBc24xOlwiZGlnZXN0QWxnb3JpdGhtc1wifSxzLHtuYW1lOlwiU2lnbmVkRGF0YS5DZXJ0aWZpY2F0ZXNcIix0YWdDbGFzczpuLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsdHlwZTowLG9wdGlvbmFsOiEwLGNhcHR1cmVBc24xOlwiY2VydGlmaWNhdGVzXCJ9LHtuYW1lOlwiU2lnbmVkRGF0YS5DZXJ0aWZpY2F0ZVJldm9jYXRpb25MaXN0c1wiLHRhZ0NsYXNzOm4uQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQyx0eXBlOjEsb3B0aW9uYWw6ITAsY2FwdHVyZUFzbjE6XCJjcmxzXCJ9LHtuYW1lOlwiU2lnbmVkRGF0YS5TaWduZXJJbmZvc1wiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLlNFVCxjYXB0dXJlOlwic2lnbmVySW5mb3NcIixvcHRpb25hbDohMCx2YWx1ZTpbY119XX0saS5yZWNpcGllbnRJbmZvVmFsaWRhdG9yPXtuYW1lOlwiUmVjaXBpZW50SW5mb1wiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcIlJlY2lwaWVudEluZm8udmVyc2lvblwiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLklOVEVHRVIsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcInZlcnNpb25cIn0se25hbWU6XCJSZWNpcGllbnRJbmZvLmlzc3VlckFuZFNlcmlhbFwiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLHZhbHVlOlt7bmFtZTpcIlJlY2lwaWVudEluZm8uaXNzdWVyQW5kU2VyaWFsLmlzc3VlclwiLHRhZ0NsYXNzOm4uQ2xhc3MuVU5JVkVSU0FMLHR5cGU6bi5UeXBlLlNFUVVFTkNFLGNvbnN0cnVjdGVkOiEwLGNhcHR1cmVBc24xOlwiaXNzdWVyXCJ9LHtuYW1lOlwiUmVjaXBpZW50SW5mby5pc3N1ZXJBbmRTZXJpYWwuc2VyaWFsTnVtYmVyXCIsdGFnQ2xhc3M6bi5DbGFzcy5VTklWRVJTQUwsdHlwZTpuLlR5cGUuSU5URUdFUixjb25zdHJ1Y3RlZDohMSxjYXB0dXJlOlwic2VyaWFsXCJ9XX0se25hbWU6XCJSZWNpcGllbnRJbmZvLmtleUVuY3J5cHRpb25BbGdvcml0aG1cIix0YWdDbGFzczpuLkNsYXNzLlVOSVZFUlNBTCx0eXBlOm4uVHlwZS5TRVFVRU5DRSxjb25zdHJ1Y3RlZDohMCx2YWx1ZTpbe25hbWU6XCJSZWNpcGllbnRJbmZvLmtleUVuY3J5cHRpb25BbGdvcml0aG0uYWxnb3JpdGhtXCIsdGFnQ2xhc3M6bi5DbGFzcy5VTklWRVJTQUwsdHlwZTpuLlR5cGUuT0lELGNvbnN0cnVjdGVkOiExLGNhcHR1cmU6XCJlbmNBbGdvcml0aG1cIn0se25hbWU6XCJSZWNpcGllbnRJbmZvLmtleUVuY3J5cHRpb25BbGdvcml0aG0ucGFyYW1ldGVyXCIsdGFnQ2xhc3M6bi5DbGFzcy5VTklWRVJTQUwsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZUFzbjE6XCJlbmNQYXJhbWV0ZXJcIn1dfSx7bmFtZTpcIlJlY2lwaWVudEluZm8uZW5jcnlwdGVkS2V5XCIsdGFnQ2xhc3M6bi5DbGFzcy5VTklWRVJTQUwsdHlwZTpuLlR5cGUuT0NURVRTVFJJTkcsY29uc3RydWN0ZWQ6ITEsY2FwdHVyZTpcImVuY0tleVwifV19fSxmdW5jdGlvbihlLHQscil7dmFyIGE9cigwKTtyKDMpLHIoNikscigyMikscig3KSxyKDE1KSxyKDI0KSxyKDE2KSxyKDExKSxyKDEpLHIoMTcpO3ZhciBuPWEuYXNuMSxpPWUuZXhwb3J0cz1hLnBraT1hLnBraXx8e307aS5wZW1Ub0Rlcj1mdW5jdGlvbihlKXt2YXIgdD1hLnBlbS5kZWNvZGUoZSlbMF07aWYodC5wcm9jVHlwZSYmXCJFTkNSWVBURURcIj09PXQucHJvY1R5cGUudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgY29udmVydCBQRU0gdG8gREVSOyBQRU0gaXMgZW5jcnlwdGVkLlwiKTtyZXR1cm4gYS51dGlsLmNyZWF0ZUJ1ZmZlcih0LmJvZHkpfSxpLnByaXZhdGVLZXlGcm9tUGVtPWZ1bmN0aW9uKGUpe3ZhciB0PWEucGVtLmRlY29kZShlKVswXTtpZihcIlBSSVZBVEUgS0VZXCIhPT10LnR5cGUmJlwiUlNBIFBSSVZBVEUgS0VZXCIhPT10LnR5cGUpe3ZhciByPW5ldyBFcnJvcignQ291bGQgbm90IGNvbnZlcnQgcHJpdmF0ZSBrZXkgZnJvbSBQRU07IFBFTSBoZWFkZXIgdHlwZSBpcyBub3QgXCJQUklWQVRFIEtFWVwiIG9yIFwiUlNBIFBSSVZBVEUgS0VZXCIuJyk7dGhyb3cgci5oZWFkZXJUeXBlPXQudHlwZSxyfWlmKHQucHJvY1R5cGUmJlwiRU5DUllQVEVEXCI9PT10LnByb2NUeXBlLnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGNvbnZlcnQgcHJpdmF0ZSBrZXkgZnJvbSBQRU07IFBFTSBpcyBlbmNyeXB0ZWQuXCIpO3ZhciBzPW4uZnJvbURlcih0LmJvZHkpO3JldHVybiBpLnByaXZhdGVLZXlGcm9tQXNuMShzKX0saS5wcml2YXRlS2V5VG9QZW09ZnVuY3Rpb24oZSx0KXt2YXIgcj17dHlwZTpcIlJTQSBQUklWQVRFIEtFWVwiLGJvZHk6bi50b0RlcihpLnByaXZhdGVLZXlUb0FzbjEoZSkpLmdldEJ5dGVzKCl9O3JldHVybiBhLnBlbS5lbmNvZGUocix7bWF4bGluZTp0fSl9LGkucHJpdmF0ZUtleUluZm9Ub1BlbT1mdW5jdGlvbihlLHQpe3ZhciByPXt0eXBlOlwiUFJJVkFURSBLRVlcIixib2R5Om4udG9EZXIoZSkuZ2V0Qnl0ZXMoKX07cmV0dXJuIGEucGVtLmVuY29kZShyLHttYXhsaW5lOnR9KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yKDApO3IoMSkscigxMykscigyKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSx0LGEsbil7cmV0dXJuXCJ3b3JrZXJzXCJpbiBhP2koZSx0LGEsbik6cihlLHQsYSxuKX1mdW5jdGlvbiByKGUsdCxyLGEpe3ZhciBpPXMoZSx0KSxjPTAsdT1vKGkuYml0TGVuZ3RoKCkpO1wibWlsbGVyUmFiaW5UZXN0c1wiaW4gciYmKHU9ci5taWxsZXJSYWJpblRlc3RzKTt2YXIgbD0xMDtcblwibWF4QmxvY2tUaW1lXCJpbiByJiYobD1yLm1heEJsb2NrVGltZSksbihpLGUsdCxjLHUsbCxhKX1mdW5jdGlvbiBuKGUsdCxyLGksbyxjLHUpe3ZhciBwPStuZXcgRGF0ZTtkb3tpZihlLmJpdExlbmd0aCgpPnQmJihlPXModCxyKSksZS5pc1Byb2JhYmxlUHJpbWUobykpcmV0dXJuIHUobnVsbCxlKTtlLmRBZGRPZmZzZXQobFtpKyslOF0sMCl9d2hpbGUoYzwwfHwrbmV3IERhdGUtcDxjKTthLnV0aWwuc2V0SW1tZWRpYXRlKGZ1bmN0aW9uKCl7bihlLHQscixpLG8sYyx1KX0pfWZ1bmN0aW9uIGkoZSx0LG4saSl7ZnVuY3Rpb24gbygpe2Z1bmN0aW9uIHIocil7aWYoIWQpey0tbzt2YXIgbj1yLmRhdGE7aWYobi5mb3VuZCl7Zm9yKHZhciBsPTA7bDxhLmxlbmd0aDsrK2wpYVtsXS50ZXJtaW5hdGUoKTtyZXR1cm4gZD0hMCxpKG51bGwsbmV3IHUobi5wcmltZSwxNikpfWMuYml0TGVuZ3RoKCk+ZSYmKGM9cyhlLHQpKTt2YXIgZj1jLnRvU3RyaW5nKDE2KTtyLnRhcmdldC5wb3N0TWVzc2FnZSh7aGV4OmYsd29ya0xvYWQ6cH0pLGMuZEFkZE9mZnNldChoLDApfX1sPU1hdGgubWF4KDEsbCk7Zm9yKHZhciBhPVtdLG49MDtuPGw7KytuKWFbbl09bmV3IFdvcmtlcihmKTtmb3IodmFyIG89bCxuPTA7bjxsOysrbilhW25dLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIscik7dmFyIGQ9ITF9aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFdvcmtlcilyZXR1cm4gcihlLHQsbixpKTt2YXIgYz1zKGUsdCksbD1uLndvcmtlcnMscD1uLndvcmtMb2FkfHwxMDAsaD0zMCpwLzgsZj1uLndvcmtlclNjcmlwdHx8XCJmb3JnZS9wcmltZS53b3JrZXIuanNcIjtyZXR1cm4gbD09PS0xP2EudXRpbC5lc3RpbWF0ZUNvcmVzKGZ1bmN0aW9uKGUsdCl7ZSYmKHQ9MiksbD10LTEsbygpfSk6dm9pZCBvKCl9ZnVuY3Rpb24gcyhlLHQpe3ZhciByPW5ldyB1KGUsdCksYT1lLTE7cmV0dXJuIHIudGVzdEJpdChhKXx8ci5iaXR3aXNlVG8odS5PTkUuc2hpZnRMZWZ0KGEpLGgsciksci5kQWRkT2Zmc2V0KDMxLXIubW9kKHApLmJ5dGVWYWx1ZSgpLDApLHJ9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZTw9MTAwPzI3OmU8PTE1MD8xODplPD0yMDA/MTU6ZTw9MjUwPzEyOmU8PTMwMD85OmU8PTM1MD84OmU8PTQwMD83OmU8PTUwMD82OmU8PTYwMD81OmU8PTgwMD80OmU8PTEyNTA/MzoyfWlmKGEucHJpbWUpcmV0dXJuIHZvaWQoZS5leHBvcnRzPWEucHJpbWUpO3ZhciBjPWUuZXhwb3J0cz1hLnByaW1lPWEucHJpbWV8fHt9LHU9YS5qc2JuLkJpZ0ludGVnZXIsbD1bNiw0LDIsNCwyLDQsNiwyXSxwPW5ldyB1KG51bGwpO3AuZnJvbUludCgzMCk7dmFyIGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZXx0fTtjLmdlbmVyYXRlUHJvYmFibGVQcmltZT1mdW5jdGlvbihlLHIsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKG49cixyPXt9KSxyPXJ8fHt9O3ZhciBpPXIuYWxnb3JpdGhtfHxcIlBSSU1FSU5DXCI7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPXtuYW1lOml9KSxpLm9wdGlvbnM9aS5vcHRpb25zfHx7fTt2YXIgcz1yLnBybmd8fGEucmFuZG9tLG89e25leHRCeXRlczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9cy5nZXRCeXRlc1N5bmMoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrcillW3JdPXQuY2hhckNvZGVBdChyKX19O2lmKFwiUFJJTUVJTkNcIj09PWkubmFtZSlyZXR1cm4gdChlLG8saS5vcHRpb25zLG4pO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJpbWUgZ2VuZXJhdGlvbiBhbGdvcml0aG06IFwiK2kubmFtZSl9fSgpfSxmdW5jdGlvbihlLHQscil7dmFyIGE9cigwKTtyKDEpO3ZhciBuPW51bGw7IWEudXRpbC5pc05vZGVqc3x8YS5vcHRpb25zLnVzZVB1cmVKYXZhU2NyaXB0fHxwcm9jZXNzLnZlcnNpb25zW1wibm9kZS13ZWJraXRcIl18fChuPXIoMzIpKTt2YXIgaT1lLmV4cG9ydHM9YS5wcm5nPWEucHJuZ3x8e307aS5jcmVhdGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtpZihvLnBvb2xzWzBdLm1lc3NhZ2VMZW5ndGg+PTMyKXJldHVybiBpKCksZSgpO3ZhciB0PTMyLW8ucG9vbHNbMF0ubWVzc2FnZUxlbmd0aDw8NTtvLnNlZWRGaWxlKHQsZnVuY3Rpb24odCxyKXtyZXR1cm4gdD9lKHQpOihvLmNvbGxlY3QociksaSgpLHZvaWQgZSgpKX0pfWZ1bmN0aW9uIHIoKXtpZihvLnBvb2xzWzBdLm1lc3NhZ2VMZW5ndGg+PTMyKXJldHVybiBpKCk7dmFyIGU9MzItby5wb29sc1swXS5tZXNzYWdlTGVuZ3RoPDw1O28uY29sbGVjdChvLnNlZWRGaWxlU3luYyhlKSksaSgpfWZ1bmN0aW9uIGkoKXt2YXIgZT1vLnBsdWdpbi5tZC5jcmVhdGUoKTtlLnVwZGF0ZShvLnBvb2xzWzBdLmRpZ2VzdCgpLmdldEJ5dGVzKCkpLG8ucG9vbHNbMF0uc3RhcnQoKTtmb3IodmFyIHQ9MSxyPTE7cjwzMjsrK3IpdD0zMT09PXQ/MjE0NzQ4MzY0ODp0PDwyLHQlby5yZXNlZWRzPT09MCYmKGUudXBkYXRlKG8ucG9vbHNbcl0uZGlnZXN0KCkuZ2V0Qnl0ZXMoKSksby5wb29sc1tyXS5zdGFydCgpKTt2YXIgYT1lLmRpZ2VzdCgpLmdldEJ5dGVzKCk7ZS5zdGFydCgpLGUudXBkYXRlKGEpO3ZhciBuPWUuZGlnZXN0KCkuZ2V0Qnl0ZXMoKTtvLmtleT1vLnBsdWdpbi5mb3JtYXRLZXkoYSksby5zZWVkPW8ucGx1Z2luLmZvcm1hdFNlZWQobiksby5yZXNlZWRzPTQyOTQ5NjcyOTU9PT1vLnJlc2VlZHM/MDpvLnJlc2VlZHMrMSxvLmdlbmVyYXRlZD0wfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9bnVsbDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgcj13aW5kb3cuY3J5cHRvfHx3aW5kb3cubXNDcnlwdG87ciYmci5nZXRSYW5kb21WYWx1ZXMmJih0PWZ1bmN0aW9uKGUpe3JldHVybiByLmdldFJhbmRvbVZhbHVlcyhlKX0pfXZhciBuPWEudXRpbC5jcmVhdGVCdWZmZXIoKTtpZih0KWZvcig7bi5sZW5ndGgoKTxlOyl7dmFyIGk9TWF0aC5tYXgoMSxNYXRoLm1pbihlLW4ubGVuZ3RoKCksNjU1MzYpLzQpLHM9bmV3IFVpbnQzMkFycmF5KE1hdGguZmxvb3IoaSkpO3RyeXt0KHMpO2Zvcih2YXIgbz0wO288cy5sZW5ndGg7KytvKW4ucHV0SW50MzIoc1tvXSl9Y2F0Y2goZSl7aWYoIShcInVuZGVmaW5lZFwiIT10eXBlb2YgUXVvdGFFeGNlZWRlZEVycm9yJiZlIGluc3RhbmNlb2YgUXVvdGFFeGNlZWRlZEVycm9yKSl0aHJvdyBlfX1pZihuLmxlbmd0aCgpPGUpZm9yKHZhciBjLHUsbCxwPU1hdGguZmxvb3IoNjU1MzYqTWF0aC5yYW5kb20oKSk7bi5sZW5ndGgoKTxlOyl7dT0xNjgwNyooNjU1MzUmcCksYz0xNjgwNyoocD4+MTYpLHUrPSgzMjc2NyZjKTw8MTYsdSs9Yz4+MTUsdT0oMjE0NzQ4MzY0NyZ1KSsodT4+MzEpLHA9NDI5NDk2NzI5NSZ1O2Zvcih2YXIgbz0wO288MzsrK28pbD1wPj4+KG88PDMpLGxePU1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpLG4ucHV0Qnl0ZShTdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZsKSl9cmV0dXJuIG4uZ2V0Qnl0ZXMoZSl9Zm9yKHZhciBvPXtwbHVnaW46ZSxrZXk6bnVsbCxzZWVkOm51bGwsdGltZTpudWxsLHJlc2VlZHM6MCxnZW5lcmF0ZWQ6MH0sYz1lLm1kLHU9bmV3IEFycmF5KDMyKSxsPTA7bDwzMjsrK2wpdVtsXT1jLmNyZWF0ZSgpO3JldHVybiBvLnBvb2xzPXUsby5wb29sPTAsby5nZW5lcmF0ZT1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIG4ocCl7aWYocClyZXR1cm4gcihwKTtpZihsLmxlbmd0aCgpPj1lKXJldHVybiByKG51bGwsbC5nZXRCeXRlcyhlKSk7aWYoby5nZW5lcmF0ZWQ+MTA0ODU3NSYmKG8ua2V5PW51bGwpLG51bGw9PT1vLmtleSlyZXR1cm4gYS51dGlsLm5leHRUaWNrKGZ1bmN0aW9uKCl7dChuKX0pO3ZhciBoPWkoby5rZXksby5zZWVkKTtvLmdlbmVyYXRlZCs9aC5sZW5ndGgsbC5wdXRCeXRlcyhoKSxvLmtleT1jKGkoby5rZXkscyhvLnNlZWQpKSksby5zZWVkPXUoaShvLmtleSxvLnNlZWQpKSxhLnV0aWwuc2V0SW1tZWRpYXRlKG4pfWlmKCFyKXJldHVybiBvLmdlbmVyYXRlU3luYyhlKTt2YXIgaT1vLnBsdWdpbi5jaXBoZXIscz1vLnBsdWdpbi5pbmNyZW1lbnQsYz1vLnBsdWdpbi5mb3JtYXRLZXksdT1vLnBsdWdpbi5mb3JtYXRTZWVkLGw9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO28ua2V5PW51bGwsbigpfSxvLmdlbmVyYXRlU3luYz1mdW5jdGlvbihlKXt2YXIgdD1vLnBsdWdpbi5jaXBoZXIsbj1vLnBsdWdpbi5pbmNyZW1lbnQsaT1vLnBsdWdpbi5mb3JtYXRLZXkscz1vLnBsdWdpbi5mb3JtYXRTZWVkO28ua2V5PW51bGw7Zm9yKHZhciBjPWEudXRpbC5jcmVhdGVCdWZmZXIoKTtjLmxlbmd0aCgpPGU7KXtvLmdlbmVyYXRlZD4xMDQ4NTc1JiYoby5rZXk9bnVsbCksbnVsbD09PW8ua2V5JiZyKCk7dmFyIHU9dChvLmtleSxvLnNlZWQpO28uZ2VuZXJhdGVkKz11Lmxlbmd0aCxjLnB1dEJ5dGVzKHUpLG8ua2V5PWkodChvLmtleSxuKG8uc2VlZCkpKSxvLnNlZWQ9cyh0KG8ua2V5LG8uc2VlZCkpfXJldHVybiBjLmdldEJ5dGVzKGUpfSxuPyhvLnNlZWRGaWxlPWZ1bmN0aW9uKGUsdCl7bi5yYW5kb21CeXRlcyhlLGZ1bmN0aW9uKGUscil7cmV0dXJuIGU/dChlKTp2b2lkIHQobnVsbCxyLnRvU3RyaW5nKCkpfSl9LG8uc2VlZEZpbGVTeW5jPWZ1bmN0aW9uKGUpe3JldHVybiBuLnJhbmRvbUJ5dGVzKGUpLnRvU3RyaW5nKCl9KTooby5zZWVkRmlsZT1mdW5jdGlvbihlLHQpe3RyeXt0KG51bGwscyhlKSl9Y2F0Y2goZSl7dChlKX19LG8uc2VlZEZpbGVTeW5jPXMpLG8uY29sbGVjdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgscj0wO3I8dDsrK3Ipby5wb29sc1tvLnBvb2xdLnVwZGF0ZShlLnN1YnN0cihyLDEpKSxvLnBvb2w9MzE9PT1vLnBvb2w/MDpvLnBvb2wrMX0sby5jb2xsZWN0SW50PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVwiXCIsYT0wO2E8dDthKz04KXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoZT4+YSYyNTUpO28uY29sbGVjdChyKX0sby5yZWdpc3Rlcldvcmtlcj1mdW5jdGlvbihlKXtpZihlPT09c2VsZilvLnNlZWRGaWxlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlKXt2YXIgYT1lLmRhdGE7YS5mb3JnZSYmYS5mb3JnZS5wcm5nJiYoc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHIpLHQoYS5mb3JnZS5wcm5nLmVycixhLmZvcmdlLnBybmcuYnl0ZXMpKX1zZWxmLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsciksc2VsZi5wb3N0TWVzc2FnZSh7Zm9yZ2U6e3Bybmc6e25lZWRlZDplfX19KX07ZWxzZXt2YXIgdD1mdW5jdGlvbih0KXt2YXIgcj10LmRhdGE7ci5mb3JnZSYmci5mb3JnZS5wcm5nJiZvLnNlZWRGaWxlKHIuZm9yZ2UucHJuZy5uZWVkZWQsZnVuY3Rpb24odCxyKXtlLnBvc3RNZXNzYWdlKHtmb3JnZTp7cHJuZzp7ZXJyOnQsYnl0ZXM6cn19fSl9KX07ZS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHQpfX0sb319LGZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yKDApO3IoMSk7dmFyIG49WzIxNywxMjAsMjQ5LDE5NiwyNSwyMjEsMTgxLDIzNyw0MCwyMzMsMjUzLDEyMSw3NCwxNjAsMjE2LDE1NywxOTgsMTI2LDU1LDEzMSw0MywxMTgsODMsMTQyLDk4LDc2LDEwMCwxMzYsNjgsMTM5LDI1MSwxNjIsMjMsMTU0LDg5LDI0NSwxMzUsMTc5LDc5LDE5LDk3LDY5LDEwOSwxNDEsOSwxMjksMTI1LDUwLDE4OSwxNDMsNjQsMjM1LDEzNCwxODMsMTIzLDExLDI0MCwxNDksMzMsMzQsOTIsMTA3LDc4LDEzMCw4NCwyMTQsMTAxLDE0NywyMDYsOTYsMTc4LDI4LDExNSw4NiwxOTIsMjAsMTY3LDE0MCwyNDEsMjIwLDE4LDExNywyMDIsMzEsNTksMTkwLDIyOCwyMDksNjYsNjEsMjEyLDQ4LDE2Myw2MCwxODIsMzgsMTExLDE5MSwxNCwyMTgsNzAsMTA1LDcsODcsMzksMjQyLDI5LDE1NSwxODgsMTQ4LDY3LDMsMjQ4LDE3LDE5OSwyNDYsMTQ0LDIzOSw2MiwyMzEsNiwxOTUsMjEzLDQ3LDIwMCwxMDIsMzAsMjE1LDgsMjMyLDIzNCwyMjIsMTI4LDgyLDIzOCwyNDcsMTMyLDE3MCwxMTQsMTcyLDUzLDc3LDEwNiw0MiwxNTAsMjYsMjEwLDExMyw5MCwyMSw3MywxMTYsNzUsMTU5LDIwOCw5NCw0LDI0LDE2NCwyMzYsMTk0LDIyNCw2NSwxMTAsMTUsODEsMjAzLDIwNCwzNiwxNDUsMTc1LDgwLDE2MSwyNDQsMTEyLDU3LDE1MywxMjQsNTgsMTMzLDM1LDE4NCwxODAsMTIyLDI1MiwyLDU0LDkxLDM3LDg1LDE1MSw0OSw0NSw5MywyNTAsMTUyLDIyNywxMzgsMTQ2LDE3NCw1LDIyMyw0MSwxNiwxMDMsMTA4LDE4NiwyMDEsMjExLDAsMjMwLDIwNywyMjUsMTU4LDE2OCw0NCw5OSwyMiwxLDYzLDg4LDIyNiwxMzcsMTY5LDEzLDU2LDUyLDI3LDE3MSw1MSwyNTUsMTc2LDE4Nyw3MiwxMiw5NSwxODUsMTc3LDIwNSw0NiwxOTcsMjQzLDIxOSw3MSwyMjksMTY1LDE1NiwxMTksMTAsMTY2LDMyLDEwNCwyNTQsMTI3LDE5MywxNzNdLGk9WzEsMiwzLDVdLHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTw8dCY2NTUzNXwoNjU1MzUmZSk+PjE2LXR9LG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4oNjU1MzUmZSk+PnR8ZTw8MTYtdCY2NTUzNX07ZS5leHBvcnRzPWEucmMyPWEucmMyfHx7fSxhLnJjMi5leHBhbmRLZXk9ZnVuY3Rpb24oZSx0KXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9YS51dGlsLmNyZWF0ZUJ1ZmZlcihlKSksdD10fHwxMjg7dmFyIHIsaT1lLHM9ZS5sZW5ndGgoKSxvPXQsYz1NYXRoLmNlaWwoby84KSx1PTI1NT4+KDcmbyk7Zm9yKHI9cztyPDEyODtyKyspaS5wdXRCeXRlKG5baS5hdChyLTEpK2kuYXQoci1zKSYyNTVdKTtmb3IoaS5zZXRBdCgxMjgtYyxuW2kuYXQoMTI4LWMpJnVdKSxyPTEyNy1jO3I+PTA7ci0tKWkuc2V0QXQocixuW2kuYXQocisxKV5pLmF0KHIrYyldKTtyZXR1cm4gaX07dmFyIGM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGMsdSxsLHA9ITEsaD1udWxsLGY9bnVsbCxkPW51bGwseT1bXTtmb3IoZT1hLnJjMi5leHBhbmRLZXkoZSx0KSx1PTA7dTw2NDt1KyspeS5wdXNoKGUuZ2V0SW50MTZMZSgpKTtyPyhuPWZ1bmN0aW9uKGUpe2Zvcih1PTA7dTw0O3UrKyllW3VdKz15W2xdKyhlWyh1KzMpJTRdJmVbKHUrMiklNF0pKyh+ZVsodSszKSU0XSZlWyh1KzEpJTRdKSxlW3VdPXMoZVt1XSxpW3VdKSxsKyt9LGM9ZnVuY3Rpb24oZSl7Zm9yKHU9MDt1PDQ7dSsrKWVbdV0rPXlbNjMmZVsodSszKSU0XV19KToobj1mdW5jdGlvbihlKXtmb3IodT0zO3U+PTA7dS0tKWVbdV09byhlW3VdLGlbdV0pLGVbdV0tPXlbbF0rKGVbKHUrMyklNF0mZVsodSsyKSU0XSkrKH5lWyh1KzMpJTRdJmVbKHUrMSklNF0pLGwtLX0sYz1mdW5jdGlvbihlKXtmb3IodT0zO3U+PTA7dS0tKWVbdV0tPXlbNjMmZVsodSszKSU0XV19KTt2YXIgZz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodT0wO3U8NDt1Kyspe3ZhciBhPWguZ2V0SW50MTZMZSgpO251bGwhPT1kJiYocj9hXj1kLmdldEludDE2TGUoKTpkLnB1dEludDE2TGUoYSkpLHQucHVzaCg2NTUzNSZhKX1sPXI/MDo2Mztmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylmb3IodmFyIGk9MDtpPGVbbl1bMF07aSsrKWVbbl1bMV0odCk7Zm9yKHU9MDt1PDQ7dSsrKW51bGwhPT1kJiYocj9kLnB1dEludDE2TGUodFt1XSk6dFt1XV49ZC5nZXRJbnQxNkxlKCkpLGYucHV0SW50MTZMZSh0W3VdKX0sdj1udWxsO3JldHVybiB2PXtzdGFydDpmdW5jdGlvbihlLHQpe2UmJlwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1hLnV0aWwuY3JlYXRlQnVmZmVyKGUpKSxwPSExLGg9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpLGY9dHx8bmV3IGEudXRpbC5jcmVhdGVCdWZmZXIsZD1lLHYub3V0cHV0PWZ9LHVwZGF0ZTpmdW5jdGlvbihlKXtmb3IocHx8aC5wdXRCdWZmZXIoZSk7aC5sZW5ndGgoKT49ODspZyhbWzUsbl0sWzEsY10sWzYsbl0sWzEsY10sWzUsbl1dKX0sZmluaXNoOmZ1bmN0aW9uKGUpe3ZhciB0PSEwO2lmKHIpaWYoZSl0PWUoOCxoLCFyKTtlbHNle3ZhciBhPTg9PT1oLmxlbmd0aCgpPzg6OC1oLmxlbmd0aCgpO2guZmlsbFdpdGhCeXRlKGEsYSl9aWYodCYmKHA9ITAsdi51cGRhdGUoKSksIXImJih0PTA9PT1oLmxlbmd0aCgpKSlpZihlKXQ9ZSg4LGYsIXIpO2Vsc2V7dmFyIG49Zi5sZW5ndGgoKSxpPWYuYXQobi0xKTtpPm4/dD0hMTpmLnRydW5jYXRlKGkpfXJldHVybiB0fX19O2EucmMyLnN0YXJ0RW5jcnlwdGluZz1mdW5jdGlvbihlLHQscil7dmFyIG49YS5yYzIuY3JlYXRlRW5jcnlwdGlvbkNpcGhlcihlLDEyOCk7cmV0dXJuIG4uc3RhcnQodCxyKSxufSxhLnJjMi5jcmVhdGVFbmNyeXB0aW9uQ2lwaGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSx0LCEwKX0sYS5yYzIuc3RhcnREZWNyeXB0aW5nPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1hLnJjMi5jcmVhdGVEZWNyeXB0aW9uQ2lwaGVyKGUsMTI4KTtyZXR1cm4gbi5zdGFydCh0LHIpLG59LGEucmMyLmNyZWF0ZURlY3J5cHRpb25DaXBoZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlLHQsITEpfX0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGEoKXtvPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI4KSxvKz1pLnV0aWwuZmlsbFN0cmluZyhTdHJpbmcuZnJvbUNoYXJDb2RlKDApLDY0KSx1PVsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdLGM9ITB9ZnVuY3Rpb24gbihlLHQscil7Zm9yKHZhciBhLG4saSxzLG8sYyxsLHAsaCxmLGQseSxnLHYsbSxDPXIubGVuZ3RoKCk7Qz49NjQ7KXtmb3IobD0wO2w8MTY7KytsKXRbbF09ci5nZXRJbnQzMigpO2Zvcig7bDw2NDsrK2wpYT10W2wtMl0sYT0oYT4+PjE3fGE8PDE1KV4oYT4+PjE5fGE8PDEzKV5hPj4+MTAsbj10W2wtMTVdLG49KG4+Pj43fG48PDI1KV4obj4+PjE4fG48PDE0KV5uPj4+Myx0W2xdPWErdFtsLTddK24rdFtsLTE2XXwwO2ZvcihwPWUuaDAsaD1lLmgxLGY9ZS5oMixkPWUuaDMseT1lLmg0LGc9ZS5oNSx2PWUuaDYsbT1lLmg3LGw9MDtsPDY0OysrbClzPSh5Pj4+Nnx5PDwyNileKHk+Pj4xMXx5PDwyMSleKHk+Pj4yNXx5PDw3KSxvPXZeeSYoZ152KSxpPShwPj4+MnxwPDwzMCleKHA+Pj4xM3xwPDwxOSleKHA+Pj4yMnxwPDwxMCksYz1wJmh8ZiYocF5oKSxhPW0rcytvK3VbbF0rdFtsXSxuPWkrYyxtPXYsdj1nLGc9eSx5PWQrYT4+PjAsZD1mLGY9aCxoPXAscD1hK24+Pj4wO2UuaDA9ZS5oMCtwfDAsZS5oMT1lLmgxK2h8MCxlLmgyPWUuaDIrZnwwLGUuaDM9ZS5oMytkfDAsZS5oND1lLmg0K3l8MCxlLmg1PWUuaDUrZ3wwLGUuaDY9ZS5oNit2fDAsZS5oNz1lLmg3K218MCxDLT02NH19dmFyIGk9cigwKTtyKDQpLHIoMSk7dmFyIHM9ZS5leHBvcnRzPWkuc2hhMjU2PWkuc2hhMjU2fHx7fTtpLm1kLnNoYTI1Nj1pLm1kLmFsZ29yaXRobXMuc2hhMjU2PXMscy5jcmVhdGU9ZnVuY3Rpb24oKXtjfHxhKCk7dmFyIGU9bnVsbCx0PWkudXRpbC5jcmVhdGVCdWZmZXIoKSxyPW5ldyBBcnJheSg2NCkscz17YWxnb3JpdGhtOlwic2hhMjU2XCIsYmxvY2tMZW5ndGg6NjQsZGlnZXN0TGVuZ3RoOjMyLG1lc3NhZ2VMZW5ndGg6MCxmdWxsTWVzc2FnZUxlbmd0aDpudWxsLG1lc3NhZ2VMZW5ndGhTaXplOjh9O3JldHVybiBzLnN0YXJ0PWZ1bmN0aW9uKCl7cy5tZXNzYWdlTGVuZ3RoPTAscy5mdWxsTWVzc2FnZUxlbmd0aD1zLm1lc3NhZ2VMZW5ndGg2ND1bXTtmb3IodmFyIHI9cy5tZXNzYWdlTGVuZ3RoU2l6ZS80LGE9MDthPHI7KythKXMuZnVsbE1lc3NhZ2VMZW5ndGgucHVzaCgwKTtyZXR1cm4gdD1pLnV0aWwuY3JlYXRlQnVmZmVyKCksZT17aDA6MTc3OTAzMzcwMyxoMTozMTQ0MTM0Mjc3LGgyOjEwMTM5MDQyNDIsaDM6Mjc3MzQ4MDc2MixoNDoxMzU5ODkzMTE5LGg1OjI2MDA4MjI5MjQsaDY6NTI4NzM0NjM1LGg3OjE1NDE0NTkyMjV9LHN9LHMuc3RhcnQoKSxzLnVwZGF0ZT1mdW5jdGlvbihhLG8pe1widXRmOFwiPT09byYmKGE9aS51dGlsLmVuY29kZVV0ZjgoYSkpO3ZhciBjPWEubGVuZ3RoO3MubWVzc2FnZUxlbmd0aCs9YyxjPVtjLzQyOTQ5NjcyOTY+Pj4wLGM+Pj4wXTtmb3IodmFyIHU9cy5mdWxsTWVzc2FnZUxlbmd0aC5sZW5ndGgtMTt1Pj0wOy0tdSlzLmZ1bGxNZXNzYWdlTGVuZ3RoW3VdKz1jWzFdLGNbMV09Y1swXSsocy5mdWxsTWVzc2FnZUxlbmd0aFt1XS80Mjk0OTY3Mjk2Pj4+MCkscy5mdWxsTWVzc2FnZUxlbmd0aFt1XT1zLmZ1bGxNZXNzYWdlTGVuZ3RoW3VdPj4+MCxjWzBdPWNbMV0vNDI5NDk2NzI5Nj4+PjA7cmV0dXJuIHQucHV0Qnl0ZXMoYSksbihlLHIsdCksKHQucmVhZD4yMDQ4fHwwPT09dC5sZW5ndGgoKSkmJnQuY29tcGFjdCgpLHN9LHMuZGlnZXN0PWZ1bmN0aW9uKCl7dmFyIGE9aS51dGlsLmNyZWF0ZUJ1ZmZlcigpO2EucHV0Qnl0ZXModC5ieXRlcygpKTt2YXIgYz1zLmZ1bGxNZXNzYWdlTGVuZ3RoW3MuZnVsbE1lc3NhZ2VMZW5ndGgubGVuZ3RoLTFdK3MubWVzc2FnZUxlbmd0aFNpemUsdT1jJnMuYmxvY2tMZW5ndGgtMTthLnB1dEJ5dGVzKG8uc3Vic3RyKDAscy5ibG9ja0xlbmd0aC11KSk7Zm9yKHZhciBsLHAsaD04KnMuZnVsbE1lc3NhZ2VMZW5ndGhbMF0sZj0wO2Y8cy5mdWxsTWVzc2FnZUxlbmd0aC5sZW5ndGgtMTsrK2YpbD04KnMuZnVsbE1lc3NhZ2VMZW5ndGhbZisxXSxwPWwvNDI5NDk2NzI5Nj4+PjAsaCs9cCxhLnB1dEludDMyKGg+Pj4wKSxoPWw+Pj4wO2EucHV0SW50MzIoaCk7dmFyIGQ9e2gwOmUuaDAsaDE6ZS5oMSxoMjplLmgyLGgzOmUuaDMsaDQ6ZS5oNCxoNTplLmg1LGg2OmUuaDYsaDc6ZS5oN307bihkLHIsYSk7dmFyIHk9aS51dGlsLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiB5LnB1dEludDMyKGQuaDApLHkucHV0SW50MzIoZC5oMSkseS5wdXRJbnQzMihkLmgyKSx5LnB1dEludDMyKGQuaDMpLHkucHV0SW50MzIoZC5oNCkseS5wdXRJbnQzMihkLmg1KSx5LnB1dEludDMyKGQuaDYpLHkucHV0SW50MzIoZC5oNykseX0sc307dmFyIG89bnVsbCxjPSExLHU9bnVsbH0sZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXIoMCk7cigzKSxyKDgpLHIoMTQpLHIoNykscigyNikscigyKSxyKDkpLHIoMSk7dmFyIG49ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpLHM9ZS5sZW5ndGg+PjEsbz1zKygxJmUubGVuZ3RoKSxjPWUuc3Vic3RyKDAsbyksdT1lLnN1YnN0cihzLG8pLGw9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpLHA9YS5obWFjLmNyZWF0ZSgpO3I9dCtyO3ZhciBoPU1hdGguY2VpbChuLzE2KSxmPU1hdGguY2VpbChuLzIwKTtwLnN0YXJ0KFwiTUQ1XCIsYyk7dmFyIGQ9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO2wucHV0Qnl0ZXMocik7Zm9yKHZhciB5PTA7eTxoOysreSlwLnN0YXJ0KG51bGwsbnVsbCkscC51cGRhdGUobC5nZXRCeXRlcygpKSxsLnB1dEJ1ZmZlcihwLmRpZ2VzdCgpKSxwLnN0YXJ0KG51bGwsbnVsbCkscC51cGRhdGUobC5ieXRlcygpK3IpLGQucHV0QnVmZmVyKHAuZGlnZXN0KCkpO3Auc3RhcnQoXCJTSEExXCIsdSk7dmFyIGc9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO2wuY2xlYXIoKSxsLnB1dEJ5dGVzKHIpO2Zvcih2YXIgeT0wO3k8ZjsrK3kpcC5zdGFydChudWxsLG51bGwpLHAudXBkYXRlKGwuZ2V0Qnl0ZXMoKSksbC5wdXRCdWZmZXIocC5kaWdlc3QoKSkscC5zdGFydChudWxsLG51bGwpLHAudXBkYXRlKGwuYnl0ZXMoKStyKSxnLnB1dEJ1ZmZlcihwLmRpZ2VzdCgpKTtyZXR1cm4gaS5wdXRCeXRlcyhhLnV0aWwueG9yQnl0ZXMoZC5nZXRCeXRlcygpLGcuZ2V0Qnl0ZXMoKSxuKSksaX0saT1mdW5jdGlvbihlLHQscil7dmFyIG49YS5obWFjLmNyZWF0ZSgpO24uc3RhcnQoXCJTSEExXCIsZSk7dmFyIGk9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiBpLnB1dEludDMyKHRbMF0pLGkucHV0SW50MzIodFsxXSksaS5wdXRCeXRlKHIudHlwZSksaS5wdXRCeXRlKHIudmVyc2lvbi5tYWpvciksaS5wdXRCeXRlKHIudmVyc2lvbi5taW5vciksaS5wdXRJbnQxNihyLmxlbmd0aCksaS5wdXRCeXRlcyhyLmZyYWdtZW50LmJ5dGVzKCkpLG4udXBkYXRlKGkuZ2V0Qnl0ZXMoKSksbi5kaWdlc3QoKS5nZXRCeXRlcygpfSxzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0hMTt0cnl7dmFyIGk9ZS5kZWZsYXRlKHQuZnJhZ21lbnQuZ2V0Qnl0ZXMoKSk7dC5mcmFnbWVudD1hLnV0aWwuY3JlYXRlQnVmZmVyKGkpLHQubGVuZ3RoPWkubGVuZ3RoLG49ITB9Y2F0Y2goZSl7fXJldHVybiBufSxvPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0hMTt0cnl7dmFyIGk9ZS5pbmZsYXRlKHQuZnJhZ21lbnQuZ2V0Qnl0ZXMoKSk7dC5mcmFnbWVudD1hLnV0aWwuY3JlYXRlQnVmZmVyKGkpLHQubGVuZ3RoPWkubGVuZ3RoLG49ITB9Y2F0Y2goZSl7fXJldHVybiBufSxjPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MDtzd2l0Y2godCl7Y2FzZSAxOnI9ZS5nZXRCeXRlKCk7YnJlYWs7Y2FzZSAyOnI9ZS5nZXRJbnQxNigpO2JyZWFrO2Nhc2UgMzpyPWUuZ2V0SW50MjQoKTticmVhaztjYXNlIDQ6cj1lLmdldEludDMyKCl9cmV0dXJuIGEudXRpbC5jcmVhdGVCdWZmZXIoZS5nZXRCeXRlcyhyKSl9LHU9ZnVuY3Rpb24oZSx0LHIpe2UucHV0SW50KHIubGVuZ3RoKCksdDw8MyksZS5wdXRCdWZmZXIocil9LGw9e307bC5WZXJzaW9ucz17VExTXzFfMDp7bWFqb3I6MyxtaW5vcjoxfSxUTFNfMV8xOnttYWpvcjozLG1pbm9yOjJ9LFRMU18xXzI6e21ham9yOjMsbWlub3I6M319LGwuU3VwcG9ydGVkVmVyc2lvbnM9W2wuVmVyc2lvbnMuVExTXzFfMSxsLlZlcnNpb25zLlRMU18xXzBdLGwuVmVyc2lvbj1sLlN1cHBvcnRlZFZlcnNpb25zWzBdLGwuTWF4RnJhZ21lbnQ9MTUzNjAsbC5Db25uZWN0aW9uRW5kPXtzZXJ2ZXI6MCxjbGllbnQ6MX0sbC5QUkZBbGdvcml0aG09e3Rsc19wcmZfc2hhMjU2OjB9LGwuQnVsa0NpcGhlckFsZ29yaXRobT17bm9uZTpudWxsLHJjNDowLGRlczM6MSxhZXM6Mn0sbC5DaXBoZXJUeXBlPXtzdHJlYW06MCxibG9jazoxLGFlYWQ6Mn0sbC5NQUNBbGdvcml0aG09e25vbmU6bnVsbCxobWFjX21kNTowLGhtYWNfc2hhMToxLGhtYWNfc2hhMjU2OjIsaG1hY19zaGEzODQ6MyxobWFjX3NoYTUxMjo0fSxsLkNvbXByZXNzaW9uTWV0aG9kPXtub25lOjAsZGVmbGF0ZToxfSxsLkNvbnRlbnRUeXBlPXtjaGFuZ2VfY2lwaGVyX3NwZWM6MjAsYWxlcnQ6MjEsaGFuZHNoYWtlOjIyLGFwcGxpY2F0aW9uX2RhdGE6MjMsaGVhcnRiZWF0OjI0fSxsLkhhbmRzaGFrZVR5cGU9e2hlbGxvX3JlcXVlc3Q6MCxjbGllbnRfaGVsbG86MSxzZXJ2ZXJfaGVsbG86MixjZXJ0aWZpY2F0ZToxMSxzZXJ2ZXJfa2V5X2V4Y2hhbmdlOjEyLGNlcnRpZmljYXRlX3JlcXVlc3Q6MTMsc2VydmVyX2hlbGxvX2RvbmU6MTQsY2VydGlmaWNhdGVfdmVyaWZ5OjE1LGNsaWVudF9rZXlfZXhjaGFuZ2U6MTYsZmluaXNoZWQ6MjB9LGwuQWxlcnQ9e30sbC5BbGVydC5MZXZlbD17d2FybmluZzoxLGZhdGFsOjJ9LGwuQWxlcnQuRGVzY3JpcHRpb249e2Nsb3NlX25vdGlmeTowLHVuZXhwZWN0ZWRfbWVzc2FnZToxMCxiYWRfcmVjb3JkX21hYzoyMCxkZWNyeXB0aW9uX2ZhaWxlZDoyMSxyZWNvcmRfb3ZlcmZsb3c6MjIsZGVjb21wcmVzc2lvbl9mYWlsdXJlOjMwLGhhbmRzaGFrZV9mYWlsdXJlOjQwLGJhZF9jZXJ0aWZpY2F0ZTo0Mix1bnN1cHBvcnRlZF9jZXJ0aWZpY2F0ZTo0MyxjZXJ0aWZpY2F0ZV9yZXZva2VkOjQ0LGNlcnRpZmljYXRlX2V4cGlyZWQ6NDUsY2VydGlmaWNhdGVfdW5rbm93bjo0NixpbGxlZ2FsX3BhcmFtZXRlcjo0Nyx1bmtub3duX2NhOjQ4LGFjY2Vzc19kZW5pZWQ6NDksZGVjb2RlX2Vycm9yOjUwLGRlY3J5cHRfZXJyb3I6NTEsZXhwb3J0X3Jlc3RyaWN0aW9uOjYwLHByb3RvY29sX3ZlcnNpb246NzAsaW5zdWZmaWNpZW50X3NlY3VyaXR5OjcxLGludGVybmFsX2Vycm9yOjgwLHVzZXJfY2FuY2VsZWQ6OTAsbm9fcmVuZWdvdGlhdGlvbjoxMDB9LGwuSGVhcnRiZWF0TWVzc2FnZVR5cGU9e2hlYXJ0YmVhdF9yZXF1ZXN0OjEsaGVhcnRiZWF0X3Jlc3BvbnNlOjJ9LGwuQ2lwaGVyU3VpdGVzPXt9LGwuZ2V0Q2lwaGVyU3VpdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtmb3IodmFyIHIgaW4gbC5DaXBoZXJTdWl0ZXMpe3ZhciBhPWwuQ2lwaGVyU3VpdGVzW3JdO2lmKGEuaWRbMF09PT1lLmNoYXJDb2RlQXQoMCkmJmEuaWRbMV09PT1lLmNoYXJDb2RlQXQoMSkpe3Q9YTticmVha319cmV0dXJuIHR9LGwuaGFuZGxlVW5leHBlY3RlZD1mdW5jdGlvbihlLHQpe3ZhciByPSFlLm9wZW4mJmUuZW50aXR5PT09bC5Db25uZWN0aW9uRW5kLmNsaWVudDtyfHxlLmVycm9yKGUse21lc3NhZ2U6XCJVbmV4cGVjdGVkIG1lc3NhZ2UuIFJlY2VpdmVkIFRMUyByZWNvcmQgb3V0IG9mIG9yZGVyLlwiLHNlbmQ6ITAsYWxlcnQ6e2xldmVsOmwuQWxlcnQuTGV2ZWwuZmF0YWwsZGVzY3JpcHRpb246bC5BbGVydC5EZXNjcmlwdGlvbi51bmV4cGVjdGVkX21lc3NhZ2V9fSl9LGwuaGFuZGxlSGVsbG9SZXF1ZXN0PWZ1bmN0aW9uKGUsdCxyKXshZS5oYW5kc2hha2luZyYmZS5oYW5kc2hha2VzPjAmJihsLnF1ZXVlKGUsbC5jcmVhdGVBbGVydChlLHtsZXZlbDpsLkFsZXJ0LkxldmVsLndhcm5pbmcsZGVzY3JpcHRpb246bC5BbGVydC5EZXNjcmlwdGlvbi5ub19yZW5lZ290aWF0aW9ufSkpLGwuZmx1c2goZSkpLGUucHJvY2VzcygpfSxsLnBhcnNlSGVsbG9NZXNzYWdlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1udWxsLGk9ZS5lbnRpdHk9PT1sLkNvbm5lY3Rpb25FbmQuY2xpZW50O2lmKHI8MzgpZS5lcnJvcihlLHttZXNzYWdlOmk/XCJJbnZhbGlkIFNlcnZlckhlbGxvIG1lc3NhZ2UuIE1lc3NhZ2UgdG9vIHNob3J0LlwiOlwiSW52YWxpZCBDbGllbnRIZWxsbyBtZXNzYWdlLiBNZXNzYWdlIHRvbyBzaG9ydC5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uaWxsZWdhbF9wYXJhbWV0ZXJ9fSk7ZWxzZXt2YXIgcz10LmZyYWdtZW50LG89cy5sZW5ndGgoKTtpZihuPXt2ZXJzaW9uOnttYWpvcjpzLmdldEJ5dGUoKSxtaW5vcjpzLmdldEJ5dGUoKX0scmFuZG9tOmEudXRpbC5jcmVhdGVCdWZmZXIocy5nZXRCeXRlcygzMikpLHNlc3Npb25faWQ6YyhzLDEpLGV4dGVuc2lvbnM6W119LGk/KG4uY2lwaGVyX3N1aXRlPXMuZ2V0Qnl0ZXMoMiksbi5jb21wcmVzc2lvbl9tZXRob2Q9cy5nZXRCeXRlKCkpOihuLmNpcGhlcl9zdWl0ZXM9YyhzLDIpLG4uY29tcHJlc3Npb25fbWV0aG9kcz1jKHMsMSkpLG89ci0oby1zLmxlbmd0aCgpKSxvPjApe2Zvcih2YXIgdT1jKHMsMik7dS5sZW5ndGgoKT4wOyluLmV4dGVuc2lvbnMucHVzaCh7dHlwZTpbdS5nZXRCeXRlKCksdS5nZXRCeXRlKCldLGRhdGE6Yyh1LDIpfSk7aWYoIWkpZm9yKHZhciBwPTA7cDxuLmV4dGVuc2lvbnMubGVuZ3RoOysrcCl7dmFyIGg9bi5leHRlbnNpb25zW3BdO2lmKDA9PT1oLnR5cGVbMF0mJjA9PT1oLnR5cGVbMV0pZm9yKHZhciBmPWMoaC5kYXRhLDIpO2YubGVuZ3RoKCk+MDspe3ZhciBkPWYuZ2V0Qnl0ZSgpO2lmKDAhPT1kKWJyZWFrO2Uuc2Vzc2lvbi5leHRlbnNpb25zLnNlcnZlcl9uYW1lLnNlcnZlck5hbWVMaXN0LnB1c2goYyhmLDIpLmdldEJ5dGVzKCkpfX19aWYoZS5zZXNzaW9uLnZlcnNpb24mJihuLnZlcnNpb24ubWFqb3IhPT1lLnNlc3Npb24udmVyc2lvbi5tYWpvcnx8bi52ZXJzaW9uLm1pbm9yIT09ZS5zZXNzaW9uLnZlcnNpb24ubWlub3IpKXJldHVybiBlLmVycm9yKGUse21lc3NhZ2U6XCJUTFMgdmVyc2lvbiBjaGFuZ2UgaXMgZGlzYWxsb3dlZCBkdXJpbmcgcmVuZWdvdGlhdGlvbi5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24ucHJvdG9jb2xfdmVyc2lvbn19KTtpZihpKWUuc2Vzc2lvbi5jaXBoZXJTdWl0ZT1sLmdldENpcGhlclN1aXRlKG4uY2lwaGVyX3N1aXRlKTtlbHNlIGZvcih2YXIgeT1hLnV0aWwuY3JlYXRlQnVmZmVyKG4uY2lwaGVyX3N1aXRlcy5ieXRlcygpKTt5Lmxlbmd0aCgpPjAmJihlLnNlc3Npb24uY2lwaGVyU3VpdGU9bC5nZXRDaXBoZXJTdWl0ZSh5LmdldEJ5dGVzKDIpKSxudWxsPT09ZS5zZXNzaW9uLmNpcGhlclN1aXRlKTspO2lmKG51bGw9PT1lLnNlc3Npb24uY2lwaGVyU3VpdGUpcmV0dXJuIGUuZXJyb3IoZSx7bWVzc2FnZTpcIk5vIGNpcGhlciBzdWl0ZXMgaW4gY29tbW9uLlwiLHNlbmQ6ITAsYWxlcnQ6e2xldmVsOmwuQWxlcnQuTGV2ZWwuZmF0YWwsZGVzY3JpcHRpb246bC5BbGVydC5EZXNjcmlwdGlvbi5oYW5kc2hha2VfZmFpbHVyZX0sY2lwaGVyU3VpdGU6YS51dGlsLmJ5dGVzVG9IZXgobi5jaXBoZXJfc3VpdGUpfSk7aT9lLnNlc3Npb24uY29tcHJlc3Npb25NZXRob2Q9bi5jb21wcmVzc2lvbl9tZXRob2Q6ZS5zZXNzaW9uLmNvbXByZXNzaW9uTWV0aG9kPWwuQ29tcHJlc3Npb25NZXRob2Qubm9uZX1yZXR1cm4gbn0sbC5jcmVhdGVTZWN1cml0eVBhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmVudGl0eT09PWwuQ29ubmVjdGlvbkVuZC5jbGllbnQsYT10LnJhbmRvbS5ieXRlcygpLG49cj9lLnNlc3Npb24uc3AuY2xpZW50X3JhbmRvbTphLGk9cj9hOmwuY3JlYXRlUmFuZG9tKCkuZ2V0Qnl0ZXMoKTtlLnNlc3Npb24uc3A9e2VudGl0eTplLmVudGl0eSxwcmZfYWxnb3JpdGhtOmwuUFJGQWxnb3JpdGhtLnRsc19wcmZfc2hhMjU2LGJ1bGtfY2lwaGVyX2FsZ29yaXRobTpudWxsLGNpcGhlcl90eXBlOm51bGwsZW5jX2tleV9sZW5ndGg6bnVsbCxibG9ja19sZW5ndGg6bnVsbCxmaXhlZF9pdl9sZW5ndGg6bnVsbCxyZWNvcmRfaXZfbGVuZ3RoOm51bGwsbWFjX2FsZ29yaXRobTpudWxsLG1hY19sZW5ndGg6bnVsbCxtYWNfa2V5X2xlbmd0aDpudWxsLGNvbXByZXNzaW9uX2FsZ29yaXRobTplLnNlc3Npb24uY29tcHJlc3Npb25NZXRob2QscHJlX21hc3Rlcl9zZWNyZXQ6bnVsbCxtYXN0ZXJfc2VjcmV0Om51bGwsY2xpZW50X3JhbmRvbTpuLHNlcnZlcl9yYW5kb206aX19LGwuaGFuZGxlU2VydmVySGVsbG89ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPWwucGFyc2VIZWxsb01lc3NhZ2UoZSx0LHIpO2lmKCFlLmZhaWwpe2lmKCEoYS52ZXJzaW9uLm1pbm9yPD1lLnZlcnNpb24ubWlub3IpKXJldHVybiBlLmVycm9yKGUse21lc3NhZ2U6XCJJbmNvbXBhdGlibGUgVExTIHZlcnNpb24uXCIsc2VuZDohMCxhbGVydDp7bGV2ZWw6bC5BbGVydC5MZXZlbC5mYXRhbCxkZXNjcmlwdGlvbjpsLkFsZXJ0LkRlc2NyaXB0aW9uLnByb3RvY29sX3ZlcnNpb259fSk7ZS52ZXJzaW9uLm1pbm9yPWEudmVyc2lvbi5taW5vcixlLnNlc3Npb24udmVyc2lvbj1lLnZlcnNpb247dmFyIG49YS5zZXNzaW9uX2lkLmJ5dGVzKCk7bi5sZW5ndGg+MCYmbj09PWUuc2Vzc2lvbi5pZD8oZS5leHBlY3Q9ZyxlLnNlc3Npb24ucmVzdW1pbmc9ITAsZS5zZXNzaW9uLnNwLnNlcnZlcl9yYW5kb209YS5yYW5kb20uYnl0ZXMoKSk6KGUuZXhwZWN0PWgsZS5zZXNzaW9uLnJlc3VtaW5nPSExLGwuY3JlYXRlU2VjdXJpdHlQYXJhbWV0ZXJzKGUsYSkpLGUuc2Vzc2lvbi5pZD1uLGUucHJvY2VzcygpfX0sbC5oYW5kbGVDbGllbnRIZWxsbz1mdW5jdGlvbihlLHQscil7dmFyIG49bC5wYXJzZUhlbGxvTWVzc2FnZShlLHQscik7aWYoIWUuZmFpbCl7dmFyIGk9bi5zZXNzaW9uX2lkLmJ5dGVzKCkscz1udWxsO2lmKGUuc2Vzc2lvbkNhY2hlJiYocz1lLnNlc3Npb25DYWNoZS5nZXRTZXNzaW9uKGkpLG51bGw9PT1zP2k9XCJcIjoocy52ZXJzaW9uLm1ham9yIT09bi52ZXJzaW9uLm1ham9yfHxzLnZlcnNpb24ubWlub3I+bi52ZXJzaW9uLm1pbm9yKSYmKHM9bnVsbCxpPVwiXCIpKSwwPT09aS5sZW5ndGgmJihpPWEucmFuZG9tLmdldEJ5dGVzKDMyKSksZS5zZXNzaW9uLmlkPWksZS5zZXNzaW9uLmNsaWVudEhlbGxvVmVyc2lvbj1uLnZlcnNpb24sZS5zZXNzaW9uLnNwPXt9LHMpZS52ZXJzaW9uPWUuc2Vzc2lvbi52ZXJzaW9uPXMudmVyc2lvbixlLnNlc3Npb24uc3A9cy5zcDtlbHNle2Zvcih2YXIgbyxjPTE7YzxsLlN1cHBvcnRlZFZlcnNpb25zLmxlbmd0aCYmKG89bC5TdXBwb3J0ZWRWZXJzaW9uc1tjXSwhKG8ubWlub3I8PW4udmVyc2lvbi5taW5vcikpOysrYyk7ZS52ZXJzaW9uPXttYWpvcjpvLm1ham9yLG1pbm9yOm8ubWlub3J9LGUuc2Vzc2lvbi52ZXJzaW9uPWUudmVyc2lvbn1udWxsIT09cz8oZS5leHBlY3Q9QSxlLnNlc3Npb24ucmVzdW1pbmc9ITAsZS5zZXNzaW9uLnNwLmNsaWVudF9yYW5kb209bi5yYW5kb20uYnl0ZXMoKSk6KGUuZXhwZWN0PWUudmVyaWZ5Q2xpZW50IT09ITE/UzpULGUuc2Vzc2lvbi5yZXN1bWluZz0hMSxsLmNyZWF0ZVNlY3VyaXR5UGFyYW1ldGVycyhlLG4pKSxlLm9wZW49ITAsbC5xdWV1ZShlLGwuY3JlYXRlUmVjb3JkKGUse3R5cGU6bC5Db250ZW50VHlwZS5oYW5kc2hha2UsZGF0YTpsLmNyZWF0ZVNlcnZlckhlbGxvKGUpfSkpLGUuc2Vzc2lvbi5yZXN1bWluZz8obC5xdWV1ZShlLGwuY3JlYXRlUmVjb3JkKGUse3R5cGU6bC5Db250ZW50VHlwZS5jaGFuZ2VfY2lwaGVyX3NwZWMsZGF0YTpsLmNyZWF0ZUNoYW5nZUNpcGhlclNwZWMoKX0pKSxlLnN0YXRlLnBlbmRpbmc9bC5jcmVhdGVDb25uZWN0aW9uU3RhdGUoZSksZS5zdGF0ZS5jdXJyZW50LndyaXRlPWUuc3RhdGUucGVuZGluZy53cml0ZSxsLnF1ZXVlKGUsbC5jcmVhdGVSZWNvcmQoZSx7dHlwZTpsLkNvbnRlbnRUeXBlLmhhbmRzaGFrZSxkYXRhOmwuY3JlYXRlRmluaXNoZWQoZSl9KSkpOihsLnF1ZXVlKGUsbC5jcmVhdGVSZWNvcmQoZSx7dHlwZTpsLkNvbnRlbnRUeXBlLmhhbmRzaGFrZSxkYXRhOmwuY3JlYXRlQ2VydGlmaWNhdGUoZSl9KSksZS5mYWlsfHwobC5xdWV1ZShlLGwuY3JlYXRlUmVjb3JkKGUse3R5cGU6bC5Db250ZW50VHlwZS5oYW5kc2hha2UsZGF0YTpsLmNyZWF0ZVNlcnZlcktleUV4Y2hhbmdlKGUpfSkpLGUudmVyaWZ5Q2xpZW50IT09ITEmJmwucXVldWUoZSxsLmNyZWF0ZVJlY29yZChlLHt0eXBlOmwuQ29udGVudFR5cGUuaGFuZHNoYWtlLGRhdGE6bC5jcmVhdGVDZXJ0aWZpY2F0ZVJlcXVlc3QoZSl9KSksbC5xdWV1ZShlLGwuY3JlYXRlUmVjb3JkKGUse3R5cGU6bC5Db250ZW50VHlwZS5oYW5kc2hha2UsZGF0YTpsLmNyZWF0ZVNlcnZlckhlbGxvRG9uZShlKX0pKSkpLGwuZmx1c2goZSksZS5wcm9jZXNzKCl9fSxsLmhhbmRsZUNlcnRpZmljYXRlPWZ1bmN0aW9uKGUsdCxyKXtpZihyPDMpcmV0dXJuIGUuZXJyb3IoZSx7bWVzc2FnZTpcIkludmFsaWQgQ2VydGlmaWNhdGUgbWVzc2FnZS4gTWVzc2FnZSB0b28gc2hvcnQuXCIsc2VuZDohMCxhbGVydDp7bGV2ZWw6bC5BbGVydC5MZXZlbC5mYXRhbCxkZXNjcmlwdGlvbjpsLkFsZXJ0LkRlc2NyaXB0aW9uLmlsbGVnYWxfcGFyYW1ldGVyfX0pO3ZhciBuLGkscz10LmZyYWdtZW50LG89e2NlcnRpZmljYXRlX2xpc3Q6YyhzLDMpfSx1PVtdO3RyeXtmb3IoO28uY2VydGlmaWNhdGVfbGlzdC5sZW5ndGgoKT4wOyluPWMoby5jZXJ0aWZpY2F0ZV9saXN0LDMpLGk9YS5hc24xLmZyb21EZXIobiksbj1hLnBraS5jZXJ0aWZpY2F0ZUZyb21Bc24xKGksITApLHUucHVzaChuKX1jYXRjaCh0KXtyZXR1cm4gZS5lcnJvcihlLHttZXNzYWdlOlwiQ291bGQgbm90IHBhcnNlIGNlcnRpZmljYXRlIGxpc3QuXCIsY2F1c2U6dCxzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uYmFkX2NlcnRpZmljYXRlfX0pfXZhciBwPWUuZW50aXR5PT09bC5Db25uZWN0aW9uRW5kLmNsaWVudDshcCYmZS52ZXJpZnlDbGllbnQhPT0hMHx8MCE9PXUubGVuZ3RoPzA9PT11Lmxlbmd0aD9lLmV4cGVjdD1wP2Y6VDoocD9lLnNlc3Npb24uc2VydmVyQ2VydGlmaWNhdGU9dVswXTplLnNlc3Npb24uY2xpZW50Q2VydGlmaWNhdGU9dVswXSxsLnZlcmlmeUNlcnRpZmljYXRlQ2hhaW4oZSx1KSYmKGUuZXhwZWN0PXA/ZjpUKSk6ZS5lcnJvcihlLHttZXNzYWdlOnA/XCJObyBzZXJ2ZXIgY2VydGlmaWNhdGUgcHJvdmlkZWQuXCI6XCJObyBjbGllbnQgY2VydGlmaWNhdGUgcHJvdmlkZWQuXCIsc2VuZDohMCxhbGVydDp7bGV2ZWw6bC5BbGVydC5MZXZlbC5mYXRhbCxkZXNjcmlwdGlvbjpsLkFsZXJ0LkRlc2NyaXB0aW9uLmlsbGVnYWxfcGFyYW1ldGVyfX0pLGUucHJvY2VzcygpfSxsLmhhbmRsZVNlcnZlcktleUV4Y2hhbmdlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj4wP2UuZXJyb3IoZSx7bWVzc2FnZTpcIkludmFsaWQga2V5IHBhcmFtZXRlcnMuIE9ubHkgUlNBIGlzIHN1cHBvcnRlZC5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24udW5zdXBwb3J0ZWRfY2VydGlmaWNhdGV9fSk6KGUuZXhwZWN0PWQsdm9pZCBlLnByb2Nlc3MoKSl9LGwuaGFuZGxlQ2xpZW50S2V5RXhjaGFuZ2U9ZnVuY3Rpb24oZSx0LHIpe2lmKHI8NDgpcmV0dXJuIGUuZXJyb3IoZSx7bWVzc2FnZTpcIkludmFsaWQga2V5IHBhcmFtZXRlcnMuIE9ubHkgUlNBIGlzIHN1cHBvcnRlZC5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24udW5zdXBwb3J0ZWRfY2VydGlmaWNhdGV9fSk7dmFyIG49dC5mcmFnbWVudCxpPXtlbmNfcHJlX21hc3Rlcl9zZWNyZXQ6YyhuLDIpLmdldEJ5dGVzKCl9LHM9bnVsbDtpZihlLmdldFByaXZhdGVLZXkpdHJ5e3M9ZS5nZXRQcml2YXRlS2V5KGUsZS5zZXNzaW9uLnNlcnZlckNlcnRpZmljYXRlKSxzPWEucGtpLnByaXZhdGVLZXlGcm9tUGVtKHMpfWNhdGNoKHQpe2UuZXJyb3IoZSx7bWVzc2FnZTpcIkNvdWxkIG5vdCBnZXQgcHJpdmF0ZSBrZXkuXCIsY2F1c2U6dCxzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uaW50ZXJuYWxfZXJyb3J9fSl9aWYobnVsbD09PXMpcmV0dXJuIGUuZXJyb3IoZSx7bWVzc2FnZTpcIk5vIHByaXZhdGUga2V5IHNldC5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uaW50ZXJuYWxfZXJyb3J9fSk7dHJ5e3ZhciBvPWUuc2Vzc2lvbi5zcDtvLnByZV9tYXN0ZXJfc2VjcmV0PXMuZGVjcnlwdChpLmVuY19wcmVfbWFzdGVyX3NlY3JldCk7dmFyIHU9ZS5zZXNzaW9uLmNsaWVudEhlbGxvVmVyc2lvbjtpZih1Lm1ham9yIT09by5wcmVfbWFzdGVyX3NlY3JldC5jaGFyQ29kZUF0KDApfHx1Lm1pbm9yIT09by5wcmVfbWFzdGVyX3NlY3JldC5jaGFyQ29kZUF0KDEpKXRocm93IG5ldyBFcnJvcihcIlRMUyB2ZXJzaW9uIHJvbGxiYWNrIGF0dGFjayBkZXRlY3RlZC5cIil9Y2F0Y2goZSl7by5wcmVfbWFzdGVyX3NlY3JldD1hLnJhbmRvbS5nZXRCeXRlcyg0OCl9ZS5leHBlY3Q9QSxudWxsIT09ZS5zZXNzaW9uLmNsaWVudENlcnRpZmljYXRlJiYoZS5leHBlY3Q9SSksZS5wcm9jZXNzKCl9LGwuaGFuZGxlQ2VydGlmaWNhdGVSZXF1ZXN0PWZ1bmN0aW9uKGUsdCxyKXtpZihyPDMpcmV0dXJuIGUuZXJyb3IoZSx7bWVzc2FnZTpcIkludmFsaWQgQ2VydGlmaWNhdGVSZXF1ZXN0LiBNZXNzYWdlIHRvbyBzaG9ydC5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uaWxsZWdhbF9wYXJhbWV0ZXJ9fSk7dmFyIGE9dC5mcmFnbWVudCxuPXtjZXJ0aWZpY2F0ZV90eXBlczpjKGEsMSksY2VydGlmaWNhdGVfYXV0aG9yaXRpZXM6YyhhLDIpfTtlLnNlc3Npb24uY2VydGlmaWNhdGVSZXF1ZXN0PW4sZS5leHBlY3Q9eSxlLnByb2Nlc3MoKX0sbC5oYW5kbGVDZXJ0aWZpY2F0ZVZlcmlmeT1mdW5jdGlvbihlLHQscil7aWYocjwyKXJldHVybiBlLmVycm9yKGUse21lc3NhZ2U6XCJJbnZhbGlkIENlcnRpZmljYXRlVmVyaWZ5LiBNZXNzYWdlIHRvbyBzaG9ydC5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uaWxsZWdhbF9wYXJhbWV0ZXJ9fSk7dmFyIG49dC5mcmFnbWVudDtuLnJlYWQtPTQ7dmFyIGk9bi5ieXRlcygpO24ucmVhZCs9NDt2YXIgcz17c2lnbmF0dXJlOmMobiwyKS5nZXRCeXRlcygpfSxvPWEudXRpbC5jcmVhdGVCdWZmZXIoKTtvLnB1dEJ1ZmZlcihlLnNlc3Npb24ubWQ1LmRpZ2VzdCgpKSxvLnB1dEJ1ZmZlcihlLnNlc3Npb24uc2hhMS5kaWdlc3QoKSksbz1vLmdldEJ5dGVzKCk7dHJ5e3ZhciB1PWUuc2Vzc2lvbi5jbGllbnRDZXJ0aWZpY2F0ZTtpZighdS5wdWJsaWNLZXkudmVyaWZ5KG8scy5zaWduYXR1cmUsXCJOT05FXCIpKXRocm93IG5ldyBFcnJvcihcIkNlcnRpZmljYXRlVmVyaWZ5IHNpZ25hdHVyZSBkb2VzIG5vdCBtYXRjaC5cIik7ZS5zZXNzaW9uLm1kNS51cGRhdGUoaSksZS5zZXNzaW9uLnNoYTEudXBkYXRlKGkpfWNhdGNoKHQpe3JldHVybiBlLmVycm9yKGUse21lc3NhZ2U6XCJCYWQgc2lnbmF0dXJlIGluIENlcnRpZmljYXRlVmVyaWZ5LlwiLHNlbmQ6ITAsYWxlcnQ6e2xldmVsOmwuQWxlcnQuTGV2ZWwuZmF0YWwsZGVzY3JpcHRpb246bC5BbGVydC5EZXNjcmlwdGlvbi5oYW5kc2hha2VfZmFpbHVyZX19KX1lLmV4cGVjdD1BLGUucHJvY2VzcygpfSxsLmhhbmRsZVNlcnZlckhlbGxvRG9uZT1mdW5jdGlvbihlLHQscil7aWYocj4wKXJldHVybiBlLmVycm9yKGUse21lc3NhZ2U6XCJJbnZhbGlkIFNlcnZlckhlbGxvRG9uZSBtZXNzYWdlLiBJbnZhbGlkIGxlbmd0aC5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24ucmVjb3JkX292ZXJmbG93fX0pO2lmKG51bGw9PT1lLnNlcnZlckNlcnRpZmljYXRlKXt2YXIgbj17bWVzc2FnZTpcIk5vIHNlcnZlciBjZXJ0aWZpY2F0ZSBwcm92aWRlZC4gTm90IGVub3VnaCBzZWN1cml0eS5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uaW5zdWZmaWNpZW50X3NlY3VyaXR5fX0saT0wLHM9ZS52ZXJpZnkoZSxuLmFsZXJ0LmRlc2NyaXB0aW9uLGksW10pO2lmKHMhPT0hMClyZXR1cm4oc3x8MD09PXMpJiYoXCJvYmplY3RcIiE9dHlwZW9mIHN8fGEudXRpbC5pc0FycmF5KHMpP1wibnVtYmVyXCI9PXR5cGVvZiBzJiYobi5hbGVydC5kZXNjcmlwdGlvbj1zKToocy5tZXNzYWdlJiYobi5tZXNzYWdlPXMubWVzc2FnZSkscy5hbGVydCYmKG4uYWxlcnQuZGVzY3JpcHRpb249cy5hbGVydCkpKSxlLmVycm9yKGUsbil9bnVsbCE9PWUuc2Vzc2lvbi5jZXJ0aWZpY2F0ZVJlcXVlc3QmJih0PWwuY3JlYXRlUmVjb3JkKGUse3R5cGU6bC5Db250ZW50VHlwZS5oYW5kc2hha2UsZGF0YTpsLmNyZWF0ZUNlcnRpZmljYXRlKGUpfSksbC5xdWV1ZShlLHQpKSx0PWwuY3JlYXRlUmVjb3JkKGUse3R5cGU6bC5Db250ZW50VHlwZS5oYW5kc2hha2UsZGF0YTpsLmNyZWF0ZUNsaWVudEtleUV4Y2hhbmdlKGUpfSksbC5xdWV1ZShlLHQpLGUuZXhwZWN0PUM7dmFyIG89ZnVuY3Rpb24oZSx0KXtudWxsIT09ZS5zZXNzaW9uLmNlcnRpZmljYXRlUmVxdWVzdCYmbnVsbCE9PWUuc2Vzc2lvbi5jbGllbnRDZXJ0aWZpY2F0ZSYmbC5xdWV1ZShlLGwuY3JlYXRlUmVjb3JkKGUse3R5cGU6bC5Db250ZW50VHlwZS5oYW5kc2hha2UsZGF0YTpsLmNyZWF0ZUNlcnRpZmljYXRlVmVyaWZ5KGUsdCl9KSksbC5xdWV1ZShlLGwuY3JlYXRlUmVjb3JkKGUse3R5cGU6bC5Db250ZW50VHlwZS5jaGFuZ2VfY2lwaGVyX3NwZWMsZGF0YTpsLmNyZWF0ZUNoYW5nZUNpcGhlclNwZWMoKX0pKSxlLnN0YXRlLnBlbmRpbmc9bC5jcmVhdGVDb25uZWN0aW9uU3RhdGUoZSksZS5zdGF0ZS5jdXJyZW50LndyaXRlPWUuc3RhdGUucGVuZGluZy53cml0ZSxsLnF1ZXVlKGUsbC5jcmVhdGVSZWNvcmQoZSx7dHlwZTpsLkNvbnRlbnRUeXBlLmhhbmRzaGFrZSxkYXRhOmwuY3JlYXRlRmluaXNoZWQoZSl9KSksZS5leHBlY3Q9ZyxsLmZsdXNoKGUpLGUucHJvY2VzcygpfTtyZXR1cm4gbnVsbD09PWUuc2Vzc2lvbi5jZXJ0aWZpY2F0ZVJlcXVlc3R8fG51bGw9PT1lLnNlc3Npb24uY2xpZW50Q2VydGlmaWNhdGU/byhlLG51bGwpOnZvaWQgbC5nZXRDbGllbnRTaWduYXR1cmUoZSxvKX0sbC5oYW5kbGVDaGFuZ2VDaXBoZXJTcGVjPWZ1bmN0aW9uKGUsdCl7aWYoMSE9PXQuZnJhZ21lbnQuZ2V0Qnl0ZSgpKXJldHVybiBlLmVycm9yKGUse21lc3NhZ2U6XCJJbnZhbGlkIENoYW5nZUNpcGhlclNwZWMgbWVzc2FnZSByZWNlaXZlZC5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uaWxsZWdhbF9wYXJhbWV0ZXJ9fSk7dmFyIHI9ZS5lbnRpdHk9PT1sLkNvbm5lY3Rpb25FbmQuY2xpZW50OyhlLnNlc3Npb24ucmVzdW1pbmcmJnJ8fCFlLnNlc3Npb24ucmVzdW1pbmcmJiFyKSYmKGUuc3RhdGUucGVuZGluZz1sLmNyZWF0ZUNvbm5lY3Rpb25TdGF0ZShlKSksZS5zdGF0ZS5jdXJyZW50LnJlYWQ9ZS5zdGF0ZS5wZW5kaW5nLnJlYWQsKCFlLnNlc3Npb24ucmVzdW1pbmcmJnJ8fGUuc2Vzc2lvbi5yZXN1bWluZyYmIXIpJiYoZS5zdGF0ZS5wZW5kaW5nPW51bGwpLGUuZXhwZWN0PXI/djpiLGUucHJvY2VzcygpfSxsLmhhbmRsZUZpbmlzaGVkPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10LmZyYWdtZW50O2kucmVhZC09NDt2YXIgcz1pLmJ5dGVzKCk7aS5yZWFkKz00O3ZhciBvPXQuZnJhZ21lbnQuZ2V0Qnl0ZXMoKTtpPWEudXRpbC5jcmVhdGVCdWZmZXIoKSxpLnB1dEJ1ZmZlcihlLnNlc3Npb24ubWQ1LmRpZ2VzdCgpKSxpLnB1dEJ1ZmZlcihlLnNlc3Npb24uc2hhMS5kaWdlc3QoKSk7dmFyIGM9ZS5lbnRpdHk9PT1sLkNvbm5lY3Rpb25FbmQuY2xpZW50LHU9Yz9cInNlcnZlciBmaW5pc2hlZFwiOlwiY2xpZW50IGZpbmlzaGVkXCIscD1lLnNlc3Npb24uc3AsaD0xMixmPW47cmV0dXJuIGk9ZihwLm1hc3Rlcl9zZWNyZXQsdSxpLmdldEJ5dGVzKCksaCksaS5nZXRCeXRlcygpIT09bz9lLmVycm9yKGUse21lc3NhZ2U6XCJJbnZhbGlkIHZlcmlmeV9kYXRhIGluIEZpbmlzaGVkIG1lc3NhZ2UuXCIsc2VuZDohMCxhbGVydDp7bGV2ZWw6bC5BbGVydC5MZXZlbC5mYXRhbCxkZXNjcmlwdGlvbjpsLkFsZXJ0LkRlc2NyaXB0aW9uLmRlY3J5cHRfZXJyb3J9fSk6KGUuc2Vzc2lvbi5tZDUudXBkYXRlKHMpLGUuc2Vzc2lvbi5zaGExLnVwZGF0ZShzKSwoZS5zZXNzaW9uLnJlc3VtaW5nJiZjfHwhZS5zZXNzaW9uLnJlc3VtaW5nJiYhYykmJihsLnF1ZXVlKGUsbC5jcmVhdGVSZWNvcmQoZSx7dHlwZTpsLkNvbnRlbnRUeXBlLmNoYW5nZV9jaXBoZXJfc3BlYyxkYXRhOmwuY3JlYXRlQ2hhbmdlQ2lwaGVyU3BlYygpfSkpLGUuc3RhdGUuY3VycmVudC53cml0ZT1lLnN0YXRlLnBlbmRpbmcud3JpdGUsZS5zdGF0ZS5wZW5kaW5nPW51bGwsbC5xdWV1ZShlLGwuY3JlYXRlUmVjb3JkKGUse3R5cGU6bC5Db250ZW50VHlwZS5oYW5kc2hha2UsZGF0YTpsLmNyZWF0ZUZpbmlzaGVkKGUpfSkpKSxlLmV4cGVjdD1jP206QixlLmhhbmRzaGFraW5nPSExLCsrZS5oYW5kc2hha2VzLGUucGVlckNlcnRpZmljYXRlPWM/ZS5zZXNzaW9uLnNlcnZlckNlcnRpZmljYXRlOmUuc2Vzc2lvbi5jbGllbnRDZXJ0aWZpY2F0ZSxsLmZsdXNoKGUpLGUuaXNDb25uZWN0ZWQ9ITAsZS5jb25uZWN0ZWQoZSksdm9pZCBlLnByb2Nlc3MoKSl9LGwuaGFuZGxlQWxlcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixhPXQuZnJhZ21lbnQsbj17bGV2ZWw6YS5nZXRCeXRlKCksZGVzY3JpcHRpb246YS5nZXRCeXRlKCl9O3N3aXRjaChuLmRlc2NyaXB0aW9uKXtjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24uY2xvc2Vfbm90aWZ5OnI9XCJDb25uZWN0aW9uIGNsb3NlZC5cIjticmVhaztjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24udW5leHBlY3RlZF9tZXNzYWdlOnI9XCJVbmV4cGVjdGVkIG1lc3NhZ2UuXCI7YnJlYWs7Y2FzZSBsLkFsZXJ0LkRlc2NyaXB0aW9uLmJhZF9yZWNvcmRfbWFjOnI9XCJCYWQgcmVjb3JkIE1BQy5cIjticmVhaztjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24uZGVjcnlwdGlvbl9mYWlsZWQ6cj1cIkRlY3J5cHRpb24gZmFpbGVkLlwiO2JyZWFrO2Nhc2UgbC5BbGVydC5EZXNjcmlwdGlvbi5yZWNvcmRfb3ZlcmZsb3c6cj1cIlJlY29yZCBvdmVyZmxvdy5cIjticmVhaztjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24uZGVjb21wcmVzc2lvbl9mYWlsdXJlOnI9XCJEZWNvbXByZXNzaW9uIGZhaWxlZC5cIjticmVhaztjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24uaGFuZHNoYWtlX2ZhaWx1cmU6cj1cIkhhbmRzaGFrZSBmYWlsdXJlLlwiO2JyZWFrO2Nhc2UgbC5BbGVydC5EZXNjcmlwdGlvbi5iYWRfY2VydGlmaWNhdGU6cj1cIkJhZCBjZXJ0aWZpY2F0ZS5cIjticmVhaztjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24udW5zdXBwb3J0ZWRfY2VydGlmaWNhdGU6cj1cIlVuc3VwcG9ydGVkIGNlcnRpZmljYXRlLlwiO2JyZWFrO2Nhc2UgbC5BbGVydC5EZXNjcmlwdGlvbi5jZXJ0aWZpY2F0ZV9yZXZva2VkOnI9XCJDZXJ0aWZpY2F0ZSByZXZva2VkLlwiO2JyZWFrO2Nhc2UgbC5BbGVydC5EZXNjcmlwdGlvbi5jZXJ0aWZpY2F0ZV9leHBpcmVkOnI9XCJDZXJ0aWZpY2F0ZSBleHBpcmVkLlwiO2JyZWFrO2Nhc2UgbC5BbGVydC5EZXNjcmlwdGlvbi5jZXJ0aWZpY2F0ZV91bmtub3duOnI9XCJDZXJ0aWZpY2F0ZSB1bmtub3duLlwiO2JyZWFrO2Nhc2UgbC5BbGVydC5EZXNjcmlwdGlvbi5pbGxlZ2FsX3BhcmFtZXRlcjpyPVwiSWxsZWdhbCBwYXJhbWV0ZXIuXCI7YnJlYWs7Y2FzZSBsLkFsZXJ0LkRlc2NyaXB0aW9uLnVua25vd25fY2E6cj1cIlVua25vd24gY2VydGlmaWNhdGUgYXV0aG9yaXR5LlwiO2JyZWFrO2Nhc2UgbC5BbGVydC5EZXNjcmlwdGlvbi5hY2Nlc3NfZGVuaWVkOnI9XCJBY2Nlc3MgZGVuaWVkLlwiO2JyZWFrO2Nhc2UgbC5BbGVydC5EZXNjcmlwdGlvbi5kZWNvZGVfZXJyb3I6cj1cIkRlY29kZSBlcnJvci5cIjticmVhaztjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24uZGVjcnlwdF9lcnJvcjpyPVwiRGVjcnlwdCBlcnJvci5cIjticmVhaztjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24uZXhwb3J0X3Jlc3RyaWN0aW9uOnI9XCJFeHBvcnQgcmVzdHJpY3Rpb24uXCI7YnJlYWs7Y2FzZSBsLkFsZXJ0LkRlc2NyaXB0aW9uLnByb3RvY29sX3ZlcnNpb246cj1cIlVuc3VwcG9ydGVkIHByb3RvY29sIHZlcnNpb24uXCI7YnJlYWs7Y2FzZSBsLkFsZXJ0LkRlc2NyaXB0aW9uLmluc3VmZmljaWVudF9zZWN1cml0eTpyPVwiSW5zdWZmaWNpZW50IHNlY3VyaXR5LlwiO2JyZWFrO2Nhc2UgbC5BbGVydC5EZXNjcmlwdGlvbi5pbnRlcm5hbF9lcnJvcjpyPVwiSW50ZXJuYWwgZXJyb3IuXCI7YnJlYWs7Y2FzZSBsLkFsZXJ0LkRlc2NyaXB0aW9uLnVzZXJfY2FuY2VsZWQ6cj1cIlVzZXIgY2FuY2VsZWQuXCI7YnJlYWs7Y2FzZSBsLkFsZXJ0LkRlc2NyaXB0aW9uLm5vX3JlbmVnb3RpYXRpb246cj1cIlJlbmVnb3RpYXRpb24gbm90IHN1cHBvcnRlZC5cIjticmVhaztkZWZhdWx0OnI9XCJVbmtub3duIGVycm9yLlwifXJldHVybiBuLmRlc2NyaXB0aW9uPT09bC5BbGVydC5EZXNjcmlwdGlvbi5jbG9zZV9ub3RpZnk/ZS5jbG9zZSgpOihlLmVycm9yKGUse21lc3NhZ2U6cixzZW5kOiExLG9yaWdpbjplLmVudGl0eT09PWwuQ29ubmVjdGlvbkVuZC5jbGllbnQ/XCJzZXJ2ZXJcIjpcImNsaWVudFwiLGFsZXJ0Om59KSx2b2lkIGUucHJvY2VzcygpKX0sbC5oYW5kbGVIYW5kc2hha2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmZyYWdtZW50LG49ci5nZXRCeXRlKCksaT1yLmdldEludDI0KCk7aWYoaT5yLmxlbmd0aCgpKXJldHVybiBlLmZyYWdtZW50ZWQ9dCx0LmZyYWdtZW50PWEudXRpbC5jcmVhdGVCdWZmZXIoKSxyLnJlYWQtPTQsZS5wcm9jZXNzKCk7ZS5mcmFnbWVudGVkPW51bGwsci5yZWFkLT00O3ZhciBzPXIuYnl0ZXMoaSs0KTtyLnJlYWQrPTQsbiBpbiBGW2UuZW50aXR5XVtlLmV4cGVjdF0/KGUuZW50aXR5IT09bC5Db25uZWN0aW9uRW5kLnNlcnZlcnx8ZS5vcGVufHxlLmZhaWx8fChlLmhhbmRzaGFraW5nPSEwLGUuc2Vzc2lvbj17dmVyc2lvbjpudWxsLGV4dGVuc2lvbnM6e3NlcnZlcl9uYW1lOntzZXJ2ZXJOYW1lTGlzdDpbXX19LGNpcGhlclN1aXRlOm51bGwsY29tcHJlc3Npb25NZXRob2Q6bnVsbCxzZXJ2ZXJDZXJ0aWZpY2F0ZTpudWxsLGNsaWVudENlcnRpZmljYXRlOm51bGwsbWQ1OmEubWQubWQ1LmNyZWF0ZSgpLHNoYTE6YS5tZC5zaGExLmNyZWF0ZSgpfSksbiE9PWwuSGFuZHNoYWtlVHlwZS5oZWxsb19yZXF1ZXN0JiZuIT09bC5IYW5kc2hha2VUeXBlLmNlcnRpZmljYXRlX3ZlcmlmeSYmbiE9PWwuSGFuZHNoYWtlVHlwZS5maW5pc2hlZCYmKGUuc2Vzc2lvbi5tZDUudXBkYXRlKHMpLGUuc2Vzc2lvbi5zaGExLnVwZGF0ZShzKSksRltlLmVudGl0eV1bZS5leHBlY3RdW25dKGUsdCxpKSk6bC5oYW5kbGVVbmV4cGVjdGVkKGUsdCl9LGwuaGFuZGxlQXBwbGljYXRpb25EYXRhPWZ1bmN0aW9uKGUsdCl7ZS5kYXRhLnB1dEJ1ZmZlcih0LmZyYWdtZW50KSxlLmRhdGFSZWFkeShlKSxlLnByb2Nlc3MoKX0sbC5oYW5kbGVIZWFydGJlYXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmZyYWdtZW50LG49ci5nZXRCeXRlKCksaT1yLmdldEludDE2KCkscz1yLmdldEJ5dGVzKGkpO2lmKG49PT1sLkhlYXJ0YmVhdE1lc3NhZ2VUeXBlLmhlYXJ0YmVhdF9yZXF1ZXN0KXtpZihlLmhhbmRzaGFraW5nfHxpPnMubGVuZ3RoKXJldHVybiBlLnByb2Nlc3MoKTtsLnF1ZXVlKGUsbC5jcmVhdGVSZWNvcmQoZSx7dHlwZTpsLkNvbnRlbnRUeXBlLmhlYXJ0YmVhdCxkYXRhOmwuY3JlYXRlSGVhcnRiZWF0KGwuSGVhcnRiZWF0TWVzc2FnZVR5cGUuaGVhcnRiZWF0X3Jlc3BvbnNlLHMpfSkpLGwuZmx1c2goZSl9ZWxzZSBpZihuPT09bC5IZWFydGJlYXRNZXNzYWdlVHlwZS5oZWFydGJlYXRfcmVzcG9uc2Upe2lmKHMhPT1lLmV4cGVjdGVkSGVhcnRiZWF0UGF5bG9hZClyZXR1cm4gZS5wcm9jZXNzKCk7ZS5oZWFydGJlYXRSZWNlaXZlZCYmZS5oZWFydGJlYXRSZWNlaXZlZChlLGEudXRpbC5jcmVhdGVCdWZmZXIocykpfWUucHJvY2VzcygpfTt2YXIgcD0wLGg9MSxmPTIsZD0zLHk9NCxnPTUsdj02LG09NyxDPTgsRT0wLFM9MSxUPTIsST0zLEE9NCxiPTUsQj02LE49bC5oYW5kbGVVbmV4cGVjdGVkLGs9bC5oYW5kbGVDaGFuZ2VDaXBoZXJTcGVjLFI9bC5oYW5kbGVBbGVydCx3PWwuaGFuZGxlSGFuZHNoYWtlLEw9bC5oYW5kbGVBcHBsaWNhdGlvbkRhdGEsXz1sLmhhbmRsZUhlYXJ0YmVhdCxVPVtdO1VbbC5Db25uZWN0aW9uRW5kLmNsaWVudF09W1tOLFIsdyxOLF9dLFtOLFIsdyxOLF9dLFtOLFIsdyxOLF9dLFtOLFIsdyxOLF9dLFtOLFIsdyxOLF9dLFtrLFIsTixOLF9dLFtOLFIsdyxOLF9dLFtOLFIsdyxMLF9dLFtOLFIsdyxOLF9dXSxVW2wuQ29ubmVjdGlvbkVuZC5zZXJ2ZXJdPVtbTixSLHcsTixfXSxbTixSLHcsTixfXSxbTixSLHcsTixfXSxbTixSLHcsTixfXSxbayxSLE4sTixfXSxbTixSLHcsTixfXSxbTixSLHcsTCxfXSxbTixSLHcsTixfXV07dmFyIEQ9bC5oYW5kbGVIZWxsb1JlcXVlc3QsUD1sLmhhbmRsZVNlcnZlckhlbGxvLFY9bC5oYW5kbGVDZXJ0aWZpY2F0ZSxPPWwuaGFuZGxlU2VydmVyS2V5RXhjaGFuZ2UseD1sLmhhbmRsZUNlcnRpZmljYXRlUmVxdWVzdCxLPWwuaGFuZGxlU2VydmVySGVsbG9Eb25lLE09bC5oYW5kbGVGaW5pc2hlZCxGPVtdO0ZbbC5Db25uZWN0aW9uRW5kLmNsaWVudF09W1tOLE4sUCxOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTl0sW0QsTixOLE4sTixOLE4sTixOLE4sTixWLE8seCxLLE4sTixOLE4sTixOXSxbRCxOLE4sTixOLE4sTixOLE4sTixOLE4sTyx4LEssTixOLE4sTixOLE5dLFtELE4sTixOLE4sTixOLE4sTixOLE4sTixOLHgsSyxOLE4sTixOLE4sTl0sW0QsTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixLLE4sTixOLE4sTixOXSxbRCxOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE5dLFtELE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTV0sW0QsTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOXSxbRCxOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE5dXTt2YXIgcT1sLmhhbmRsZUNsaWVudEhlbGxvLGo9bC5oYW5kbGVDbGllbnRLZXlFeGNoYW5nZSxIPWwuaGFuZGxlQ2VydGlmaWNhdGVWZXJpZnk7RltsLkNvbm5lY3Rpb25FbmQuc2VydmVyXT1bW04scSxOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOXSxbTixOLE4sTixOLE4sTixOLE4sTixOLFYsTixOLE4sTixOLE4sTixOLE5dLFtOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLGosTixOLE4sTl0sW04sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLEgsTixOLE4sTixOXSxbTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE5dLFtOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTV0sW04sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOXSxbTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE4sTixOLE5dXSxsLmdlbmVyYXRlS2V5cz1mdW5jdGlvbihlLHQpe3ZhciByPW4sYT10LmNsaWVudF9yYW5kb20rdC5zZXJ2ZXJfcmFuZG9tO2Uuc2Vzc2lvbi5yZXN1bWluZ3x8KHQubWFzdGVyX3NlY3JldD1yKHQucHJlX21hc3Rlcl9zZWNyZXQsXCJtYXN0ZXIgc2VjcmV0XCIsYSw0OCkuYnl0ZXMoKSx0LnByZV9tYXN0ZXJfc2VjcmV0PW51bGwpLGE9dC5zZXJ2ZXJfcmFuZG9tK3QuY2xpZW50X3JhbmRvbTt2YXIgaT0yKnQubWFjX2tleV9sZW5ndGgrMip0LmVuY19rZXlfbGVuZ3RoLHM9ZS52ZXJzaW9uLm1ham9yPT09bC5WZXJzaW9ucy5UTFNfMV8wLm1ham9yJiZlLnZlcnNpb24ubWlub3I9PT1sLlZlcnNpb25zLlRMU18xXzAubWlub3I7cyYmKGkrPTIqdC5maXhlZF9pdl9sZW5ndGgpO3ZhciBvPXIodC5tYXN0ZXJfc2VjcmV0LFwia2V5IGV4cGFuc2lvblwiLGEsaSksYz17Y2xpZW50X3dyaXRlX01BQ19rZXk6by5nZXRCeXRlcyh0Lm1hY19rZXlfbGVuZ3RoKSxzZXJ2ZXJfd3JpdGVfTUFDX2tleTpvLmdldEJ5dGVzKHQubWFjX2tleV9sZW5ndGgpLGNsaWVudF93cml0ZV9rZXk6by5nZXRCeXRlcyh0LmVuY19rZXlfbGVuZ3RoKSxzZXJ2ZXJfd3JpdGVfa2V5Om8uZ2V0Qnl0ZXModC5lbmNfa2V5X2xlbmd0aCl9O3JldHVybiBzJiYoYy5jbGllbnRfd3JpdGVfSVY9by5nZXRCeXRlcyh0LmZpeGVkX2l2X2xlbmd0aCksYy5zZXJ2ZXJfd3JpdGVfSVY9by5nZXRCeXRlcyh0LmZpeGVkX2l2X2xlbmd0aCkpLGN9LGwuY3JlYXRlQ29ubmVjdGlvblN0YXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZW50aXR5PT09bC5Db25uZWN0aW9uRW5kLmNsaWVudCxyPWZ1bmN0aW9uKCl7dmFyIGU9e3NlcXVlbmNlTnVtYmVyOlswLDBdLG1hY0tleTpudWxsLG1hY0xlbmd0aDowLG1hY0Z1bmN0aW9uOm51bGwsY2lwaGVyU3RhdGU6bnVsbCxjaXBoZXJGdW5jdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4hMH0sY29tcHJlc3Npb25TdGF0ZTpudWxsLGNvbXByZXNzRnVuY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuITB9LHVwZGF0ZVNlcXVlbmNlTnVtYmVyOmZ1bmN0aW9uKCl7XG40Mjk0OTY3Mjk1PT09ZS5zZXF1ZW5jZU51bWJlclsxXT8oZS5zZXF1ZW5jZU51bWJlclsxXT0wLCsrZS5zZXF1ZW5jZU51bWJlclswXSk6KytlLnNlcXVlbmNlTnVtYmVyWzFdfX07cmV0dXJuIGV9LGE9e3JlYWQ6cigpLHdyaXRlOnIoKX07aWYoYS5yZWFkLnVwZGF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBhLnJlYWQuY2lwaGVyRnVuY3Rpb24odCxhLnJlYWQpP2EucmVhZC5jb21wcmVzc0Z1bmN0aW9uKGUsdCxhLnJlYWQpfHxlLmVycm9yKGUse21lc3NhZ2U6XCJDb3VsZCBub3QgZGVjb21wcmVzcyByZWNvcmQuXCIsc2VuZDohMCxhbGVydDp7bGV2ZWw6bC5BbGVydC5MZXZlbC5mYXRhbCxkZXNjcmlwdGlvbjpsLkFsZXJ0LkRlc2NyaXB0aW9uLmRlY29tcHJlc3Npb25fZmFpbHVyZX19KTplLmVycm9yKGUse21lc3NhZ2U6XCJDb3VsZCBub3QgZGVjcnlwdCByZWNvcmQgb3IgYmFkIE1BQy5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uYmFkX3JlY29yZF9tYWN9fSksIWUuZmFpbH0sYS53cml0ZS51cGRhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS53cml0ZS5jb21wcmVzc0Z1bmN0aW9uKGUsdCxhLndyaXRlKT9hLndyaXRlLmNpcGhlckZ1bmN0aW9uKHQsYS53cml0ZSl8fGUuZXJyb3IoZSx7bWVzc2FnZTpcIkNvdWxkIG5vdCBlbmNyeXB0IHJlY29yZC5cIixzZW5kOiExLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uaW50ZXJuYWxfZXJyb3J9fSk6ZS5lcnJvcihlLHttZXNzYWdlOlwiQ291bGQgbm90IGNvbXByZXNzIHJlY29yZC5cIixzZW5kOiExLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uaW50ZXJuYWxfZXJyb3J9fSksIWUuZmFpbH0sZS5zZXNzaW9uKXt2YXIgbj1lLnNlc3Npb24uc3A7c3dpdGNoKGUuc2Vzc2lvbi5jaXBoZXJTdWl0ZS5pbml0U2VjdXJpdHlQYXJhbWV0ZXJzKG4pLG4ua2V5cz1sLmdlbmVyYXRlS2V5cyhlLG4pLGEucmVhZC5tYWNLZXk9dD9uLmtleXMuc2VydmVyX3dyaXRlX01BQ19rZXk6bi5rZXlzLmNsaWVudF93cml0ZV9NQUNfa2V5LGEud3JpdGUubWFjS2V5PXQ/bi5rZXlzLmNsaWVudF93cml0ZV9NQUNfa2V5Om4ua2V5cy5zZXJ2ZXJfd3JpdGVfTUFDX2tleSxlLnNlc3Npb24uY2lwaGVyU3VpdGUuaW5pdENvbm5lY3Rpb25TdGF0ZShhLGUsbiksbi5jb21wcmVzc2lvbl9hbGdvcml0aG0pe2Nhc2UgbC5Db21wcmVzc2lvbk1ldGhvZC5ub25lOmJyZWFrO2Nhc2UgbC5Db21wcmVzc2lvbk1ldGhvZC5kZWZsYXRlOmEucmVhZC5jb21wcmVzc0Z1bmN0aW9uPW8sYS53cml0ZS5jb21wcmVzc0Z1bmN0aW9uPXM7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBjb21wcmVzc2lvbiBhbGdvcml0aG0uXCIpfX1yZXR1cm4gYX0sbC5jcmVhdGVSYW5kb209ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0ZSx0PStlKzZlNCplLmdldFRpbWV6b25lT2Zmc2V0KCkscj1hLnV0aWwuY3JlYXRlQnVmZmVyKCk7cmV0dXJuIHIucHV0SW50MzIodCksci5wdXRCeXRlcyhhLnJhbmRvbS5nZXRCeXRlcygyOCkpLHJ9LGwuY3JlYXRlUmVjb3JkPWZ1bmN0aW9uKGUsdCl7aWYoIXQuZGF0YSlyZXR1cm4gbnVsbDt2YXIgcj17dHlwZTp0LnR5cGUsdmVyc2lvbjp7bWFqb3I6ZS52ZXJzaW9uLm1ham9yLG1pbm9yOmUudmVyc2lvbi5taW5vcn0sbGVuZ3RoOnQuZGF0YS5sZW5ndGgoKSxmcmFnbWVudDp0LmRhdGF9O3JldHVybiByfSxsLmNyZWF0ZUFsZXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiByLnB1dEJ5dGUodC5sZXZlbCksci5wdXRCeXRlKHQuZGVzY3JpcHRpb24pLGwuY3JlYXRlUmVjb3JkKGUse3R5cGU6bC5Db250ZW50VHlwZS5hbGVydCxkYXRhOnJ9KX0sbC5jcmVhdGVDbGllbnRIZWxsbz1mdW5jdGlvbihlKXtlLnNlc3Npb24uY2xpZW50SGVsbG9WZXJzaW9uPXttYWpvcjplLnZlcnNpb24ubWFqb3IsbWlub3I6ZS52ZXJzaW9uLm1pbm9yfTtmb3IodmFyIHQ9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpLHI9MDtyPGUuY2lwaGVyU3VpdGVzLmxlbmd0aDsrK3Ipe3ZhciBuPWUuY2lwaGVyU3VpdGVzW3JdO3QucHV0Qnl0ZShuLmlkWzBdKSx0LnB1dEJ5dGUobi5pZFsxXSl9dmFyIGk9dC5sZW5ndGgoKSxzPWEudXRpbC5jcmVhdGVCdWZmZXIoKTtzLnB1dEJ5dGUobC5Db21wcmVzc2lvbk1ldGhvZC5ub25lKTt2YXIgbz1zLmxlbmd0aCgpLGM9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO2lmKGUudmlydHVhbEhvc3Qpe3ZhciBwPWEudXRpbC5jcmVhdGVCdWZmZXIoKTtwLnB1dEJ5dGUoMCkscC5wdXRCeXRlKDApO3ZhciBoPWEudXRpbC5jcmVhdGVCdWZmZXIoKTtoLnB1dEJ5dGUoMCksdShoLDIsYS51dGlsLmNyZWF0ZUJ1ZmZlcihlLnZpcnR1YWxIb3N0KSk7dmFyIGY9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO3UoZiwyLGgpLHUocCwyLGYpLGMucHV0QnVmZmVyKHApfXZhciBkPWMubGVuZ3RoKCk7ZD4wJiYoZCs9Mik7dmFyIHk9ZS5zZXNzaW9uLmlkLGc9eS5sZW5ndGgrMSsyKzQrMjgrMitpKzErbytkLHY9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiB2LnB1dEJ5dGUobC5IYW5kc2hha2VUeXBlLmNsaWVudF9oZWxsbyksdi5wdXRJbnQyNChnKSx2LnB1dEJ5dGUoZS52ZXJzaW9uLm1ham9yKSx2LnB1dEJ5dGUoZS52ZXJzaW9uLm1pbm9yKSx2LnB1dEJ5dGVzKGUuc2Vzc2lvbi5zcC5jbGllbnRfcmFuZG9tKSx1KHYsMSxhLnV0aWwuY3JlYXRlQnVmZmVyKHkpKSx1KHYsMix0KSx1KHYsMSxzKSxkPjAmJnUodiwyLGMpLHZ9LGwuY3JlYXRlU2VydmVySGVsbG89ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXNzaW9uLmlkLHI9dC5sZW5ndGgrMSsyKzQrMjgrMisxLG49YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiBuLnB1dEJ5dGUobC5IYW5kc2hha2VUeXBlLnNlcnZlcl9oZWxsbyksbi5wdXRJbnQyNChyKSxuLnB1dEJ5dGUoZS52ZXJzaW9uLm1ham9yKSxuLnB1dEJ5dGUoZS52ZXJzaW9uLm1pbm9yKSxuLnB1dEJ5dGVzKGUuc2Vzc2lvbi5zcC5zZXJ2ZXJfcmFuZG9tKSx1KG4sMSxhLnV0aWwuY3JlYXRlQnVmZmVyKHQpKSxuLnB1dEJ5dGUoZS5zZXNzaW9uLmNpcGhlclN1aXRlLmlkWzBdKSxuLnB1dEJ5dGUoZS5zZXNzaW9uLmNpcGhlclN1aXRlLmlkWzFdKSxuLnB1dEJ5dGUoZS5zZXNzaW9uLmNvbXByZXNzaW9uTWV0aG9kKSxufSxsLmNyZWF0ZUNlcnRpZmljYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZW50aXR5PT09bC5Db25uZWN0aW9uRW5kLmNsaWVudCxyPW51bGw7aWYoZS5nZXRDZXJ0aWZpY2F0ZSl7dmFyIG47bj10P2Uuc2Vzc2lvbi5jZXJ0aWZpY2F0ZVJlcXVlc3Q6ZS5zZXNzaW9uLmV4dGVuc2lvbnMuc2VydmVyX25hbWUuc2VydmVyTmFtZUxpc3Qscj1lLmdldENlcnRpZmljYXRlKGUsbil9dmFyIGk9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO2lmKG51bGwhPT1yKXRyeXthLnV0aWwuaXNBcnJheShyKXx8KHI9W3JdKTtmb3IodmFyIHM9bnVsbCxvPTA7bzxyLmxlbmd0aDsrK28pe3ZhciBjPWEucGVtLmRlY29kZShyW29dKVswXTtpZihcIkNFUlRJRklDQVRFXCIhPT1jLnR5cGUmJlwiWDUwOSBDRVJUSUZJQ0FURVwiIT09Yy50eXBlJiZcIlRSVVNURUQgQ0VSVElGSUNBVEVcIiE9PWMudHlwZSl7dmFyIHA9bmV3IEVycm9yKCdDb3VsZCBub3QgY29udmVydCBjZXJ0aWZpY2F0ZSBmcm9tIFBFTTsgUEVNIGhlYWRlciB0eXBlIGlzIG5vdCBcIkNFUlRJRklDQVRFXCIsIFwiWDUwOSBDRVJUSUZJQ0FURVwiLCBvciBcIlRSVVNURUQgQ0VSVElGSUNBVEVcIi4nKTt0aHJvdyBwLmhlYWRlclR5cGU9Yy50eXBlLHB9aWYoYy5wcm9jVHlwZSYmXCJFTkNSWVBURURcIj09PWMucHJvY1R5cGUudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgY29udmVydCBjZXJ0aWZpY2F0ZSBmcm9tIFBFTTsgUEVNIGlzIGVuY3J5cHRlZC5cIik7dmFyIGg9YS51dGlsLmNyZWF0ZUJ1ZmZlcihjLmJvZHkpO251bGw9PT1zJiYocz1hLmFzbjEuZnJvbURlcihoLmJ5dGVzKCksITEpKTt2YXIgZj1hLnV0aWwuY3JlYXRlQnVmZmVyKCk7dShmLDMsaCksaS5wdXRCdWZmZXIoZil9cj1hLnBraS5jZXJ0aWZpY2F0ZUZyb21Bc24xKHMpLHQ/ZS5zZXNzaW9uLmNsaWVudENlcnRpZmljYXRlPXI6ZS5zZXNzaW9uLnNlcnZlckNlcnRpZmljYXRlPXJ9Y2F0Y2godCl7cmV0dXJuIGUuZXJyb3IoZSx7bWVzc2FnZTpcIkNvdWxkIG5vdCBzZW5kIGNlcnRpZmljYXRlIGxpc3QuXCIsY2F1c2U6dCxzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uYmFkX2NlcnRpZmljYXRlfX0pfXZhciBkPTMraS5sZW5ndGgoKSx5PWEudXRpbC5jcmVhdGVCdWZmZXIoKTtyZXR1cm4geS5wdXRCeXRlKGwuSGFuZHNoYWtlVHlwZS5jZXJ0aWZpY2F0ZSkseS5wdXRJbnQyNChkKSx1KHksMyxpKSx5fSxsLmNyZWF0ZUNsaWVudEtleUV4Y2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWEudXRpbC5jcmVhdGVCdWZmZXIoKTt0LnB1dEJ5dGUoZS5zZXNzaW9uLmNsaWVudEhlbGxvVmVyc2lvbi5tYWpvciksdC5wdXRCeXRlKGUuc2Vzc2lvbi5jbGllbnRIZWxsb1ZlcnNpb24ubWlub3IpLHQucHV0Qnl0ZXMoYS5yYW5kb20uZ2V0Qnl0ZXMoNDYpKTt2YXIgcj1lLnNlc3Npb24uc3A7ci5wcmVfbWFzdGVyX3NlY3JldD10LmdldEJ5dGVzKCk7dmFyIG49ZS5zZXNzaW9uLnNlcnZlckNlcnRpZmljYXRlLnB1YmxpY0tleTt0PW4uZW5jcnlwdChyLnByZV9tYXN0ZXJfc2VjcmV0KTt2YXIgaT10Lmxlbmd0aCsyLHM9YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiBzLnB1dEJ5dGUobC5IYW5kc2hha2VUeXBlLmNsaWVudF9rZXlfZXhjaGFuZ2UpLHMucHV0SW50MjQoaSkscy5wdXRJbnQxNih0Lmxlbmd0aCkscy5wdXRCeXRlcyh0KSxzfSxsLmNyZWF0ZVNlcnZlcktleUV4Y2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PTAscj1hLnV0aWwuY3JlYXRlQnVmZmVyKCk7cmV0dXJuIHQ+MCYmKHIucHV0Qnl0ZShsLkhhbmRzaGFrZVR5cGUuc2VydmVyX2tleV9leGNoYW5nZSksci5wdXRJbnQyNCh0KSkscn0sbC5nZXRDbGllbnRTaWduYXR1cmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hLnV0aWwuY3JlYXRlQnVmZmVyKCk7ci5wdXRCdWZmZXIoZS5zZXNzaW9uLm1kNS5kaWdlc3QoKSksci5wdXRCdWZmZXIoZS5zZXNzaW9uLnNoYTEuZGlnZXN0KCkpLHI9ci5nZXRCeXRlcygpLGUuZ2V0U2lnbmF0dXJlPWUuZ2V0U2lnbmF0dXJlfHxmdW5jdGlvbihlLHQscil7dmFyIG49bnVsbDtpZihlLmdldFByaXZhdGVLZXkpdHJ5e249ZS5nZXRQcml2YXRlS2V5KGUsZS5zZXNzaW9uLmNsaWVudENlcnRpZmljYXRlKSxuPWEucGtpLnByaXZhdGVLZXlGcm9tUGVtKG4pfWNhdGNoKHQpe2UuZXJyb3IoZSx7bWVzc2FnZTpcIkNvdWxkIG5vdCBnZXQgcHJpdmF0ZSBrZXkuXCIsY2F1c2U6dCxzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24uaW50ZXJuYWxfZXJyb3J9fSl9bnVsbD09PW4/ZS5lcnJvcihlLHttZXNzYWdlOlwiTm8gcHJpdmF0ZSBrZXkgc2V0LlwiLHNlbmQ6ITAsYWxlcnQ6e2xldmVsOmwuQWxlcnQuTGV2ZWwuZmF0YWwsZGVzY3JpcHRpb246bC5BbGVydC5EZXNjcmlwdGlvbi5pbnRlcm5hbF9lcnJvcn19KTp0PW4uc2lnbih0LG51bGwpLHIoZSx0KX0sZS5nZXRTaWduYXR1cmUoZSxyLHQpfSxsLmNyZWF0ZUNlcnRpZmljYXRlVmVyaWZ5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5sZW5ndGgrMixuPWEudXRpbC5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gbi5wdXRCeXRlKGwuSGFuZHNoYWtlVHlwZS5jZXJ0aWZpY2F0ZV92ZXJpZnkpLG4ucHV0SW50MjQociksbi5wdXRJbnQxNih0Lmxlbmd0aCksbi5wdXRCeXRlcyh0KSxufSxsLmNyZWF0ZUNlcnRpZmljYXRlUmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD1hLnV0aWwuY3JlYXRlQnVmZmVyKCk7dC5wdXRCeXRlKDEpO3ZhciByPWEudXRpbC5jcmVhdGVCdWZmZXIoKTtmb3IodmFyIG4gaW4gZS5jYVN0b3JlLmNlcnRzKXt2YXIgaT1lLmNhU3RvcmUuY2VydHNbbl0scz1hLnBraS5kaXN0aW5ndWlzaGVkTmFtZVRvQXNuMShpLnN1YmplY3QpLG89YS5hc24xLnRvRGVyKHMpO3IucHV0SW50MTYoby5sZW5ndGgoKSksci5wdXRCdWZmZXIobyl9dmFyIGM9MSt0Lmxlbmd0aCgpKzIrci5sZW5ndGgoKSxwPWEudXRpbC5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gcC5wdXRCeXRlKGwuSGFuZHNoYWtlVHlwZS5jZXJ0aWZpY2F0ZV9yZXF1ZXN0KSxwLnB1dEludDI0KGMpLHUocCwxLHQpLHUocCwyLHIpLHB9LGwuY3JlYXRlU2VydmVySGVsbG9Eb25lPWZ1bmN0aW9uKGUpe3ZhciB0PWEudXRpbC5jcmVhdGVCdWZmZXIoKTtyZXR1cm4gdC5wdXRCeXRlKGwuSGFuZHNoYWtlVHlwZS5zZXJ2ZXJfaGVsbG9fZG9uZSksdC5wdXRJbnQyNCgwKSx0fSxsLmNyZWF0ZUNoYW5nZUNpcGhlclNwZWM9ZnVuY3Rpb24oKXt2YXIgZT1hLnV0aWwuY3JlYXRlQnVmZmVyKCk7cmV0dXJuIGUucHV0Qnl0ZSgxKSxlfSxsLmNyZWF0ZUZpbmlzaGVkPWZ1bmN0aW9uKGUpe3ZhciB0PWEudXRpbC5jcmVhdGVCdWZmZXIoKTt0LnB1dEJ1ZmZlcihlLnNlc3Npb24ubWQ1LmRpZ2VzdCgpKSx0LnB1dEJ1ZmZlcihlLnNlc3Npb24uc2hhMS5kaWdlc3QoKSk7dmFyIHI9ZS5lbnRpdHk9PT1sLkNvbm5lY3Rpb25FbmQuY2xpZW50LGk9ZS5zZXNzaW9uLnNwLHM9MTIsbz1uLGM9cj9cImNsaWVudCBmaW5pc2hlZFwiOlwic2VydmVyIGZpbmlzaGVkXCI7dD1vKGkubWFzdGVyX3NlY3JldCxjLHQuZ2V0Qnl0ZXMoKSxzKTt2YXIgdT1hLnV0aWwuY3JlYXRlQnVmZmVyKCk7cmV0dXJuIHUucHV0Qnl0ZShsLkhhbmRzaGFrZVR5cGUuZmluaXNoZWQpLHUucHV0SW50MjQodC5sZW5ndGgoKSksdS5wdXRCdWZmZXIodCksdX0sbC5jcmVhdGVIZWFydGJlYXQ9ZnVuY3Rpb24oZSx0LHIpe1widW5kZWZpbmVkXCI9PXR5cGVvZiByJiYocj10Lmxlbmd0aCk7dmFyIG49YS51dGlsLmNyZWF0ZUJ1ZmZlcigpO24ucHV0Qnl0ZShlKSxuLnB1dEludDE2KHIpLG4ucHV0Qnl0ZXModCk7dmFyIGk9bi5sZW5ndGgoKSxzPU1hdGgubWF4KDE2LGktci0zKTtyZXR1cm4gbi5wdXRCeXRlcyhhLnJhbmRvbS5nZXRCeXRlcyhzKSksbn0sbC5xdWV1ZT1mdW5jdGlvbihlLHQpe2lmKHQmJigwIT09dC5mcmFnbWVudC5sZW5ndGgoKXx8dC50eXBlIT09bC5Db250ZW50VHlwZS5oYW5kc2hha2UmJnQudHlwZSE9PWwuQ29udGVudFR5cGUuYWxlcnQmJnQudHlwZSE9PWwuQ29udGVudFR5cGUuY2hhbmdlX2NpcGhlcl9zcGVjKSl7aWYodC50eXBlPT09bC5Db250ZW50VHlwZS5oYW5kc2hha2Upe3ZhciByPXQuZnJhZ21lbnQuYnl0ZXMoKTtlLnNlc3Npb24ubWQ1LnVwZGF0ZShyKSxlLnNlc3Npb24uc2hhMS51cGRhdGUocikscj1udWxsfXZhciBuO2lmKHQuZnJhZ21lbnQubGVuZ3RoKCk8PWwuTWF4RnJhZ21lbnQpbj1bdF07ZWxzZXtuPVtdO2Zvcih2YXIgaT10LmZyYWdtZW50LmJ5dGVzKCk7aS5sZW5ndGg+bC5NYXhGcmFnbWVudDspbi5wdXNoKGwuY3JlYXRlUmVjb3JkKGUse3R5cGU6dC50eXBlLGRhdGE6YS51dGlsLmNyZWF0ZUJ1ZmZlcihpLnNsaWNlKDAsbC5NYXhGcmFnbWVudCkpfSkpLGk9aS5zbGljZShsLk1heEZyYWdtZW50KTtpLmxlbmd0aD4wJiZuLnB1c2gobC5jcmVhdGVSZWNvcmQoZSx7dHlwZTp0LnR5cGUsZGF0YTphLnV0aWwuY3JlYXRlQnVmZmVyKGkpfSkpfWZvcih2YXIgcz0wO3M8bi5sZW5ndGgmJiFlLmZhaWw7KytzKXt2YXIgbz1uW3NdLGM9ZS5zdGF0ZS5jdXJyZW50LndyaXRlO2MudXBkYXRlKGUsbykmJmUucmVjb3Jkcy5wdXNoKG8pfX19LGwuZmx1c2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLnJlY29yZHMubGVuZ3RoOysrdCl7dmFyIHI9ZS5yZWNvcmRzW3RdO2UudGxzRGF0YS5wdXRCeXRlKHIudHlwZSksZS50bHNEYXRhLnB1dEJ5dGUoci52ZXJzaW9uLm1ham9yKSxlLnRsc0RhdGEucHV0Qnl0ZShyLnZlcnNpb24ubWlub3IpLGUudGxzRGF0YS5wdXRJbnQxNihyLmZyYWdtZW50Lmxlbmd0aCgpKSxlLnRsc0RhdGEucHV0QnVmZmVyKGUucmVjb3Jkc1t0XS5mcmFnbWVudCl9cmV0dXJuIGUucmVjb3Jkcz1bXSxlLnRsc0RhdGFSZWFkeShlKX07dmFyIEc9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UhMDpyZXR1cm4hMDtjYXNlIGEucGtpLmNlcnRpZmljYXRlRXJyb3IuYmFkX2NlcnRpZmljYXRlOnJldHVybiBsLkFsZXJ0LkRlc2NyaXB0aW9uLmJhZF9jZXJ0aWZpY2F0ZTtjYXNlIGEucGtpLmNlcnRpZmljYXRlRXJyb3IudW5zdXBwb3J0ZWRfY2VydGlmaWNhdGU6cmV0dXJuIGwuQWxlcnQuRGVzY3JpcHRpb24udW5zdXBwb3J0ZWRfY2VydGlmaWNhdGU7Y2FzZSBhLnBraS5jZXJ0aWZpY2F0ZUVycm9yLmNlcnRpZmljYXRlX3Jldm9rZWQ6cmV0dXJuIGwuQWxlcnQuRGVzY3JpcHRpb24uY2VydGlmaWNhdGVfcmV2b2tlZDtjYXNlIGEucGtpLmNlcnRpZmljYXRlRXJyb3IuY2VydGlmaWNhdGVfZXhwaXJlZDpyZXR1cm4gbC5BbGVydC5EZXNjcmlwdGlvbi5jZXJ0aWZpY2F0ZV9leHBpcmVkO2Nhc2UgYS5wa2kuY2VydGlmaWNhdGVFcnJvci5jZXJ0aWZpY2F0ZV91bmtub3duOnJldHVybiBsLkFsZXJ0LkRlc2NyaXB0aW9uLmNlcnRpZmljYXRlX3Vua25vd247Y2FzZSBhLnBraS5jZXJ0aWZpY2F0ZUVycm9yLnVua25vd25fY2E6cmV0dXJuIGwuQWxlcnQuRGVzY3JpcHRpb24udW5rbm93bl9jYTtkZWZhdWx0OnJldHVybiBsLkFsZXJ0LkRlc2NyaXB0aW9uLmJhZF9jZXJ0aWZpY2F0ZX19LFE9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UhMDpyZXR1cm4hMDtjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24uYmFkX2NlcnRpZmljYXRlOnJldHVybiBhLnBraS5jZXJ0aWZpY2F0ZUVycm9yLmJhZF9jZXJ0aWZpY2F0ZTtjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24udW5zdXBwb3J0ZWRfY2VydGlmaWNhdGU6cmV0dXJuIGEucGtpLmNlcnRpZmljYXRlRXJyb3IudW5zdXBwb3J0ZWRfY2VydGlmaWNhdGU7Y2FzZSBsLkFsZXJ0LkRlc2NyaXB0aW9uLmNlcnRpZmljYXRlX3Jldm9rZWQ6cmV0dXJuIGEucGtpLmNlcnRpZmljYXRlRXJyb3IuY2VydGlmaWNhdGVfcmV2b2tlZDtjYXNlIGwuQWxlcnQuRGVzY3JpcHRpb24uY2VydGlmaWNhdGVfZXhwaXJlZDpyZXR1cm4gYS5wa2kuY2VydGlmaWNhdGVFcnJvci5jZXJ0aWZpY2F0ZV9leHBpcmVkO2Nhc2UgbC5BbGVydC5EZXNjcmlwdGlvbi5jZXJ0aWZpY2F0ZV91bmtub3duOnJldHVybiBhLnBraS5jZXJ0aWZpY2F0ZUVycm9yLmNlcnRpZmljYXRlX3Vua25vd247Y2FzZSBsLkFsZXJ0LkRlc2NyaXB0aW9uLnVua25vd25fY2E6cmV0dXJuIGEucGtpLmNlcnRpZmljYXRlRXJyb3IudW5rbm93bl9jYTtkZWZhdWx0OnJldHVybiBhLnBraS5jZXJ0aWZpY2F0ZUVycm9yLmJhZF9jZXJ0aWZpY2F0ZX19O2wudmVyaWZ5Q2VydGlmaWNhdGVDaGFpbj1mdW5jdGlvbihlLHQpe3RyeXthLnBraS52ZXJpZnlDZXJ0aWZpY2F0ZUNoYWluKGUuY2FTdG9yZSx0LGZ1bmN0aW9uKHQscixuKXt2YXIgaT0oRyh0KSxlLnZlcmlmeShlLHQscixuKSk7aWYoaSE9PSEwKXtpZihcIm9iamVjdFwiPT10eXBlb2YgaSYmIWEudXRpbC5pc0FycmF5KGkpKXt2YXIgcz1uZXcgRXJyb3IoXCJUaGUgYXBwbGljYXRpb24gcmVqZWN0ZWQgdGhlIGNlcnRpZmljYXRlLlwiKTt0aHJvdyBzLnNlbmQ9ITAscy5hbGVydD17bGV2ZWw6bC5BbGVydC5MZXZlbC5mYXRhbCxkZXNjcmlwdGlvbjpsLkFsZXJ0LkRlc2NyaXB0aW9uLmJhZF9jZXJ0aWZpY2F0ZX0saS5tZXNzYWdlJiYocy5tZXNzYWdlPWkubWVzc2FnZSksaS5hbGVydCYmKHMuYWxlcnQuZGVzY3JpcHRpb249aS5hbGVydCksc31pIT09dCYmKGk9UShpKSl9cmV0dXJuIGl9KX1jYXRjaCh0KXt2YXIgcj10OyhcIm9iamVjdFwiIT10eXBlb2Ygcnx8YS51dGlsLmlzQXJyYXkocikpJiYocj17c2VuZDohMCxhbGVydDp7bGV2ZWw6bC5BbGVydC5MZXZlbC5mYXRhbCxkZXNjcmlwdGlvbjpHKHQpfX0pLFwic2VuZFwiaW4gcnx8KHIuc2VuZD0hMCksXCJhbGVydFwiaW4gcnx8KHIuYWxlcnQ9e2xldmVsOmwuQWxlcnQuTGV2ZWwuZmF0YWwsZGVzY3JpcHRpb246RyhyLmVycm9yKX0pLGUuZXJyb3IoZSxyKX1yZXR1cm4hZS5mYWlsfSxsLmNyZWF0ZVNlc3Npb25DYWNoZT1mdW5jdGlvbihlLHQpe3ZhciByPW51bGw7aWYoZSYmZS5nZXRTZXNzaW9uJiZlLnNldFNlc3Npb24mJmUub3JkZXIpcj1lO2Vsc2V7cj17fSxyLmNhY2hlPWV8fHt9LHIuY2FwYWNpdHk9TWF0aC5tYXgodHx8MTAwLDEpLHIub3JkZXI9W107Zm9yKHZhciBuIGluIGUpci5vcmRlci5sZW5ndGg8PXQ/ci5vcmRlci5wdXNoKG4pOmRlbGV0ZSBlW25dO3IuZ2V0U2Vzc2lvbj1mdW5jdGlvbihlKXt2YXIgdD1udWxsLG49bnVsbDtpZihlP249YS51dGlsLmJ5dGVzVG9IZXgoZSk6ci5vcmRlci5sZW5ndGg+MCYmKG49ci5vcmRlclswXSksbnVsbCE9PW4mJm4gaW4gci5jYWNoZSl7dD1yLmNhY2hlW25dLGRlbGV0ZSByLmNhY2hlW25dO2Zvcih2YXIgaSBpbiByLm9yZGVyKWlmKHIub3JkZXJbaV09PT1uKXtyLm9yZGVyLnNwbGljZShpLDEpO2JyZWFrfX1yZXR1cm4gdH0sci5zZXRTZXNzaW9uPWZ1bmN0aW9uKGUsdCl7aWYoci5vcmRlci5sZW5ndGg9PT1yLmNhcGFjaXR5KXt2YXIgbj1yLm9yZGVyLnNoaWZ0KCk7ZGVsZXRlIHIuY2FjaGVbbl19dmFyIG49YS51dGlsLmJ5dGVzVG9IZXgoZSk7ci5vcmRlci5wdXNoKG4pLHIuY2FjaGVbbl09dH19cmV0dXJuIHJ9LGwuY3JlYXRlQ29ubmVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3Q9ZS5jYVN0b3JlP2EudXRpbC5pc0FycmF5KGUuY2FTdG9yZSk/YS5wa2kuY3JlYXRlQ2FTdG9yZShlLmNhU3RvcmUpOmUuY2FTdG9yZTphLnBraS5jcmVhdGVDYVN0b3JlKCk7dmFyIHI9ZS5jaXBoZXJTdWl0ZXN8fG51bGw7aWYobnVsbD09PXIpe3I9W107Zm9yKHZhciBuIGluIGwuQ2lwaGVyU3VpdGVzKXIucHVzaChsLkNpcGhlclN1aXRlc1tuXSl9dmFyIGk9ZS5zZXJ2ZXI/bC5Db25uZWN0aW9uRW5kLnNlcnZlcjpsLkNvbm5lY3Rpb25FbmQuY2xpZW50LHM9ZS5zZXNzaW9uQ2FjaGU/bC5jcmVhdGVTZXNzaW9uQ2FjaGUoZS5zZXNzaW9uQ2FjaGUpOm51bGwsbz17dmVyc2lvbjp7bWFqb3I6bC5WZXJzaW9uLm1ham9yLG1pbm9yOmwuVmVyc2lvbi5taW5vcn0sZW50aXR5Omksc2Vzc2lvbklkOmUuc2Vzc2lvbklkLGNhU3RvcmU6dCxzZXNzaW9uQ2FjaGU6cyxjaXBoZXJTdWl0ZXM6cixjb25uZWN0ZWQ6ZS5jb25uZWN0ZWQsdmlydHVhbEhvc3Q6ZS52aXJ0dWFsSG9zdHx8bnVsbCx2ZXJpZnlDbGllbnQ6ZS52ZXJpZnlDbGllbnR8fCExLHZlcmlmeTplLnZlcmlmeXx8ZnVuY3Rpb24oZSx0LHIsYSl7cmV0dXJuIHR9LGdldENlcnRpZmljYXRlOmUuZ2V0Q2VydGlmaWNhdGV8fG51bGwsZ2V0UHJpdmF0ZUtleTplLmdldFByaXZhdGVLZXl8fG51bGwsZ2V0U2lnbmF0dXJlOmUuZ2V0U2lnbmF0dXJlfHxudWxsLGlucHV0OmEudXRpbC5jcmVhdGVCdWZmZXIoKSx0bHNEYXRhOmEudXRpbC5jcmVhdGVCdWZmZXIoKSxkYXRhOmEudXRpbC5jcmVhdGVCdWZmZXIoKSx0bHNEYXRhUmVhZHk6ZS50bHNEYXRhUmVhZHksZGF0YVJlYWR5OmUuZGF0YVJlYWR5LGhlYXJ0YmVhdFJlY2VpdmVkOmUuaGVhcnRiZWF0UmVjZWl2ZWQsY2xvc2VkOmUuY2xvc2VkLGVycm9yOmZ1bmN0aW9uKHQscil7ci5vcmlnaW49ci5vcmlnaW58fCh0LmVudGl0eT09PWwuQ29ubmVjdGlvbkVuZC5jbGllbnQ/XCJjbGllbnRcIjpcInNlcnZlclwiKSxyLnNlbmQmJihsLnF1ZXVlKHQsbC5jcmVhdGVBbGVydCh0LHIuYWxlcnQpKSxsLmZsdXNoKHQpKTt2YXIgYT1yLmZhdGFsIT09ITE7YSYmKHQuZmFpbD0hMCksZS5lcnJvcih0LHIpLGEmJnQuY2xvc2UoITEpfSxkZWZsYXRlOmUuZGVmbGF0ZXx8bnVsbCxpbmZsYXRlOmUuaW5mbGF0ZXx8bnVsbH07by5yZXNldD1mdW5jdGlvbihlKXtvLnZlcnNpb249e21ham9yOmwuVmVyc2lvbi5tYWpvcixtaW5vcjpsLlZlcnNpb24ubWlub3J9LG8ucmVjb3JkPW51bGwsby5zZXNzaW9uPW51bGwsby5wZWVyQ2VydGlmaWNhdGU9bnVsbCxvLnN0YXRlPXtwZW5kaW5nOm51bGwsY3VycmVudDpudWxsfSxvLmV4cGVjdD1vLmVudGl0eT09PWwuQ29ubmVjdGlvbkVuZC5jbGllbnQ/cDpFLG8uZnJhZ21lbnRlZD1udWxsLG8ucmVjb3Jkcz1bXSxvLm9wZW49ITEsby5oYW5kc2hha2VzPTAsby5oYW5kc2hha2luZz0hMSxvLmlzQ29ubmVjdGVkPSExLG8uZmFpbD0hKGV8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlKSxvLmlucHV0LmNsZWFyKCksby50bHNEYXRhLmNsZWFyKCksby5kYXRhLmNsZWFyKCksby5zdGF0ZS5jdXJyZW50PWwuY3JlYXRlQ29ubmVjdGlvblN0YXRlKG8pfSxvLnJlc2V0KCk7dmFyIGM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnR5cGUtbC5Db250ZW50VHlwZS5jaGFuZ2VfY2lwaGVyX3NwZWMsYT1VW2UuZW50aXR5XVtlLmV4cGVjdF07ciBpbiBhP2Fbcl0oZSx0KTpsLmhhbmRsZVVuZXhwZWN0ZWQoZSx0KX0sdT1mdW5jdGlvbihlKXt2YXIgdD0wLHI9ZS5pbnB1dCxuPXIubGVuZ3RoKCk7aWYobjw1KXQ9NS1uO2Vsc2V7ZS5yZWNvcmQ9e3R5cGU6ci5nZXRCeXRlKCksdmVyc2lvbjp7bWFqb3I6ci5nZXRCeXRlKCksbWlub3I6ci5nZXRCeXRlKCl9LGxlbmd0aDpyLmdldEludDE2KCksZnJhZ21lbnQ6YS51dGlsLmNyZWF0ZUJ1ZmZlcigpLHJlYWR5OiExfTt2YXIgaT1lLnJlY29yZC52ZXJzaW9uLm1ham9yPT09ZS52ZXJzaW9uLm1ham9yO2kmJmUuc2Vzc2lvbiYmZS5zZXNzaW9uLnZlcnNpb24mJihpPWUucmVjb3JkLnZlcnNpb24ubWlub3I9PT1lLnZlcnNpb24ubWlub3IpLGl8fGUuZXJyb3IoZSx7bWVzc2FnZTpcIkluY29tcGF0aWJsZSBUTFMgdmVyc2lvbi5cIixzZW5kOiEwLGFsZXJ0OntsZXZlbDpsLkFsZXJ0LkxldmVsLmZhdGFsLGRlc2NyaXB0aW9uOmwuQWxlcnQuRGVzY3JpcHRpb24ucHJvdG9jb2xfdmVyc2lvbn19KX1yZXR1cm4gdH0saD1mdW5jdGlvbihlKXt2YXIgdD0wLHI9ZS5pbnB1dCxhPXIubGVuZ3RoKCk7aWYoYTxlLnJlY29yZC5sZW5ndGgpdD1lLnJlY29yZC5sZW5ndGgtYTtlbHNle2UucmVjb3JkLmZyYWdtZW50LnB1dEJ5dGVzKHIuZ2V0Qnl0ZXMoZS5yZWNvcmQubGVuZ3RoKSksci5jb21wYWN0KCk7dmFyIG49ZS5zdGF0ZS5jdXJyZW50LnJlYWQ7bi51cGRhdGUoZSxlLnJlY29yZCkmJihudWxsIT09ZS5mcmFnbWVudGVkJiYoZS5mcmFnbWVudGVkLnR5cGU9PT1lLnJlY29yZC50eXBlPyhlLmZyYWdtZW50ZWQuZnJhZ21lbnQucHV0QnVmZmVyKGUucmVjb3JkLmZyYWdtZW50KSxlLnJlY29yZD1lLmZyYWdtZW50ZWQpOmUuZXJyb3IoZSx7bWVzc2FnZTpcIkludmFsaWQgZnJhZ21lbnRlZCByZWNvcmQuXCIsc2VuZDohMCxhbGVydDp7bGV2ZWw6bC5BbGVydC5MZXZlbC5mYXRhbCxkZXNjcmlwdGlvbjpsLkFsZXJ0LkRlc2NyaXB0aW9uLnVuZXhwZWN0ZWRfbWVzc2FnZX19KSksZS5yZWNvcmQucmVhZHk9ITApfXJldHVybiB0fTtyZXR1cm4gby5oYW5kc2hha2U9ZnVuY3Rpb24oZSl7aWYoby5lbnRpdHkhPT1sLkNvbm5lY3Rpb25FbmQuY2xpZW50KW8uZXJyb3Iobyx7bWVzc2FnZTpcIkNhbm5vdCBpbml0aWF0ZSBoYW5kc2hha2UgYXMgYSBzZXJ2ZXIuXCIsZmF0YWw6ITF9KTtlbHNlIGlmKG8uaGFuZHNoYWtpbmcpby5lcnJvcihvLHttZXNzYWdlOlwiSGFuZHNoYWtlIGFscmVhZHkgaW4gcHJvZ3Jlc3MuXCIsZmF0YWw6ITF9KTtlbHNle28uZmFpbCYmIW8ub3BlbiYmMD09PW8uaGFuZHNoYWtlcyYmKG8uZmFpbD0hMSksby5oYW5kc2hha2luZz0hMCxlPWV8fFwiXCI7dmFyIHQ9bnVsbDtlLmxlbmd0aD4wJiYoby5zZXNzaW9uQ2FjaGUmJih0PW8uc2Vzc2lvbkNhY2hlLmdldFNlc3Npb24oZSkpLG51bGw9PT10JiYoZT1cIlwiKSksMD09PWUubGVuZ3RoJiZvLnNlc3Npb25DYWNoZSYmKHQ9by5zZXNzaW9uQ2FjaGUuZ2V0U2Vzc2lvbigpLG51bGwhPT10JiYoZT10LmlkKSksby5zZXNzaW9uPXtpZDplLHZlcnNpb246bnVsbCxjaXBoZXJTdWl0ZTpudWxsLGNvbXByZXNzaW9uTWV0aG9kOm51bGwsc2VydmVyQ2VydGlmaWNhdGU6bnVsbCxjZXJ0aWZpY2F0ZVJlcXVlc3Q6bnVsbCxjbGllbnRDZXJ0aWZpY2F0ZTpudWxsLHNwOnt9LG1kNTphLm1kLm1kNS5jcmVhdGUoKSxzaGExOmEubWQuc2hhMS5jcmVhdGUoKX0sdCYmKG8udmVyc2lvbj10LnZlcnNpb24sby5zZXNzaW9uLnNwPXQuc3ApLG8uc2Vzc2lvbi5zcC5jbGllbnRfcmFuZG9tPWwuY3JlYXRlUmFuZG9tKCkuZ2V0Qnl0ZXMoKSxvLm9wZW49ITAsbC5xdWV1ZShvLGwuY3JlYXRlUmVjb3JkKG8se3R5cGU6bC5Db250ZW50VHlwZS5oYW5kc2hha2UsZGF0YTpsLmNyZWF0ZUNsaWVudEhlbGxvKG8pfSkpLGwuZmx1c2gobyl9fSxvLnByb2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9MDtyZXR1cm4gZSYmby5pbnB1dC5wdXRCeXRlcyhlKSxvLmZhaWx8fChudWxsIT09by5yZWNvcmQmJm8ucmVjb3JkLnJlYWR5JiZvLnJlY29yZC5mcmFnbWVudC5pc0VtcHR5KCkmJihvLnJlY29yZD1udWxsKSxudWxsPT09by5yZWNvcmQmJih0PXUobykpLG8uZmFpbHx8bnVsbD09PW8ucmVjb3JkfHxvLnJlY29yZC5yZWFkeXx8KHQ9aChvKSksIW8uZmFpbCYmbnVsbCE9PW8ucmVjb3JkJiZvLnJlY29yZC5yZWFkeSYmYyhvLG8ucmVjb3JkKSksdH0sby5wcmVwYXJlPWZ1bmN0aW9uKGUpe3JldHVybiBsLnF1ZXVlKG8sbC5jcmVhdGVSZWNvcmQobyx7dHlwZTpsLkNvbnRlbnRUeXBlLmFwcGxpY2F0aW9uX2RhdGEsZGF0YTphLnV0aWwuY3JlYXRlQnVmZmVyKGUpfSkpLGwuZmx1c2gobyl9LG8ucHJlcGFyZUhlYXJ0YmVhdFJlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIGEudXRpbC5CeXRlQnVmZmVyJiYoZT1lLmJ5dGVzKCkpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0JiYodD1lLmxlbmd0aCksby5leHBlY3RlZEhlYXJ0YmVhdFBheWxvYWQ9ZSxsLnF1ZXVlKG8sbC5jcmVhdGVSZWNvcmQobyx7dHlwZTpsLkNvbnRlbnRUeXBlLmhlYXJ0YmVhdCxkYXRhOmwuY3JlYXRlSGVhcnRiZWF0KGwuSGVhcnRiZWF0TWVzc2FnZVR5cGUuaGVhcnRiZWF0X3JlcXVlc3QsZSx0KX0pKSxsLmZsdXNoKG8pfSxvLmNsb3NlPWZ1bmN0aW9uKGUpe2lmKCFvLmZhaWwmJm8uc2Vzc2lvbkNhY2hlJiZvLnNlc3Npb24pe3ZhciB0PXtpZDpvLnNlc3Npb24uaWQsdmVyc2lvbjpvLnNlc3Npb24udmVyc2lvbixzcDpvLnNlc3Npb24uc3B9O3Quc3Aua2V5cz1udWxsLG8uc2Vzc2lvbkNhY2hlLnNldFNlc3Npb24odC5pZCx0KX1vLm9wZW4mJihvLm9wZW49ITEsby5pbnB1dC5jbGVhcigpLChvLmlzQ29ubmVjdGVkfHxvLmhhbmRzaGFraW5nKSYmKG8uaXNDb25uZWN0ZWQ9by5oYW5kc2hha2luZz0hMSxsLnF1ZXVlKG8sbC5jcmVhdGVBbGVydChvLHtsZXZlbDpsLkFsZXJ0LkxldmVsLndhcm5pbmcsZGVzY3JpcHRpb246bC5BbGVydC5EZXNjcmlwdGlvbi5jbG9zZV9ub3RpZnl9KSksbC5mbHVzaChvKSksby5jbG9zZWQobykpLG8ucmVzZXQoZSl9LG99LGUuZXhwb3J0cz1hLnRscz1hLnRsc3x8e307Zm9yKHZhciB6IGluIGwpXCJmdW5jdGlvblwiIT10eXBlb2YgbFt6XSYmKGEudGxzW3pdPWxbel0pO2EudGxzLnByZl90bHMxPW4sYS50bHMuaG1hY19zaGExPWksYS50bHMuY3JlYXRlU2Vzc2lvbkNhY2hlPWwuY3JlYXRlU2Vzc2lvbkNhY2hlLGEudGxzLmNyZWF0ZUNvbm5lY3Rpb249bC5jcmVhdGVDb25uZWN0aW9ufSxmdW5jdGlvbihlLHQpe30sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDApLHIoNSkscigzNCkscigzKSxyKDEyKSxyKDE5KSxyKDEwKSxyKDgpLHIoMzUpLHIoMjApLHIoMzYpLHIoMjEpLHIoMTUpLHIoNykscigyMykscigyNCkscigzOCkscigyNikscigyNykscigyOCkscigxNikscigyKSxyKDI5KSxyKDQwKSxyKDQxKSxyKDMxKSxyKDEpfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gYShlLHQscil7dmFyIGE9dC5lbnRpdHk9PT11LnRscy5Db25uZWN0aW9uRW5kLmNsaWVudDtlLnJlYWQuY2lwaGVyU3RhdGU9e2luaXQ6ITEsY2lwaGVyOnUuY2lwaGVyLmNyZWF0ZURlY2lwaGVyKFwiQUVTLUNCQ1wiLGE/ci5rZXlzLnNlcnZlcl93cml0ZV9rZXk6ci5rZXlzLmNsaWVudF93cml0ZV9rZXkpLGl2OmE/ci5rZXlzLnNlcnZlcl93cml0ZV9JVjpyLmtleXMuY2xpZW50X3dyaXRlX0lWfSxlLndyaXRlLmNpcGhlclN0YXRlPXtpbml0OiExLGNpcGhlcjp1LmNpcGhlci5jcmVhdGVDaXBoZXIoXCJBRVMtQ0JDXCIsYT9yLmtleXMuY2xpZW50X3dyaXRlX2tleTpyLmtleXMuc2VydmVyX3dyaXRlX2tleSksaXY6YT9yLmtleXMuY2xpZW50X3dyaXRlX0lWOnIua2V5cy5zZXJ2ZXJfd3JpdGVfSVZ9LGUucmVhZC5jaXBoZXJGdW5jdGlvbj1vLGUud3JpdGUuY2lwaGVyRnVuY3Rpb249bixlLnJlYWQubWFjTGVuZ3RoPWUud3JpdGUubWFjTGVuZ3RoPXIubWFjX2xlbmd0aCxlLnJlYWQubWFjRnVuY3Rpb249ZS53cml0ZS5tYWNGdW5jdGlvbj1sLmhtYWNfc2hhMX1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9ITEsYT10Lm1hY0Z1bmN0aW9uKHQubWFjS2V5LHQuc2VxdWVuY2VOdW1iZXIsZSk7ZS5mcmFnbWVudC5wdXRCeXRlcyhhKSx0LnVwZGF0ZVNlcXVlbmNlTnVtYmVyKCk7dmFyIG47bj1lLnZlcnNpb24ubWlub3I9PT1sLlZlcnNpb25zLlRMU18xXzAubWlub3I/dC5jaXBoZXJTdGF0ZS5pbml0P251bGw6dC5jaXBoZXJTdGF0ZS5pdjp1LnJhbmRvbS5nZXRCeXRlc1N5bmMoMTYpLHQuY2lwaGVyU3RhdGUuaW5pdD0hMDt2YXIgcz10LmNpcGhlclN0YXRlLmNpcGhlcjtyZXR1cm4gcy5zdGFydCh7aXY6bn0pLGUudmVyc2lvbi5taW5vcj49bC5WZXJzaW9ucy5UTFNfMV8xLm1pbm9yJiZzLm91dHB1dC5wdXRCeXRlcyhuKSxzLnVwZGF0ZShlLmZyYWdtZW50KSxzLmZpbmlzaChpKSYmKGUuZnJhZ21lbnQ9cy5vdXRwdXQsZS5sZW5ndGg9ZS5mcmFnbWVudC5sZW5ndGgoKSxyPSEwKSxyfWZ1bmN0aW9uIGkoZSx0LHIpe2lmKCFyKXt2YXIgYT1lLXQubGVuZ3RoKCklZTt0LmZpbGxXaXRoQnl0ZShhLTEsYSl9cmV0dXJuITB9ZnVuY3Rpb24gcyhlLHQscil7dmFyIGE9ITA7aWYocil7Zm9yKHZhciBuPXQubGVuZ3RoKCksaT10Lmxhc3QoKSxzPW4tMS1pO3M8bi0xOysrcylhPWEmJnQuYXQocyk9PWk7YSYmdC50cnVuY2F0ZShpKzEpfXJldHVybiBhfWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj0hMTsrK3A7dmFyIGE7YT1lLnZlcnNpb24ubWlub3I9PT1sLlZlcnNpb25zLlRMU18xXzAubWlub3I/dC5jaXBoZXJTdGF0ZS5pbml0P251bGw6dC5jaXBoZXJTdGF0ZS5pdjplLmZyYWdtZW50LmdldEJ5dGVzKDE2KSx0LmNpcGhlclN0YXRlLmluaXQ9ITA7dmFyIG49dC5jaXBoZXJTdGF0ZS5jaXBoZXI7bi5zdGFydCh7aXY6YX0pLG4udXBkYXRlKGUuZnJhZ21lbnQpLHI9bi5maW5pc2gocyk7dmFyIGk9dC5tYWNMZW5ndGgsbz11LnJhbmRvbS5nZXRCeXRlc1N5bmMoaSksaD1uLm91dHB1dC5sZW5ndGgoKTtoPj1pPyhlLmZyYWdtZW50PW4ub3V0cHV0LmdldEJ5dGVzKGgtaSksbz1uLm91dHB1dC5nZXRCeXRlcyhpKSk6ZS5mcmFnbWVudD1uLm91dHB1dC5nZXRCeXRlcygpLGUuZnJhZ21lbnQ9dS51dGlsLmNyZWF0ZUJ1ZmZlcihlLmZyYWdtZW50KSxlLmxlbmd0aD1lLmZyYWdtZW50Lmxlbmd0aCgpO3ZhciBmPXQubWFjRnVuY3Rpb24odC5tYWNLZXksdC5zZXF1ZW5jZU51bWJlcixlKTtyZXR1cm4gdC51cGRhdGVTZXF1ZW5jZU51bWJlcigpLHI9Yyh0Lm1hY0tleSxvLGYpJiZyfWZ1bmN0aW9uIGMoZSx0LHIpe3ZhciBhPXUuaG1hYy5jcmVhdGUoKTtyZXR1cm4gYS5zdGFydChcIlNIQTFcIixlKSxhLnVwZGF0ZSh0KSx0PWEuZGlnZXN0KCkuZ2V0Qnl0ZXMoKSxhLnN0YXJ0KG51bGwsbnVsbCksYS51cGRhdGUocikscj1hLmRpZ2VzdCgpLmdldEJ5dGVzKCksdD09PXJ9dmFyIHU9cigwKTtyKDUpLHIoMzEpO3ZhciBsPWUuZXhwb3J0cz11LnRscztsLkNpcGhlclN1aXRlcy5UTFNfUlNBX1dJVEhfQUVTXzEyOF9DQkNfU0hBPXtpZDpbMCw0N10sbmFtZTpcIlRMU19SU0FfV0lUSF9BRVNfMTI4X0NCQ19TSEFcIixpbml0U2VjdXJpdHlQYXJhbWV0ZXJzOmZ1bmN0aW9uKGUpe2UuYnVsa19jaXBoZXJfYWxnb3JpdGhtPWwuQnVsa0NpcGhlckFsZ29yaXRobS5hZXMsZS5jaXBoZXJfdHlwZT1sLkNpcGhlclR5cGUuYmxvY2ssZS5lbmNfa2V5X2xlbmd0aD0xNixlLmJsb2NrX2xlbmd0aD0xNixlLmZpeGVkX2l2X2xlbmd0aD0xNixlLnJlY29yZF9pdl9sZW5ndGg9MTYsZS5tYWNfYWxnb3JpdGhtPWwuTUFDQWxnb3JpdGhtLmhtYWNfc2hhMSxlLm1hY19sZW5ndGg9MjAsZS5tYWNfa2V5X2xlbmd0aD0yMH0saW5pdENvbm5lY3Rpb25TdGF0ZTphfSxsLkNpcGhlclN1aXRlcy5UTFNfUlNBX1dJVEhfQUVTXzI1Nl9DQkNfU0hBPXtpZDpbMCw1M10sbmFtZTpcIlRMU19SU0FfV0lUSF9BRVNfMjU2X0NCQ19TSEFcIixpbml0U2VjdXJpdHlQYXJhbWV0ZXJzOmZ1bmN0aW9uKGUpe2UuYnVsa19jaXBoZXJfYWxnb3JpdGhtPWwuQnVsa0NpcGhlckFsZ29yaXRobS5hZXMsZS5jaXBoZXJfdHlwZT1sLkNpcGhlclR5cGUuYmxvY2ssZS5lbmNfa2V5X2xlbmd0aD0zMixlLmJsb2NrX2xlbmd0aD0xNixlLmZpeGVkX2l2X2xlbmd0aD0xNixlLnJlY29yZF9pdl9sZW5ndGg9MTYsZS5tYWNfYWxnb3JpdGhtPWwuTUFDQWxnb3JpdGhtLmhtYWNfc2hhMSxlLm1hY19sZW5ndGg9MjAsZS5tYWNfa2V5X2xlbmd0aD0yMH0saW5pdENvbm5lY3Rpb25TdGF0ZTphfTt2YXIgcD0wfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gYShlLHQscixhKXtlLmdlbmVyYXRlPWZ1bmN0aW9uKGUsaSl7Zm9yKHZhciBzPW5ldyBuLnV0aWwuQnl0ZUJ1ZmZlcixvPU1hdGguY2VpbChpL2EpK3IsYz1uZXcgbi51dGlsLkJ5dGVCdWZmZXIsdT1yO3U8bzsrK3Upe2MucHV0SW50MzIodSksdC5zdGFydCgpLHQudXBkYXRlKGUrYy5nZXRCeXRlcygpKTt2YXIgbD10LmRpZ2VzdCgpO3MucHV0Qnl0ZXMobC5nZXRCeXRlcyhhKSl9cmV0dXJuIHMudHJ1bmNhdGUocy5sZW5ndGgoKS1pKSxzLmdldEJ5dGVzKCl9fXZhciBuPXIoMCk7cigxKSxyKDIpLHIoMTMpLGUuZXhwb3J0cz1uLmtlbT1uLmtlbXx8e307dmFyIGk9bi5qc2JuLkJpZ0ludGVnZXI7bi5rZW0ucnNhPXt9LG4ua2VtLnJzYS5jcmVhdGU9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciByPXQucHJuZ3x8bi5yYW5kb20sYT17fTtyZXR1cm4gYS5lbmNyeXB0PWZ1bmN0aW9uKHQsYSl7dmFyIHMsbz1NYXRoLmNlaWwodC5uLmJpdExlbmd0aCgpLzgpO2RvIHM9bmV3IGkobi51dGlsLmJ5dGVzVG9IZXgoci5nZXRCeXRlc1N5bmMobykpLDE2KS5tb2QodC5uKTt3aGlsZShzLmVxdWFscyhpLlpFUk8pKTtzPW4udXRpbC5oZXhUb0J5dGVzKHMudG9TdHJpbmcoMTYpKTt2YXIgYz1vLXMubGVuZ3RoO2M+MCYmKHM9bi51dGlsLmZpbGxTdHJpbmcoU3RyaW5nLmZyb21DaGFyQ29kZSgwKSxjKStzKTt2YXIgdT10LmVuY3J5cHQocyxcIk5PTkVcIiksbD1lLmdlbmVyYXRlKHMsYSk7cmV0dXJue2VuY2Fwc3VsYXRpb246dSxrZXk6bH19LGEuZGVjcnlwdD1mdW5jdGlvbih0LHIsYSl7dmFyIG49dC5kZWNyeXB0KHIsXCJOT05FXCIpO3JldHVybiBlLmdlbmVyYXRlKG4sYSl9LGF9LG4ua2VtLmtkZjE9ZnVuY3Rpb24oZSx0KXthKHRoaXMsZSwwLHR8fGUuZGlnZXN0TGVuZ3RoKX0sbi5rZW0ua2RmMj1mdW5jdGlvbihlLHQpe2EodGhpcyxlLDEsdHx8ZS5kaWdlc3RMZW5ndGgpfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDQpLHIoMTQpLHIoOSkscigzMCkscigzOSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1yKDApO3IoMjEpLGUuZXhwb3J0cz1hLm1nZj1hLm1nZnx8e30sYS5tZ2YubWdmMT1hLm1nZjF9LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBhKGUpe3ZhciB0PXt9LHI9W107aWYoIWQudmFsaWRhdGUoZSx5LmFzbjEucmVjaXBpZW50SW5mb1ZhbGlkYXRvcix0LHIpKXt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBQS0NTIzcgUmVjaXBpZW50SW5mby4gQVNOLjEgb2JqZWN0IGlzIG5vdCBhbiBQS0NTIzcgUmVjaXBpZW50SW5mby5cIik7dGhyb3cgYS5lcnJvcnM9cixhfXJldHVybnt2ZXJzaW9uOnQudmVyc2lvbi5jaGFyQ29kZUF0KDApLGlzc3VlcjpmLnBraS5SRE5BdHRyaWJ1dGVzQXNBcnJheSh0Lmlzc3Vlciksc2VyaWFsTnVtYmVyOmYudXRpbC5jcmVhdGVCdWZmZXIodC5zZXJpYWwpLnRvSGV4KCksZW5jcnlwdGVkQ29udGVudDp7YWxnb3JpdGhtOmQuZGVyVG9PaWQodC5lbmNBbGdvcml0aG0pLHBhcmFtZXRlcjp0LmVuY1BhcmFtZXRlci52YWx1ZSxjb250ZW50OnQuZW5jS2V5fX19ZnVuY3Rpb24gbihlKXtyZXR1cm4gZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLlNFUVVFTkNFLCEwLFtkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuSU5URUdFUiwhMSxkLmludGVnZXJUb0RlcihlLnZlcnNpb24pLmdldEJ5dGVzKCkpLGQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5TRVFVRU5DRSwhMCxbZi5wa2kuZGlzdGluZ3Vpc2hlZE5hbWVUb0FzbjEoe2F0dHJpYnV0ZXM6ZS5pc3N1ZXJ9KSxkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuSU5URUdFUiwhMSxmLnV0aWwuaGV4VG9CeXRlcyhlLnNlcmlhbE51bWJlcikpXSksZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLlNFUVVFTkNFLCEwLFtkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuT0lELCExLGQub2lkVG9EZXIoZS5lbmNyeXB0ZWRDb250ZW50LmFsZ29yaXRobSkuZ2V0Qnl0ZXMoKSksZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLk5VTEwsITEsXCJcIildKSxkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuT0NURVRTVFJJTkcsITEsZS5lbmNyeXB0ZWRDb250ZW50LmNvbnRlbnQpXSl9ZnVuY3Rpb24gaShlKXtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7KytyKXQucHVzaChhKGVbcl0pKTtyZXR1cm4gdH1mdW5jdGlvbiBzKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDsrK3IpdC5wdXNoKG4oZVtyXSkpO3JldHVybiB0fWZ1bmN0aW9uIG8oZSl7dmFyIHQ9ZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLlNFUVVFTkNFLCEwLFtkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuSU5URUdFUiwhMSxkLmludGVnZXJUb0RlcihlLnZlcnNpb24pLmdldEJ5dGVzKCkpLGQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5TRVFVRU5DRSwhMCxbZi5wa2kuZGlzdGluZ3Vpc2hlZE5hbWVUb0FzbjEoe2F0dHJpYnV0ZXM6ZS5pc3N1ZXJ9KSxkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuSU5URUdFUiwhMSxmLnV0aWwuaGV4VG9CeXRlcyhlLnNlcmlhbE51bWJlcikpXSksZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLlNFUVVFTkNFLCEwLFtkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuT0lELCExLGQub2lkVG9EZXIoZS5kaWdlc3RBbGdvcml0aG0pLmdldEJ5dGVzKCkpLGQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5OVUxMLCExLFwiXCIpXSldKTtpZihlLmF1dGhlbnRpY2F0ZWRBdHRyaWJ1dGVzQXNuMSYmdC52YWx1ZS5wdXNoKGUuYXV0aGVudGljYXRlZEF0dHJpYnV0ZXNBc24xKSx0LnZhbHVlLnB1c2goZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLlNFUVVFTkNFLCEwLFtkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuT0lELCExLGQub2lkVG9EZXIoZS5zaWduYXR1cmVBbGdvcml0aG0pLmdldEJ5dGVzKCkpLGQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5OVUxMLCExLFwiXCIpXSkpLHQudmFsdWUucHVzaChkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuT0NURVRTVFJJTkcsITEsZS5zaWduYXR1cmUpKSxlLnVuYXV0aGVudGljYXRlZEF0dHJpYnV0ZXMubGVuZ3RoPjApe2Zvcih2YXIgcj1kLmNyZWF0ZShkLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMSwhMCxbXSksYT0wO2E8ZS51bmF1dGhlbnRpY2F0ZWRBdHRyaWJ1dGVzLmxlbmd0aDsrK2Epe3ZhciBuPWUudW5hdXRoZW50aWNhdGVkQXR0cmlidXRlc1thXTtyLnZhbHVlcy5wdXNoKHUobikpfXQudmFsdWUucHVzaChyKX1yZXR1cm4gdH1mdW5jdGlvbiBjKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDsrK3IpdC5wdXNoKG8oZVtyXSkpO3JldHVybiB0fWZ1bmN0aW9uIHUoZSl7dmFyIHQ7aWYoZS50eXBlPT09Zi5wa2kub2lkcy5jb250ZW50VHlwZSl0PWQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5PSUQsITEsZC5vaWRUb0RlcihlLnZhbHVlKS5nZXRCeXRlcygpKTtlbHNlIGlmKGUudHlwZT09PWYucGtpLm9pZHMubWVzc2FnZURpZ2VzdCl0PWQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5PQ1RFVFNUUklORywhMSxlLnZhbHVlLmJ5dGVzKCkpO2Vsc2UgaWYoZS50eXBlPT09Zi5wa2kub2lkcy5zaWduaW5nVGltZSl7dmFyIHI9bmV3IERhdGUoXCIxOTUwLTAxLTAxVDAwOjAwOjAwWlwiKSxhPW5ldyBEYXRlKFwiMjA1MC0wMS0wMVQwMDowMDowMFpcIiksbj1lLnZhbHVlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuKXt2YXIgaT1EYXRlLnBhcnNlKG4pO249aXNOYU4oaSk/MTM9PT1uLmxlbmd0aD9kLnV0Y1RpbWVUb0RhdGUobik6ZC5nZW5lcmFsaXplZFRpbWVUb0RhdGUobik6bmV3IERhdGUoaSl9dD1uPj1yJiZuPGE/ZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLlVUQ1RJTUUsITEsZC5kYXRlVG9VdGNUaW1lKG4pKTpkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuR0VORVJBTElaRURUSU1FLCExLGQuZGF0ZVRvR2VuZXJhbGl6ZWRUaW1lKG4pKX1yZXR1cm4gZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLlNFUVVFTkNFLCEwLFtkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuT0lELCExLGQub2lkVG9EZXIoZS50eXBlKS5nZXRCeXRlcygpKSxkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuU0VULCEwLFt0XSldKX1mdW5jdGlvbiBsKGUpe3JldHVybltkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuT0lELCExLGQub2lkVG9EZXIoZi5wa2kub2lkcy5kYXRhKS5nZXRCeXRlcygpKSxkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuU0VRVUVOQ0UsITAsW2QuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5PSUQsITEsZC5vaWRUb0RlcihlLmFsZ29yaXRobSkuZ2V0Qnl0ZXMoKSksZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLk9DVEVUU1RSSU5HLCExLGUucGFyYW1ldGVyLmdldEJ5dGVzKCkpXSksZC5jcmVhdGUoZC5DbGFzcy5DT05URVhUX1NQRUNJRklDLDAsITAsW2QuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5PQ1RFVFNUUklORywhMSxlLmNvbnRlbnQuZ2V0Qnl0ZXMoKSldKV19ZnVuY3Rpb24gcChlLHQscil7dmFyIGE9e30sbj1bXTtpZighZC52YWxpZGF0ZSh0LHIsYSxuKSl7dmFyIGk9bmV3IEVycm9yKFwiQ2Fubm90IHJlYWQgUEtDUyM3IG1lc3NhZ2UuIEFTTi4xIG9iamVjdCBpcyBub3QgYSBzdXBwb3J0ZWQgUEtDUyM3IG1lc3NhZ2UuXCIpO3Rocm93IGkuZXJyb3JzPWksaX12YXIgcz1kLmRlclRvT2lkKGEuY29udGVudFR5cGUpO2lmKHMhPT1mLnBraS5vaWRzLmRhdGEpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgUEtDUyM3IG1lc3NhZ2UuIE9ubHkgd3JhcHBlZCBDb250ZW50VHlwZSBEYXRhIHN1cHBvcnRlZC5cIik7aWYoYS5lbmNyeXB0ZWRDb250ZW50KXt2YXIgbz1cIlwiO2lmKGYudXRpbC5pc0FycmF5KGEuZW5jcnlwdGVkQ29udGVudCkpZm9yKHZhciBjPTA7YzxhLmVuY3J5cHRlZENvbnRlbnQubGVuZ3RoOysrYyl7aWYoYS5lbmNyeXB0ZWRDb250ZW50W2NdLnR5cGUhPT1kLlR5cGUuT0NURVRTVFJJTkcpdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIFBLQ1MjNyBtZXNzYWdlLCBleHBlY3RpbmcgZW5jcnlwdGVkIGNvbnRlbnQgY29uc3RydWN0ZWQgb2Ygb25seSBPQ1RFVCBTVFJJTkcgb2JqZWN0cy5cIik7bys9YS5lbmNyeXB0ZWRDb250ZW50W2NdLnZhbHVlfWVsc2Ugbz1hLmVuY3J5cHRlZENvbnRlbnQ7ZS5lbmNyeXB0ZWRDb250ZW50PXthbGdvcml0aG06ZC5kZXJUb09pZChhLmVuY0FsZ29yaXRobSkscGFyYW1ldGVyOmYudXRpbC5jcmVhdGVCdWZmZXIoYS5lbmNQYXJhbWV0ZXIudmFsdWUpLGNvbnRlbnQ6Zi51dGlsLmNyZWF0ZUJ1ZmZlcihvKX19aWYoYS5jb250ZW50KXt2YXIgbz1cIlwiO2lmKGYudXRpbC5pc0FycmF5KGEuY29udGVudCkpZm9yKHZhciBjPTA7YzxhLmNvbnRlbnQubGVuZ3RoOysrYyl7aWYoYS5jb250ZW50W2NdLnR5cGUhPT1kLlR5cGUuT0NURVRTVFJJTkcpdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIFBLQ1MjNyBtZXNzYWdlLCBleHBlY3RpbmcgY29udGVudCBjb25zdHJ1Y3RlZCBvZiBvbmx5IE9DVEVUIFNUUklORyBvYmplY3RzLlwiKTtvKz1hLmNvbnRlbnRbY10udmFsdWV9ZWxzZSBvPWEuY29udGVudDtlLmNvbnRlbnQ9Zi51dGlsLmNyZWF0ZUJ1ZmZlcihvKX1yZXR1cm4gZS52ZXJzaW9uPWEudmVyc2lvbi5jaGFyQ29kZUF0KDApLGUucmF3Q2FwdHVyZT1hLGF9ZnVuY3Rpb24gaChlKXtpZih2b2lkIDA9PT1lLmVuY3J5cHRlZENvbnRlbnQua2V5KXRocm93IG5ldyBFcnJvcihcIlN5bW1ldHJpYyBrZXkgbm90IGF2YWlsYWJsZS5cIik7aWYodm9pZCAwPT09ZS5jb250ZW50KXt2YXIgdDtzd2l0Y2goZS5lbmNyeXB0ZWRDb250ZW50LmFsZ29yaXRobSl7Y2FzZSBmLnBraS5vaWRzW1wiYWVzMTI4LUNCQ1wiXTpjYXNlIGYucGtpLm9pZHNbXCJhZXMxOTItQ0JDXCJdOmNhc2UgZi5wa2kub2lkc1tcImFlczI1Ni1DQkNcIl06dD1mLmFlcy5jcmVhdGVEZWNyeXB0aW9uQ2lwaGVyKGUuZW5jcnlwdGVkQ29udGVudC5rZXkpO2JyZWFrO2Nhc2UgZi5wa2kub2lkcy5kZXNDQkM6Y2FzZSBmLnBraS5vaWRzW1wiZGVzLUVERTMtQ0JDXCJdOnQ9Zi5kZXMuY3JlYXRlRGVjcnlwdGlvbkNpcGhlcihlLmVuY3J5cHRlZENvbnRlbnQua2V5KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHN5bW1ldHJpYyBjaXBoZXIsIE9JRCBcIitlLmVuY3J5cHRlZENvbnRlbnQuYWxnb3JpdGhtKX1pZih0LnN0YXJ0KGUuZW5jcnlwdGVkQ29udGVudC5wYXJhbWV0ZXIpLHQudXBkYXRlKGUuZW5jcnlwdGVkQ29udGVudC5jb250ZW50KSwhdC5maW5pc2goKSl0aHJvdyBuZXcgRXJyb3IoXCJTeW1tZXRyaWMgZGVjcnlwdGlvbiBmYWlsZWQuXCIpO2UuY29udGVudD10Lm91dHB1dH19dmFyIGY9cigwKTtyKDUpLHIoMykscigxMCkscig2KSxyKDcpLHIoMjUpLHIoMikscigxKSxyKDE3KTt2YXIgZD1mLmFzbjEseT1lLmV4cG9ydHM9Zi5wa2NzNz1mLnBrY3M3fHx7fTt5Lm1lc3NhZ2VGcm9tUGVtPWZ1bmN0aW9uKGUpe3ZhciB0PWYucGVtLmRlY29kZShlKVswXTtpZihcIlBLQ1M3XCIhPT10LnR5cGUpe3ZhciByPW5ldyBFcnJvcignQ291bGQgbm90IGNvbnZlcnQgUEtDUyM3IG1lc3NhZ2UgZnJvbSBQRU07IFBFTSBoZWFkZXIgdHlwZSBpcyBub3QgXCJQS0NTIzdcIi4nKTt0aHJvdyByLmhlYWRlclR5cGU9dC50eXBlLHJ9aWYodC5wcm9jVHlwZSYmXCJFTkNSWVBURURcIj09PXQucHJvY1R5cGUudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgY29udmVydCBQS0NTIzcgbWVzc2FnZSBmcm9tIFBFTTsgUEVNIGlzIGVuY3J5cHRlZC5cIik7dmFyIGE9ZC5mcm9tRGVyKHQuYm9keSk7cmV0dXJuIHkubWVzc2FnZUZyb21Bc24xKGEpfSx5Lm1lc3NhZ2VUb1BlbT1mdW5jdGlvbihlLHQpe3ZhciByPXt0eXBlOlwiUEtDUzdcIixib2R5OmQudG9EZXIoZS50b0FzbjEoKSkuZ2V0Qnl0ZXMoKX07cmV0dXJuIGYucGVtLmVuY29kZShyLHttYXhsaW5lOnR9KX0seS5tZXNzYWdlRnJvbUFzbjE9ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj1bXTtpZighZC52YWxpZGF0ZShlLHkuYXNuMS5jb250ZW50SW5mb1ZhbGlkYXRvcix0LHIpKXt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgcmVhZCBQS0NTIzcgbWVzc2FnZS4gQVNOLjEgb2JqZWN0IGlzIG5vdCBhbiBQS0NTIzcgQ29udGVudEluZm8uXCIpO3Rocm93IGEuZXJyb3JzPXIsYX12YXIgbixpPWQuZGVyVG9PaWQodC5jb250ZW50VHlwZSk7c3dpdGNoKGkpe2Nhc2UgZi5wa2kub2lkcy5lbnZlbG9wZWREYXRhOm49eS5jcmVhdGVFbnZlbG9wZWREYXRhKCk7YnJlYWs7Y2FzZSBmLnBraS5vaWRzLmVuY3J5cHRlZERhdGE6bj15LmNyZWF0ZUVuY3J5cHRlZERhdGEoKTticmVhaztjYXNlIGYucGtpLm9pZHMuc2lnbmVkRGF0YTpuPXkuY3JlYXRlU2lnbmVkRGF0YSgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlYWQgUEtDUyM3IG1lc3NhZ2UuIENvbnRlbnRUeXBlIHdpdGggT0lEIFwiK2krXCIgaXMgbm90ICh5ZXQpIHN1cHBvcnRlZC5cIil9cmV0dXJuIG4uZnJvbUFzbjEodC5jb250ZW50LnZhbHVlWzBdKSxufSx5LmNyZWF0ZVNpZ25lZERhdGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7Zm9yKHZhciBlPXt9LHQ9MDt0PHIuc2lnbmVycy5sZW5ndGg7Kyt0KXt2YXIgYT1yLnNpZ25lcnNbdF0sbj1hLmRpZ2VzdEFsZ29yaXRobTtuIGluIGV8fChlW25dPWYubWRbZi5wa2kub2lkc1tuXV0uY3JlYXRlKCkpLDA9PT1hLmF1dGhlbnRpY2F0ZWRBdHRyaWJ1dGVzLmxlbmd0aD9hLm1kPWVbbl06YS5tZD1mLm1kW2YucGtpLm9pZHNbbl1dLmNyZWF0ZSgpfXIuZGlnZXN0QWxnb3JpdGhtSWRlbnRpZmllcnM9W107Zm9yKHZhciBuIGluIGUpci5kaWdlc3RBbGdvcml0aG1JZGVudGlmaWVycy5wdXNoKGQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5TRVFVRU5DRSwhMCxbZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLk9JRCwhMSxkLm9pZFRvRGVyKG4pLmdldEJ5dGVzKCkpLGQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5OVUxMLCExLFwiXCIpXSkpO3JldHVybiBlfWZ1bmN0aW9uIHQoZSl7aWYoci5jb250ZW50SW5mby52YWx1ZS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3Qgc2lnbiBQS0NTIzcgbWVzc2FnZTsgdGhlcmUgaXMgbm8gY29udGVudCB0byBzaWduLlwiKTt2YXIgdD1kLmRlclRvT2lkKHIuY29udGVudEluZm8udmFsdWVbMF0udmFsdWUpLGE9ci5jb250ZW50SW5mby52YWx1ZVsxXTthPWEudmFsdWVbMF07dmFyIG49ZC50b0RlcihhKTtuLmdldEJ5dGUoKSxkLmdldEJlclZhbHVlTGVuZ3RoKG4pLG49bi5nZXRCeXRlcygpO2Zvcih2YXIgaSBpbiBlKWVbaV0uc3RhcnQoKS51cGRhdGUobik7Zm9yKHZhciBzPW5ldyBEYXRlLG89MDtvPHIuc2lnbmVycy5sZW5ndGg7KytvKXt2YXIgbD1yLnNpZ25lcnNbb107aWYoMD09PWwuYXV0aGVudGljYXRlZEF0dHJpYnV0ZXMubGVuZ3RoKXtpZih0IT09Zi5wa2kub2lkcy5kYXRhKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmVyOyBhdXRoZW50aWNhdGVkQXR0cmlidXRlcyBtdXN0IGJlIHByZXNlbnQgd2hlbiB0aGUgQ29udGVudEluZm8gY29udGVudCB0eXBlIGlzIG5vdCBQS0NTIzcgRGF0YS5cIil9ZWxzZXtsLmF1dGhlbnRpY2F0ZWRBdHRyaWJ1dGVzQXNuMT1kLmNyZWF0ZShkLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMCwhMCxbXSk7Zm9yKHZhciBwPWQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5TRVQsITAsW10pLGg9MDtoPGwuYXV0aGVudGljYXRlZEF0dHJpYnV0ZXMubGVuZ3RoOysraCl7dmFyIHk9bC5hdXRoZW50aWNhdGVkQXR0cmlidXRlc1toXTt5LnR5cGU9PT1mLnBraS5vaWRzLm1lc3NhZ2VEaWdlc3Q/eS52YWx1ZT1lW2wuZGlnZXN0QWxnb3JpdGhtXS5kaWdlc3QoKTp5LnR5cGU9PT1mLnBraS5vaWRzLnNpZ25pbmdUaW1lJiYoeS52YWx1ZXx8KHkudmFsdWU9cykpLHAudmFsdWUucHVzaCh1KHkpKSxsLmF1dGhlbnRpY2F0ZWRBdHRyaWJ1dGVzQXNuMS52YWx1ZS5wdXNoKHUoeSkpfW49ZC50b0RlcihwKS5nZXRCeXRlcygpLGwubWQuc3RhcnQoKS51cGRhdGUobil9bC5zaWduYXR1cmU9bC5rZXkuc2lnbihsLm1kLFwiUlNBU1NBLVBLQ1MxLVYxXzVcIil9ci5zaWduZXJJbmZvcz1jKHIuc2lnbmVycyl9dmFyIHI9bnVsbDtyZXR1cm4gcj17dHlwZTpmLnBraS5vaWRzLnNpZ25lZERhdGEsdmVyc2lvbjoxLGNlcnRpZmljYXRlczpbXSxjcmxzOltdLHNpZ25lcnM6W10sZGlnZXN0QWxnb3JpdGhtSWRlbnRpZmllcnM6W10sY29udGVudEluZm86bnVsbCxzaWduZXJJbmZvczpbXSxmcm9tQXNuMTpmdW5jdGlvbihlKXtwKHIsZSx5LmFzbjEuc2lnbmVkRGF0YVZhbGlkYXRvciksci5jZXJ0aWZpY2F0ZXM9W10sci5jcmxzPVtdLHIuZGlnZXN0QWxnb3JpdGhtSWRlbnRpZmllcnM9W10sci5jb250ZW50SW5mbz1udWxsLHIuc2lnbmVySW5mb3M9W107Zm9yKHZhciB0PXIucmF3Q2FwdHVyZS5jZXJ0aWZpY2F0ZXMudmFsdWUsYT0wO2E8dC5sZW5ndGg7KythKXIuY2VydGlmaWNhdGVzLnB1c2goZi5wa2kuY2VydGlmaWNhdGVGcm9tQXNuMSh0W2FdKSl9LHRvQXNuMTpmdW5jdGlvbigpe3IuY29udGVudEluZm98fHIuc2lnbigpO2Zvcih2YXIgZT1bXSx0PTA7dDxyLmNlcnRpZmljYXRlcy5sZW5ndGg7Kyt0KWUucHVzaChmLnBraS5jZXJ0aWZpY2F0ZVRvQXNuMShyLmNlcnRpZmljYXRlc1t0XSkpO3ZhciBhPVtdLG49ZC5jcmVhdGUoZC5DbGFzcy5DT05URVhUX1NQRUNJRklDLDAsITAsW2QuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5TRVFVRU5DRSwhMCxbZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLklOVEVHRVIsITEsZC5pbnRlZ2VyVG9EZXIoci52ZXJzaW9uKS5nZXRCeXRlcygpKSxkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuU0VULCEwLHIuZGlnZXN0QWxnb3JpdGhtSWRlbnRpZmllcnMpLHIuY29udGVudEluZm9dKV0pO3JldHVybiBlLmxlbmd0aD4wJiZuLnZhbHVlWzBdLnZhbHVlLnB1c2goZC5jcmVhdGUoZC5DbGFzcy5DT05URVhUX1NQRUNJRklDLDAsITAsZSkpLGEubGVuZ3RoPjAmJm4udmFsdWVbMF0udmFsdWUucHVzaChkLmNyZWF0ZShkLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMSwhMCxhKSksbi52YWx1ZVswXS52YWx1ZS5wdXNoKGQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5TRVQsITAsci5zaWduZXJJbmZvcykpLGQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5TRVFVRU5DRSwhMCxbZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLk9JRCwhMSxkLm9pZFRvRGVyKHIudHlwZSkuZ2V0Qnl0ZXMoKSksbl0pfSxhZGRTaWduZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pc3N1ZXIsYT1lLnNlcmlhbE51bWJlcjtpZihlLmNlcnRpZmljYXRlKXt2YXIgbj1lLmNlcnRpZmljYXRlO1wic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1mLnBraS5jZXJ0aWZpY2F0ZUZyb21QZW0obikpLHQ9bi5pc3N1ZXIuYXR0cmlidXRlcyxhPW4uc2VyaWFsTnVtYmVyfXZhciBpPWUua2V5O2lmKCFpKXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBhZGQgUEtDUyM3IHNpZ25lcjsgbm8gcHJpdmF0ZSBrZXkgc3BlY2lmaWVkLlwiKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9Zi5wa2kucHJpdmF0ZUtleUZyb21QZW0oaSkpO3ZhciBzPWUuZGlnZXN0QWxnb3JpdGhtfHxmLnBraS5vaWRzLnNoYTE7c3dpdGNoKHMpe2Nhc2UgZi5wa2kub2lkcy5zaGExOmNhc2UgZi5wa2kub2lkcy5zaGEyNTY6Y2FzZSBmLnBraS5vaWRzLnNoYTM4NDpjYXNlIGYucGtpLm9pZHMuc2hhNTEyOmNhc2UgZi5wa2kub2lkcy5tZDU6YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgYWRkIFBLQ1MjNyBzaWduZXI7IHVua25vd24gbWVzc2FnZSBkaWdlc3QgYWxnb3JpdGhtOiBcIitzKX12YXIgbz1lLmF1dGhlbnRpY2F0ZWRBdHRyaWJ1dGVzfHxbXTtpZihvLmxlbmd0aD4wKXtmb3IodmFyIGM9ITEsdT0hMSxsPTA7bDxvLmxlbmd0aDsrK2wpe3ZhciBwPW9bbF07aWYoY3x8cC50eXBlIT09Zi5wa2kub2lkcy5jb250ZW50VHlwZSl7aWYodXx8cC50eXBlIT09Zi5wa2kub2lkcy5tZXNzYWdlRGlnZXN0KTtlbHNlIGlmKHU9ITAsYylicmVha31lbHNlIGlmKGM9ITAsdSlicmVha31pZighY3x8IXUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduZXIuYXV0aGVudGljYXRlZEF0dHJpYnV0ZXMuIElmIHNpZ25lci5hdXRoZW50aWNhdGVkQXR0cmlidXRlcyBpcyBzcGVjaWZpZWQsIHRoZW4gaXQgbXVzdCBjb250YWluIGF0IGxlYXN0IHR3byBhdHRyaWJ1dGVzLCBQS0NTICM5IGNvbnRlbnQtdHlwZSBhbmQgUEtDUyAjOSBtZXNzYWdlLWRpZ2VzdC5cIil9ci5zaWduZXJzLnB1c2goe2tleTppLHZlcnNpb246MSxpc3N1ZXI6dCxzZXJpYWxOdW1iZXI6YSxkaWdlc3RBbGdvcml0aG06cyxzaWduYXR1cmVBbGdvcml0aG06Zi5wa2kub2lkcy5yc2FFbmNyeXB0aW9uLHNpZ25hdHVyZTpudWxsLGF1dGhlbnRpY2F0ZWRBdHRyaWJ1dGVzOm8sdW5hdXRoZW50aWNhdGVkQXR0cmlidXRlczpbXX0pfSxzaWduOmZ1bmN0aW9uKCl7aWYoKFwib2JqZWN0XCIhPXR5cGVvZiByLmNvbnRlbnR8fG51bGw9PT1yLmNvbnRlbnRJbmZvKSYmKHIuY29udGVudEluZm89ZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLlNFUVVFTkNFLCEwLFtkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuT0lELCExLGQub2lkVG9EZXIoZi5wa2kub2lkcy5kYXRhKS5nZXRCeXRlcygpKV0pLFwiY29udGVudFwiaW4gcikpe3ZhciBhO3IuY29udGVudCBpbnN0YW5jZW9mIGYudXRpbC5CeXRlQnVmZmVyP2E9ci5jb250ZW50LmJ5dGVzKCk6XCJzdHJpbmdcIj09dHlwZW9mIHIuY29udGVudCYmKGE9Zi51dGlsLmVuY29kZVV0Zjgoci5jb250ZW50KSksci5jb250ZW50SW5mby52YWx1ZS5wdXNoKGQuY3JlYXRlKGQuQ2xhc3MuQ09OVEVYVF9TUEVDSUZJQywwLCEwLFtkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuT0NURVRTVFJJTkcsITEsYSldKSl9aWYoMCE9PXIuc2lnbmVycy5sZW5ndGgpe3ZhciBuPWUoKTt0KG4pfX0sdmVyaWZ5OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiUEtDUyM3IHNpZ25hdHVyZSB2ZXJpZmljYXRpb24gbm90IHlldCBpbXBsZW1lbnRlZC5cIil9LGFkZENlcnRpZmljYXRlOmZ1bmN0aW9uKGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1mLnBraS5jZXJ0aWZpY2F0ZUZyb21QZW0oZSkpLHIuY2VydGlmaWNhdGVzLnB1c2goZSl9LGFkZENlcnRpZmljYXRlUmV2b2thdGlvbkxpc3Q6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwiUEtDUyM3IENSTCBzdXBwb3J0IG5vdCB5ZXQgaW1wbGVtZW50ZWQuXCIpfX19LHkuY3JlYXRlRW5jcnlwdGVkRGF0YT1mdW5jdGlvbigpe3ZhciBlPW51bGw7cmV0dXJuIGU9e3R5cGU6Zi5wa2kub2lkcy5lbmNyeXB0ZWREYXRhLHZlcnNpb246MCxlbmNyeXB0ZWRDb250ZW50OnthbGdvcml0aG06Zi5wa2kub2lkc1tcImFlczI1Ni1DQkNcIl19LGZyb21Bc24xOmZ1bmN0aW9uKHQpe3AoZSx0LHkuYXNuMS5lbmNyeXB0ZWREYXRhVmFsaWRhdG9yKX0sZGVjcnlwdDpmdW5jdGlvbih0KXt2b2lkIDAhPT10JiYoZS5lbmNyeXB0ZWRDb250ZW50LmtleT10KSxoKGUpfX19LHkuY3JlYXRlRW52ZWxvcGVkRGF0YT1mdW5jdGlvbigpe3ZhciBlPW51bGw7cmV0dXJuIGU9e3R5cGU6Zi5wa2kub2lkcy5lbnZlbG9wZWREYXRhLHZlcnNpb246MCxyZWNpcGllbnRzOltdLGVuY3J5cHRlZENvbnRlbnQ6e2FsZ29yaXRobTpmLnBraS5vaWRzW1wiYWVzMjU2LUNCQ1wiXX0sZnJvbUFzbjE6ZnVuY3Rpb24odCl7dmFyIHI9cChlLHQseS5hc24xLmVudmVsb3BlZERhdGFWYWxpZGF0b3IpO2UucmVjaXBpZW50cz1pKHIucmVjaXBpZW50SW5mb3MudmFsdWUpfSx0b0FzbjE6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLlNFUVVFTkNFLCEwLFtkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuT0lELCExLGQub2lkVG9EZXIoZS50eXBlKS5nZXRCeXRlcygpKSxkLmNyZWF0ZShkLkNsYXNzLkNPTlRFWFRfU1BFQ0lGSUMsMCwhMCxbZC5jcmVhdGUoZC5DbGFzcy5VTklWRVJTQUwsZC5UeXBlLlNFUVVFTkNFLCEwLFtkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuSU5URUdFUiwhMSxkLmludGVnZXJUb0RlcihlLnZlcnNpb24pLmdldEJ5dGVzKCkpLGQuY3JlYXRlKGQuQ2xhc3MuVU5JVkVSU0FMLGQuVHlwZS5TRVQsITAscyhlLnJlY2lwaWVudHMpKSxkLmNyZWF0ZShkLkNsYXNzLlVOSVZFUlNBTCxkLlR5cGUuU0VRVUVOQ0UsITAsbChlLmVuY3J5cHRlZENvbnRlbnQpKV0pXSldKTtcbn0sZmluZFJlY2lwaWVudDpmdW5jdGlvbih0KXtmb3IodmFyIHI9dC5pc3N1ZXIuYXR0cmlidXRlcyxhPTA7YTxlLnJlY2lwaWVudHMubGVuZ3RoOysrYSl7dmFyIG49ZS5yZWNpcGllbnRzW2FdLGk9bi5pc3N1ZXI7aWYobi5zZXJpYWxOdW1iZXI9PT10LnNlcmlhbE51bWJlciYmaS5sZW5ndGg9PT1yLmxlbmd0aCl7Zm9yKHZhciBzPSEwLG89MDtvPHIubGVuZ3RoOysrbylpZihpW29dLnR5cGUhPT1yW29dLnR5cGV8fGlbb10udmFsdWUhPT1yW29dLnZhbHVlKXtzPSExO2JyZWFrfWlmKHMpcmV0dXJuIG59fXJldHVybiBudWxsfSxkZWNyeXB0OmZ1bmN0aW9uKHQscil7aWYodm9pZCAwPT09ZS5lbmNyeXB0ZWRDb250ZW50LmtleSYmdm9pZCAwIT09dCYmdm9pZCAwIT09cilzd2l0Y2godC5lbmNyeXB0ZWRDb250ZW50LmFsZ29yaXRobSl7Y2FzZSBmLnBraS5vaWRzLnJzYUVuY3J5cHRpb246Y2FzZSBmLnBraS5vaWRzLmRlc0NCQzp2YXIgYT1yLmRlY3J5cHQodC5lbmNyeXB0ZWRDb250ZW50LmNvbnRlbnQpO2UuZW5jcnlwdGVkQ29udGVudC5rZXk9Zi51dGlsLmNyZWF0ZUJ1ZmZlcihhKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFzeW1tZXRyaWMgY2lwaGVyLCBPSUQgXCIrdC5lbmNyeXB0ZWRDb250ZW50LmFsZ29yaXRobSl9aChlKX0sYWRkUmVjaXBpZW50OmZ1bmN0aW9uKHQpe2UucmVjaXBpZW50cy5wdXNoKHt2ZXJzaW9uOjAsaXNzdWVyOnQuaXNzdWVyLmF0dHJpYnV0ZXMsc2VyaWFsTnVtYmVyOnQuc2VyaWFsTnVtYmVyLGVuY3J5cHRlZENvbnRlbnQ6e2FsZ29yaXRobTpmLnBraS5vaWRzLnJzYUVuY3J5cHRpb24sa2V5OnQucHVibGljS2V5fX0pfSxlbmNyeXB0OmZ1bmN0aW9uKHQscil7aWYodm9pZCAwPT09ZS5lbmNyeXB0ZWRDb250ZW50LmNvbnRlbnQpe3I9cnx8ZS5lbmNyeXB0ZWRDb250ZW50LmFsZ29yaXRobSx0PXR8fGUuZW5jcnlwdGVkQ29udGVudC5rZXk7dmFyIGEsbixpO3N3aXRjaChyKXtjYXNlIGYucGtpLm9pZHNbXCJhZXMxMjgtQ0JDXCJdOmE9MTYsbj0xNixpPWYuYWVzLmNyZWF0ZUVuY3J5cHRpb25DaXBoZXI7YnJlYWs7Y2FzZSBmLnBraS5vaWRzW1wiYWVzMTkyLUNCQ1wiXTphPTI0LG49MTYsaT1mLmFlcy5jcmVhdGVFbmNyeXB0aW9uQ2lwaGVyO2JyZWFrO2Nhc2UgZi5wa2kub2lkc1tcImFlczI1Ni1DQkNcIl06YT0zMixuPTE2LGk9Zi5hZXMuY3JlYXRlRW5jcnlwdGlvbkNpcGhlcjticmVhaztjYXNlIGYucGtpLm9pZHNbXCJkZXMtRURFMy1DQkNcIl06YT0yNCxuPTgsaT1mLmRlcy5jcmVhdGVFbmNyeXB0aW9uQ2lwaGVyO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgc3ltbWV0cmljIGNpcGhlciwgT0lEIFwiK3IpfWlmKHZvaWQgMD09PXQpdD1mLnV0aWwuY3JlYXRlQnVmZmVyKGYucmFuZG9tLmdldEJ5dGVzKGEpKTtlbHNlIGlmKHQubGVuZ3RoKCkhPWEpdGhyb3cgbmV3IEVycm9yKFwiU3ltbWV0cmljIGtleSBoYXMgd3JvbmcgbGVuZ3RoOyBnb3QgXCIrdC5sZW5ndGgoKStcIiBieXRlcywgZXhwZWN0ZWQgXCIrYStcIi5cIik7ZS5lbmNyeXB0ZWRDb250ZW50LmFsZ29yaXRobT1yLGUuZW5jcnlwdGVkQ29udGVudC5rZXk9dCxlLmVuY3J5cHRlZENvbnRlbnQucGFyYW1ldGVyPWYudXRpbC5jcmVhdGVCdWZmZXIoZi5yYW5kb20uZ2V0Qnl0ZXMobikpO3ZhciBzPWkodCk7aWYocy5zdGFydChlLmVuY3J5cHRlZENvbnRlbnQucGFyYW1ldGVyLmNvcHkoKSkscy51cGRhdGUoZS5jb250ZW50KSwhcy5maW5pc2goKSl0aHJvdyBuZXcgRXJyb3IoXCJTeW1tZXRyaWMgZW5jcnlwdGlvbiBmYWlsZWQuXCIpO2UuZW5jcnlwdGVkQ29udGVudC5jb250ZW50PXMub3V0cHV0fWZvcih2YXIgbz0wO288ZS5yZWNpcGllbnRzLmxlbmd0aDsrK28pe3ZhciBjPWUucmVjaXBpZW50c1tvXTtpZih2b2lkIDA9PT1jLmVuY3J5cHRlZENvbnRlbnQuY29udGVudClzd2l0Y2goYy5lbmNyeXB0ZWRDb250ZW50LmFsZ29yaXRobSl7Y2FzZSBmLnBraS5vaWRzLnJzYUVuY3J5cHRpb246Yy5lbmNyeXB0ZWRDb250ZW50LmNvbnRlbnQ9Yy5lbmNyeXB0ZWRDb250ZW50LmtleS5lbmNyeXB0KGUuZW5jcnlwdGVkQ29udGVudC5rZXkuZGF0YSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBhc3ltbWV0cmljIGNpcGhlciwgT0lEIFwiK2MuZW5jcnlwdGVkQ29udGVudC5hbGdvcml0aG0pfX19fX19LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBhKCl7Yz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyOCksYys9aS51dGlsLmZpbGxTdHJpbmcoU3RyaW5nLmZyb21DaGFyQ29kZSgwKSwxMjgpLGw9W1sxMTE2MzUyNDA4LDM2MDk3Njc0NThdLFsxODk5NDQ3NDQxLDYwMjg5MTcyNV0sWzMwNDkzMjM0NzEsMzk2NDQ4NDM5OV0sWzM5MjEwMDk1NzMsMjE3MzI5NTU0OF0sWzk2MTk4NzE2Myw0MDgxNjI4NDcyXSxbMTUwODk3MDk5MywzMDUzODM0MjY1XSxbMjQ1MzYzNTc0OCwyOTM3NjcxNTc5XSxbMjg3MDc2MzIyMSwzNjY0NjA5NTYwXSxbMzYyNDM4MTA4MCwyNzM0ODgzMzk0XSxbMzEwNTk4NDAxLDExNjQ5OTY1NDJdLFs2MDcyMjUyNzgsMTMyMzYxMDc2NF0sWzE0MjY4ODE5ODcsMzU5MDMwNDk5NF0sWzE5MjUwNzgzODgsNDA2ODE4MjM4M10sWzIxNjIwNzgyMDYsOTkxMzM2MTEzXSxbMjYxNDg4ODEwMyw2MzM4MDMzMTddLFszMjQ4MjIyNTgwLDM0Nzk3NzQ4NjhdLFszODM1MzkwNDAxLDI2NjY2MTM0NThdLFs0MDIyMjI0Nzc0LDk0NDcxMTEzOV0sWzI2NDM0NzA3OCwyMzQxMjYyNzczXSxbNjA0ODA3NjI4LDIwMDc4MDA5MzNdLFs3NzAyNTU5ODMsMTQ5NTk5MDkwMV0sWzEyNDkxNTAxMjIsMTg1NjQzMTIzNV0sWzE1NTUwODE2OTIsMzE3NTIxODEzMl0sWzE5OTYwNjQ5ODYsMjE5ODk1MDgzN10sWzI1NTQyMjA4ODIsMzk5OTcxOTMzOV0sWzI4MjE4MzQzNDksNzY2Nzg0MDE2XSxbMjk1Mjk5NjgwOCwyNTY2NTk0ODc5XSxbMzIxMDMxMzY3MSwzMjAzMzM3OTU2XSxbMzMzNjU3MTg5MSwxMDM0NDU3MDI2XSxbMzU4NDUyODcxMSwyNDY2OTQ4OTAxXSxbMTEzOTI2OTkzLDM3NTgzMjYzODNdLFszMzgyNDE4OTUsMTY4NzE3OTM2XSxbNjY2MzA3MjA1LDExODgxNzk5NjRdLFs3NzM1Mjk5MTIsMTU0NjA0NTczNF0sWzEyOTQ3NTczNzIsMTUyMjgwNTQ4NV0sWzEzOTYxODIyOTEsMjY0MzgzMzgyM10sWzE2OTUxODM3MDAsMjM0MzUyNzM5MF0sWzE5ODY2NjEwNTEsMTAxNDQ3NzQ4MF0sWzIxNzcwMjYzNTAsMTIwNjc1OTE0Ml0sWzI0NTY5NTYwMzcsMzQ0MDc3NjI3XSxbMjczMDQ4NTkyMSwxMjkwODYzNDYwXSxbMjgyMDMwMjQxMSwzMTU4NDU0MjczXSxbMzI1OTczMDgwMCwzNTA1OTUyNjU3XSxbMzM0NTc2NDc3MSwxMDYyMTcwMDhdLFszNTE2MDY1ODE3LDM2MDYwMDgzNDRdLFszNjAwMzUyODA0LDE0MzI3MjU3NzZdLFs0MDk0NTcxOTA5LDE0NjcwMzE1OTRdLFsyNzU0MjMzNDQsODUxMTY5NzIwXSxbNDMwMjI3NzM0LDMxMDA4MjM3NTJdLFs1MDY5NDg2MTYsMTM2MzI1ODE5NV0sWzY1OTA2MDU1NiwzNzUwNjg1NTkzXSxbODgzOTk3ODc3LDM3ODUwNTAyODBdLFs5NTgxMzk1NzEsMzMxODMwNzQyN10sWzEzMjI4MjIyMTgsMzgxMjcyMzQwM10sWzE1MzcwMDIwNjMsMjAwMzAzNDk5NV0sWzE3NDc4NzM3NzksMzYwMjAzNjg5OV0sWzE5NTU1NjIyMjIsMTU3NTk5MDAxMl0sWzIwMjQxMDQ4MTUsMTEyNTU5MjkyOF0sWzIyMjc3MzA0NTIsMjcxNjkwNDMwNl0sWzIzNjE4NTI0MjQsNDQyNzc2MDQ0XSxbMjQyODQzNjQ3NCw1OTM2OTgzNDRdLFsyNzU2NzM0MTg3LDM3MzMxMTAyNDldLFszMjA0MDMxNDc5LDI5OTkzNTE1NzNdLFszMzI5MzI1Mjk4LDM4MTU5MjA0MjddLFszMzkxNTY5NjE0LDM5MjgzODM5MDBdLFszNTE1MjY3MjcxLDU2NjI4MDcxMV0sWzM5NDAxODc2MDYsMzQ1NDA2OTUzNF0sWzQxMTg2MzAyNzEsNDAwMDIzOTk5Ml0sWzExNjQxODQ3NCwxOTE0MTM4NTU0XSxbMTc0MjkyNDIxLDI3MzEwNTUyNzBdLFsyODkzODAzNTYsMzIwMzk5MzAwNl0sWzQ2MDM5MzI2OSwzMjA2MjAzMTVdLFs2ODU0NzE3MzMsNTg3NDk2ODM2XSxbODUyMTQyOTcxLDEwODY3OTI4NTFdLFsxMDE3MDM2Mjk4LDM2NTU0MzEwMF0sWzExMjYwMDA1ODAsMjYxODI5NzY3Nl0sWzEyODgwMzM0NzAsMzQwOTg1NTE1OF0sWzE1MDE1MDU5NDgsNDIzNDUwOTg2Nl0sWzE2MDcxNjc5MTUsOTg3MTY3NDY4XSxbMTgxNjQwMjMxNiwxMjQ2MTg5NTkxXV0scD17fSxwW1wiU0hBLTUxMlwiXT1bWzE3NzkwMzM3MDMsNDA4OTIzNTcyMF0sWzMxNDQxMzQyNzcsMjIyNzg3MzU5NV0sWzEwMTM5MDQyNDIsNDI3MTE3NTcyM10sWzI3NzM0ODA3NjIsMTU5NTc1MDEyOV0sWzEzNTk4OTMxMTksMjkxNzU2NTEzN10sWzI2MDA4MjI5MjQsNzI1NTExMTk5XSxbNTI4NzM0NjM1LDQyMTUzODk1NDddLFsxNTQxNDU5MjI1LDMyNzAzMzIwOV1dLHBbXCJTSEEtMzg0XCJdPVtbMzQxODA3MDM2NSwzMjM4MzcxMDMyXSxbMTY1NDI3MDI1MCw5MTQxNTA2NjNdLFsyNDM4NTI5MzcwLDgxMjcwMjk5OV0sWzM1NTQ2MjM2MCw0MTQ0OTEyNjk3XSxbMTczMTQwNTQxNSw0MjkwNzc1ODU3XSxbMjM5NDE4MDIzMSwxNzUwNjAzMDI1XSxbMzY3NTAwODUyNSwxNjk0MDc2ODM5XSxbMTIwMzA2MjgxMywzMjA0MDc1NDI4XV0scFtcIlNIQS01MTIvMjU2XCJdPVtbNTczNjQ1MjA0LDQyMzA3Mzk3NTZdLFsyNjczMTcyMzg3LDMzNjA0NDk3MzBdLFs1OTY4ODM1NjMsMTg2Nzc1NTg1N10sWzI1MjAyODI5MDUsMTQ5NzQyNjYyMV0sWzI1MTkyMTk5MzgsMjgyNzk0MzkwN10sWzMxOTM4MzkxNDEsMTQwMTMwNTQ5MF0sWzcyMTUyNTI0NCw3NDY5NjEwNjZdLFsyNDY4ODU4NTIsMjE3NzE4Mjg4Ml1dLHBbXCJTSEEtNTEyLzIyNFwiXT1bWzIzNTI4MjIyMTYsNDI0OTU1Mjk4XSxbMTk0NDE2NDcxMCwyMzEyOTUwOTk4XSxbNTAyOTcwMjg2LDg1NTYxMjU0Nl0sWzE3MzgzOTY5NDgsMTQ3OTUxNjExMV0sWzI1ODgxMjc3NywyMDc3NTExMDgwXSxbMjAxMTM5MzkwNyw3OTk4OTA1OF0sWzEwNjcyODc5NzYsMTc4MDI5OTQ2NF0sWzI4NjQ1MTM3MywyNDQ2NzU4NTYxXV0sdT0hMH1mdW5jdGlvbiBuKGUsdCxyKXtmb3IodmFyIGEsbixpLHMsbyxjLHUscCxoLGYsZCx5LGcsdixtLEMsRSxTLFQsSSxBLGIsQixOLGssUix3LEwsXyxVLEQsUCxWLE8seCxLPXIubGVuZ3RoKCk7Sz49MTI4Oyl7Zm9yKF89MDtfPDE2OysrXyl0W19dWzBdPXIuZ2V0SW50MzIoKT4+PjAsdFtfXVsxXT1yLmdldEludDMyKCk+Pj4wO2Zvcig7Xzw4MDsrK18pUD10W18tMl0sVT1QWzBdLEQ9UFsxXSxhPSgoVT4+PjE5fEQ8PDEzKV4oRD4+PjI5fFU8PDMpXlU+Pj42KT4+PjAsbj0oKFU8PDEzfEQ+Pj4xOSleKEQ8PDN8VT4+PjI5KV4oVTw8MjZ8RD4+PjYpKT4+PjAsTz10W18tMTVdLFU9T1swXSxEPU9bMV0saT0oKFU+Pj4xfEQ8PDMxKV4oVT4+Pjh8RDw8MjQpXlU+Pj43KT4+PjAscz0oKFU8PDMxfEQ+Pj4xKV4oVTw8MjR8RD4+PjgpXihVPDwyNXxEPj4+NykpPj4+MCxWPXRbXy03XSx4PXRbXy0xNl0sRD1uK1ZbMV0rcyt4WzFdLHRbX11bMF09YStWWzBdK2kreFswXSsoRC80Mjk0OTY3Mjk2Pj4+MCk+Pj4wLHRbX11bMV09RD4+PjA7Zm9yKGc9ZVswXVswXSx2PWVbMF1bMV0sbT1lWzFdWzBdLEM9ZVsxXVsxXSxFPWVbMl1bMF0sUz1lWzJdWzFdLFQ9ZVszXVswXSxJPWVbM11bMV0sQT1lWzRdWzBdLGI9ZVs0XVsxXSxCPWVbNV1bMF0sTj1lWzVdWzFdLGs9ZVs2XVswXSxSPWVbNl1bMV0sdz1lWzddWzBdLEw9ZVs3XVsxXSxfPTA7Xzw4MDsrK18pdT0oKEE+Pj4xNHxiPDwxOCleKEE+Pj4xOHxiPDwxNCleKGI+Pj45fEE8PDIzKSk+Pj4wLHA9KChBPDwxOHxiPj4+MTQpXihBPDwxNHxiPj4+MTgpXihiPDwyM3xBPj4+OSkpPj4+MCxoPShrXkEmKEJeaykpPj4+MCxmPShSXmImKE5eUikpPj4+MCxvPSgoZz4+PjI4fHY8PDQpXih2Pj4+MnxnPDwzMCleKHY+Pj43fGc8PDI1KSk+Pj4wLGM9KChnPDw0fHY+Pj4yOCleKHY8PDMwfGc+Pj4yKV4odjw8MjV8Zz4+PjcpKT4+PjAsZD0oZyZtfEUmKGdebSkpPj4+MCx5PSh2JkN8UyYodl5DKSk+Pj4wLEQ9TCtwK2YrbFtfXVsxXSt0W19dWzFdLGE9dyt1K2grbFtfXVswXSt0W19dWzBdKyhELzQyOTQ5NjcyOTY+Pj4wKT4+PjAsbj1EPj4+MCxEPWMreSxpPW8rZCsoRC80Mjk0OTY3Mjk2Pj4+MCk+Pj4wLHM9RD4+PjAsdz1rLEw9UixrPUIsUj1OLEI9QSxOPWIsRD1JK24sQT1UK2ErKEQvNDI5NDk2NzI5Nj4+PjApPj4+MCxiPUQ+Pj4wLFQ9RSxJPVMsRT1tLFM9QyxtPWcsQz12LEQ9bitzLGc9YStpKyhELzQyOTQ5NjcyOTY+Pj4wKT4+PjAsdj1EPj4+MDtEPWVbMF1bMV0rdixlWzBdWzBdPWVbMF1bMF0rZysoRC80Mjk0OTY3Mjk2Pj4+MCk+Pj4wLGVbMF1bMV09RD4+PjAsRD1lWzFdWzFdK0MsZVsxXVswXT1lWzFdWzBdK20rKEQvNDI5NDk2NzI5Nj4+PjApPj4+MCxlWzFdWzFdPUQ+Pj4wLEQ9ZVsyXVsxXStTLGVbMl1bMF09ZVsyXVswXStFKyhELzQyOTQ5NjcyOTY+Pj4wKT4+PjAsZVsyXVsxXT1EPj4+MCxEPWVbM11bMV0rSSxlWzNdWzBdPWVbM11bMF0rVCsoRC80Mjk0OTY3Mjk2Pj4+MCk+Pj4wLGVbM11bMV09RD4+PjAsRD1lWzRdWzFdK2IsZVs0XVswXT1lWzRdWzBdK0ErKEQvNDI5NDk2NzI5Nj4+PjApPj4+MCxlWzRdWzFdPUQ+Pj4wLEQ9ZVs1XVsxXStOLGVbNV1bMF09ZVs1XVswXStCKyhELzQyOTQ5NjcyOTY+Pj4wKT4+PjAsZVs1XVsxXT1EPj4+MCxEPWVbNl1bMV0rUixlWzZdWzBdPWVbNl1bMF0raysoRC80Mjk0OTY3Mjk2Pj4+MCk+Pj4wLGVbNl1bMV09RD4+PjAsRD1lWzddWzFdK0wsZVs3XVswXT1lWzddWzBdK3crKEQvNDI5NDk2NzI5Nj4+PjApPj4+MCxlWzddWzFdPUQ+Pj4wLEstPTEyOH19dmFyIGk9cigwKTtyKDQpLHIoMSk7dmFyIHM9ZS5leHBvcnRzPWkuc2hhNTEyPWkuc2hhNTEyfHx7fTtpLm1kLnNoYTUxMj1pLm1kLmFsZ29yaXRobXMuc2hhNTEyPXM7dmFyIG89aS5zaGEzODQ9aS5zaGE1MTIuc2hhMzg0PWkuc2hhNTEyLnNoYTM4NHx8e307by5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gcy5jcmVhdGUoXCJTSEEtMzg0XCIpfSxpLm1kLnNoYTM4ND1pLm1kLmFsZ29yaXRobXMuc2hhMzg0PW8saS5zaGE1MTIuc2hhMjU2PWkuc2hhNTEyLnNoYTI1Nnx8e2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiBzLmNyZWF0ZShcIlNIQS01MTIvMjU2XCIpfX0saS5tZFtcInNoYTUxMi8yNTZcIl09aS5tZC5hbGdvcml0aG1zW1wic2hhNTEyLzI1NlwiXT1pLnNoYTUxMi5zaGEyNTYsaS5zaGE1MTIuc2hhMjI0PWkuc2hhNTEyLnNoYTIyNHx8e2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiBzLmNyZWF0ZShcIlNIQS01MTIvMjI0XCIpfX0saS5tZFtcInNoYTUxMi8yMjRcIl09aS5tZC5hbGdvcml0aG1zW1wic2hhNTEyLzIyNFwiXT1pLnNoYTUxMi5zaGEyMjQscy5jcmVhdGU9ZnVuY3Rpb24oZSl7aWYodXx8YSgpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlJiYoZT1cIlNIQS01MTJcIiksIShlIGluIHApKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU0hBLTUxMiBhbGdvcml0aG06IFwiK2UpO2Zvcih2YXIgdD1wW2VdLHI9bnVsbCxzPWkudXRpbC5jcmVhdGVCdWZmZXIoKSxvPW5ldyBBcnJheSg4MCksbD0wO2w8ODA7KytsKW9bbF09bmV3IEFycmF5KDIpO3ZhciBoPXthbGdvcml0aG06ZS5yZXBsYWNlKFwiLVwiLFwiXCIpLnRvTG93ZXJDYXNlKCksYmxvY2tMZW5ndGg6MTI4LGRpZ2VzdExlbmd0aDo2NCxtZXNzYWdlTGVuZ3RoOjAsZnVsbE1lc3NhZ2VMZW5ndGg6bnVsbCxtZXNzYWdlTGVuZ3RoU2l6ZToxNn07cmV0dXJuIGguc3RhcnQ9ZnVuY3Rpb24oKXtoLm1lc3NhZ2VMZW5ndGg9MCxoLmZ1bGxNZXNzYWdlTGVuZ3RoPWgubWVzc2FnZUxlbmd0aDEyOD1bXTtmb3IodmFyIGU9aC5tZXNzYWdlTGVuZ3RoU2l6ZS80LGE9MDthPGU7KythKWguZnVsbE1lc3NhZ2VMZW5ndGgucHVzaCgwKTtzPWkudXRpbC5jcmVhdGVCdWZmZXIoKSxyPW5ldyBBcnJheSh0Lmxlbmd0aCk7Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDsrK2EpclthXT10W2FdLnNsaWNlKDApO3JldHVybiBofSxoLnN0YXJ0KCksaC51cGRhdGU9ZnVuY3Rpb24oZSx0KXtcInV0ZjhcIj09PXQmJihlPWkudXRpbC5lbmNvZGVVdGY4KGUpKTt2YXIgYT1lLmxlbmd0aDtoLm1lc3NhZ2VMZW5ndGgrPWEsYT1bYS80Mjk0OTY3Mjk2Pj4+MCxhPj4+MF07Zm9yKHZhciBjPWguZnVsbE1lc3NhZ2VMZW5ndGgubGVuZ3RoLTE7Yz49MDstLWMpaC5mdWxsTWVzc2FnZUxlbmd0aFtjXSs9YVsxXSxhWzFdPWFbMF0rKGguZnVsbE1lc3NhZ2VMZW5ndGhbY10vNDI5NDk2NzI5Nj4+PjApLGguZnVsbE1lc3NhZ2VMZW5ndGhbY109aC5mdWxsTWVzc2FnZUxlbmd0aFtjXT4+PjAsYVswXT1hWzFdLzQyOTQ5NjcyOTY+Pj4wO3JldHVybiBzLnB1dEJ5dGVzKGUpLG4ocixvLHMpLChzLnJlYWQ+MjA0OHx8MD09PXMubGVuZ3RoKCkpJiZzLmNvbXBhY3QoKSxofSxoLmRpZ2VzdD1mdW5jdGlvbigpe3ZhciB0PWkudXRpbC5jcmVhdGVCdWZmZXIoKTt0LnB1dEJ5dGVzKHMuYnl0ZXMoKSk7dmFyIGE9aC5mdWxsTWVzc2FnZUxlbmd0aFtoLmZ1bGxNZXNzYWdlTGVuZ3RoLmxlbmd0aC0xXStoLm1lc3NhZ2VMZW5ndGhTaXplLHU9YSZoLmJsb2NrTGVuZ3RoLTE7dC5wdXRCeXRlcyhjLnN1YnN0cigwLGguYmxvY2tMZW5ndGgtdSkpO2Zvcih2YXIgbCxwLGY9OCpoLmZ1bGxNZXNzYWdlTGVuZ3RoWzBdLGQ9MDtkPGguZnVsbE1lc3NhZ2VMZW5ndGgubGVuZ3RoLTE7KytkKWw9OCpoLmZ1bGxNZXNzYWdlTGVuZ3RoW2QrMV0scD1sLzQyOTQ5NjcyOTY+Pj4wLGYrPXAsdC5wdXRJbnQzMihmPj4+MCksZj1sPj4+MDt0LnB1dEludDMyKGYpO2Zvcih2YXIgeT1uZXcgQXJyYXkoci5sZW5ndGgpLGQ9MDtkPHIubGVuZ3RoOysrZCl5W2RdPXJbZF0uc2xpY2UoMCk7bih5LG8sdCk7dmFyIGcsdj1pLnV0aWwuY3JlYXRlQnVmZmVyKCk7Zz1cIlNIQS01MTJcIj09PWU/eS5sZW5ndGg6XCJTSEEtMzg0XCI9PT1lP3kubGVuZ3RoLTI6eS5sZW5ndGgtNDtmb3IodmFyIGQ9MDtkPGc7KytkKXYucHV0SW50MzIoeVtkXVswXSksZD09PWctMSYmXCJTSEEtNTEyLzIyNFwiPT09ZXx8di5wdXRJbnQzMih5W2RdWzFdKTtyZXR1cm4gdn0saH07dmFyIGM9bnVsbCx1PSExLGw9bnVsbCxwPW51bGx9LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBhKGUsdCl7dmFyIHI9dC50b1N0cmluZygxNik7clswXT49XCI4XCImJihyPVwiMDBcIityKTt2YXIgYT1zLnV0aWwuaGV4VG9CeXRlcyhyKTtlLnB1dEludDMyKGEubGVuZ3RoKSxlLnB1dEJ5dGVzKGEpfWZ1bmN0aW9uIG4oZSx0KXtlLnB1dEludDMyKHQubGVuZ3RoKSxlLnB1dFN0cmluZyh0KX1mdW5jdGlvbiBpKCl7Zm9yKHZhciBlPXMubWQuc2hhMS5jcmVhdGUoKSx0PWFyZ3VtZW50cy5sZW5ndGgscj0wO3I8dDsrK3IpZS51cGRhdGUoYXJndW1lbnRzW3JdKTtyZXR1cm4gZS5kaWdlc3QoKX12YXIgcz1yKDApO3IoNSkscig4KSxyKDE0KSxyKDkpLHIoMSk7dmFyIG89ZS5leHBvcnRzPXMuc3NoPXMuc3NofHx7fTtvLnByaXZhdGVLZXlUb1B1dHR5PWZ1bmN0aW9uKGUsdCxyKXtyPXJ8fFwiXCIsdD10fHxcIlwiO3ZhciBvPVwic3NoLXJzYVwiLGM9XCJcIj09PXQ/XCJub25lXCI6XCJhZXMyNTYtY2JjXCIsdT1cIlB1VFRZLVVzZXItS2V5LUZpbGUtMjogXCIrbytcIlxcclxcblwiO3UrPVwiRW5jcnlwdGlvbjogXCIrYytcIlxcclxcblwiLHUrPVwiQ29tbWVudDogXCIrcitcIlxcclxcblwiO3ZhciBsPXMudXRpbC5jcmVhdGVCdWZmZXIoKTtuKGwsbyksYShsLGUuZSksYShsLGUubik7dmFyIHA9cy51dGlsLmVuY29kZTY0KGwuYnl0ZXMoKSw2NCksaD1NYXRoLmZsb29yKHAubGVuZ3RoLzY2KSsxO3UrPVwiUHVibGljLUxpbmVzOiBcIitoK1wiXFxyXFxuXCIsdSs9cDt2YXIgZj1zLnV0aWwuY3JlYXRlQnVmZmVyKCk7YShmLGUuZCksYShmLGUucCksYShmLGUucSksYShmLGUucUludik7dmFyIGQ7aWYodCl7dmFyIHk9Zi5sZW5ndGgoKSsxNi0xO3ktPXklMTY7dmFyIGc9aShmLmJ5dGVzKCkpO2cudHJ1bmNhdGUoZy5sZW5ndGgoKS15K2YubGVuZ3RoKCkpLGYucHV0QnVmZmVyKGcpO3ZhciB2PXMudXRpbC5jcmVhdGVCdWZmZXIoKTt2LnB1dEJ1ZmZlcihpKFwiXFwwXFwwXFwwXFwwXCIsdCkpLHYucHV0QnVmZmVyKGkoXCJcXDBcXDBcXDBcdTAwMDFcIix0KSk7dmFyIG09cy5hZXMuY3JlYXRlRW5jcnlwdGlvbkNpcGhlcih2LnRydW5jYXRlKDgpLFwiQ0JDXCIpO20uc3RhcnQocy51dGlsLmNyZWF0ZUJ1ZmZlcigpLmZpbGxXaXRoQnl0ZSgwLDE2KSksbS51cGRhdGUoZi5jb3B5KCkpLG0uZmluaXNoKCk7dmFyIEM9bS5vdXRwdXQ7Qy50cnVuY2F0ZSgxNiksZD1zLnV0aWwuZW5jb2RlNjQoQy5ieXRlcygpLDY0KX1lbHNlIGQ9cy51dGlsLmVuY29kZTY0KGYuYnl0ZXMoKSw2NCk7aD1NYXRoLmZsb29yKGQubGVuZ3RoLzY2KSsxLHUrPVwiXFxyXFxuUHJpdmF0ZS1MaW5lczogXCIraCtcIlxcclxcblwiLHUrPWQ7dmFyIEU9aShcInB1dHR5LXByaXZhdGUta2V5LWZpbGUtbWFjLWtleVwiLHQpLFM9cy51dGlsLmNyZWF0ZUJ1ZmZlcigpO24oUyxvKSxuKFMsYyksbihTLHIpLFMucHV0SW50MzIobC5sZW5ndGgoKSksUy5wdXRCdWZmZXIobCksUy5wdXRJbnQzMihmLmxlbmd0aCgpKSxTLnB1dEJ1ZmZlcihmKTt2YXIgVD1zLmhtYWMuY3JlYXRlKCk7cmV0dXJuIFQuc3RhcnQoXCJzaGExXCIsRSksVC51cGRhdGUoUy5ieXRlcygpKSx1Kz1cIlxcclxcblByaXZhdGUtTUFDOiBcIitULmRpZ2VzdCgpLnRvSGV4KCkrXCJcXHJcXG5cIn0sby5wdWJsaWNLZXlUb09wZW5TU0g9ZnVuY3Rpb24oZSx0KXt2YXIgcj1cInNzaC1yc2FcIjt0PXR8fFwiXCI7dmFyIGk9cy51dGlsLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiBuKGksciksYShpLGUuZSksYShpLGUubikscitcIiBcIitzLnV0aWwuZW5jb2RlNjQoaS5ieXRlcygpKStcIiBcIit0fSxvLnByaXZhdGVLZXlUb09wZW5TU0g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9zLnBraS5lbmNyeXB0UnNhUHJpdmF0ZUtleShlLHQse2xlZ2FjeTohMCxhbGdvcml0aG06XCJhZXMxMjhcIn0pOnMucGtpLnByaXZhdGVLZXlUb1BlbShlKX0sby5nZXRQdWJsaWNLZXlGaW5nZXJwcmludD1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIHI9dC5tZHx8cy5tZC5tZDUuY3JlYXRlKCksaT1cInNzaC1yc2FcIixvPXMudXRpbC5jcmVhdGVCdWZmZXIoKTtuKG8saSksYShvLGUuZSksYShvLGUubiksci5zdGFydCgpLHIudXBkYXRlKG8uZ2V0Qnl0ZXMoKSk7dmFyIGM9ci5kaWdlc3QoKTtpZihcImhleFwiPT09dC5lbmNvZGluZyl7dmFyIHU9Yy50b0hleCgpO3JldHVybiB0LmRlbGltaXRlcj91Lm1hdGNoKC8uezJ9L2cpLmpvaW4odC5kZWxpbWl0ZXIpOnV9aWYoXCJiaW5hcnlcIj09PXQuZW5jb2RpbmcpcmV0dXJuIGMuZ2V0Qnl0ZXMoKTtpZih0LmVuY29kaW5nKXRocm93IG5ldyBFcnJvcignVW5rbm93biBlbmNvZGluZyBcIicrdC5lbmNvZGluZysnXCIuJyk7cmV0dXJuIGN9fSxmdW5jdGlvbihlLHQscil7dmFyIGE9cigwKTtyKDE5KSxyKDIwKSxyKDEpO3ZhciBuPVwiZm9yZ2UudGFza1wiLGk9MCxzPXt9LG89MDthLmRlYnVnLnNldChuLFwidGFza3NcIixzKTt2YXIgYz17fTthLmRlYnVnLnNldChuLFwicXVldWVzXCIsYyk7dmFyIHU9XCI/XCIsbD0zMCxwPTIwLGg9XCJyZWFkeVwiLGY9XCJydW5uaW5nXCIsZD1cImJsb2NrZWRcIix5PVwic2xlZXBpbmdcIixnPVwiZG9uZVwiLHY9XCJlcnJvclwiLG09XCJzdG9wXCIsQz1cInN0YXJ0XCIsRT1cImJsb2NrXCIsUz1cInVuYmxvY2tcIixUPVwic2xlZXBcIixJPVwid2FrZXVwXCIsQT1cImNhbmNlbFwiLGI9XCJmYWlsXCIsQj17fTtCW2hdPXt9LEJbaF1bbV09aCxCW2hdW0NdPWYsQltoXVtBXT1nLEJbaF1bYl09dixCW2ZdPXt9LEJbZl1bbV09aCxCW2ZdW0NdPWYsQltmXVtFXT1kLEJbZl1bU109ZixCW2ZdW1RdPXksQltmXVtJXT1mLEJbZl1bQV09ZyxCW2ZdW2JdPXYsQltkXT17fSxCW2RdW21dPWQsQltkXVtDXT1kLEJbZF1bRV09ZCxCW2RdW1NdPWQsQltkXVtUXT1kLEJbZF1bSV09ZCxCW2RdW0FdPWcsQltkXVtiXT12LEJbeV09e30sQlt5XVttXT15LEJbeV1bQ109eSxCW3ldW0VdPXksQlt5XVtTXT15LEJbeV1bVF09eSxCW3ldW0ldPXksQlt5XVtBXT1nLEJbeV1bYl09dixCW2ddPXt9LEJbZ11bbV09ZyxCW2ddW0NdPWcsQltnXVtFXT1nLEJbZ11bU109ZyxCW2ddW1RdPWcsQltnXVtJXT1nLEJbZ11bQV09ZyxCW2ddW2JdPXYsQlt2XT17fSxCW3ZdW21dPXYsQlt2XVtDXT12LEJbdl1bRV09dixCW3ZdW1NdPXYsQlt2XVtUXT12LEJbdl1bSV09dixCW3ZdW0FdPXYsQlt2XVtiXT12O3ZhciBOPWZ1bmN0aW9uKGUpe3RoaXMuaWQ9LTEsdGhpcy5uYW1lPWUubmFtZXx8dSx0aGlzLnBhcmVudD1lLnBhcmVudHx8bnVsbCx0aGlzLnJ1bj1lLnJ1bix0aGlzLnN1YnRhc2tzPVtdLHRoaXMuZXJyb3I9ITEsdGhpcy5zdGF0ZT1oLHRoaXMuYmxvY2tzPTAsdGhpcy50aW1lb3V0SWQ9bnVsbCx0aGlzLnN3YXBUaW1lPW51bGwsdGhpcy51c2VyRGF0YT1udWxsLHRoaXMuaWQ9bysrLHNbdGhpcy5pZF09dGhpcyxpPj0xJiZhLmxvZy52ZXJib3NlKG4sXCJbJXNdWyVzXSBpbml0XCIsdGhpcy5pZCx0aGlzLm5hbWUsdGhpcyl9O04ucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKGUpe2U9ZXx8XCJcIixhLmxvZy5kZWJ1ZyhuLGUsXCJbJXNdWyVzXSB0YXNrOlwiLHRoaXMuaWQsdGhpcy5uYW1lLHRoaXMsXCJzdWJ0YXNrczpcIix0aGlzLnN1YnRhc2tzLmxlbmd0aCxcInF1ZXVlOlwiLGMpfSxOLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUsdCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHQ9ZSxlPXRoaXMubmFtZSk7dmFyIHI9bmV3IE4oe3J1bjp0LG5hbWU6ZSxwYXJlbnQ6dGhpc30pO3JldHVybiByLnN0YXRlPWYsci50eXBlPXRoaXMudHlwZSxyLnN1Y2Nlc3NDYWxsYmFjaz10aGlzLnN1Y2Nlc3NDYWxsYmFja3x8bnVsbCxyLmZhaWx1cmVDYWxsYmFjaz10aGlzLmZhaWx1cmVDYWxsYmFja3x8bnVsbCx0aGlzLnN1YnRhc2tzLnB1c2gociksdGhpc30sTi5wcm90b3R5cGUucGFyYWxsZWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS51dGlsLmlzQXJyYXkoZSkmJih0PWUsZT10aGlzLm5hbWUpLHRoaXMubmV4dChlLGZ1bmN0aW9uKHIpe3ZhciBuPXI7bi5ibG9jayh0Lmxlbmd0aCk7Zm9yKHZhciBpPWZ1bmN0aW9uKGUscil7YS50YXNrLnN0YXJ0KHt0eXBlOmUscnVuOmZ1bmN0aW9uKGUpe3Rbcl0oZSl9LHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7bi51bmJsb2NrKCl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7bi51bmJsb2NrKCl9fSl9LHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIG89ZStcIl9fcGFyYWxsZWwtXCIrci5pZCtcIi1cIitzLGM9cztpKG8sYyl9fSl9LE4ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPUJbdGhpcy5zdGF0ZV1bbV19LE4ucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5lcnJvcj0hMSx0aGlzLnN0YXRlPUJbdGhpcy5zdGF0ZV1bQ10sdGhpcy5zdGF0ZT09PWYmJih0aGlzLnN0YXJ0PW5ldyBEYXRlLHRoaXMucnVuKHRoaXMpLFIodGhpcywwKSl9LE4ucHJvdG90eXBlLmJsb2NrPWZ1bmN0aW9uKGUpe2U9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/MTplLHRoaXMuYmxvY2tzKz1lLHRoaXMuYmxvY2tzPjAmJih0aGlzLnN0YXRlPUJbdGhpcy5zdGF0ZV1bRV0pfSxOLnByb3RvdHlwZS51bmJsb2NrPWZ1bmN0aW9uKGUpe3JldHVybiBlPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBlPzE6ZSx0aGlzLmJsb2Nrcy09ZSwwPT09dGhpcy5ibG9ja3MmJnRoaXMuc3RhdGUhPT1nJiYodGhpcy5zdGF0ZT1mLFIodGhpcywwKSksdGhpcy5ibG9ja3N9LE4ucHJvdG90eXBlLnNsZWVwPWZ1bmN0aW9uKGUpe2U9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/MDplLHRoaXMuc3RhdGU9Qlt0aGlzLnN0YXRlXVtUXTt2YXIgdD10aGlzO3RoaXMudGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnRpbWVvdXRJZD1udWxsLHQuc3RhdGU9ZixSKHQsMCl9LGUpfSxOLnByb3RvdHlwZS53YWl0PWZ1bmN0aW9uKGUpe2Uud2FpdCh0aGlzKX0sTi5wcm90b3R5cGUud2FrZXVwPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT09PXkmJihjYW5jZWxUaW1lb3V0KHRoaXMudGltZW91dElkKSx0aGlzLnRpbWVvdXRJZD1udWxsLHRoaXMuc3RhdGU9ZixSKHRoaXMsMCkpfSxOLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPUJbdGhpcy5zdGF0ZV1bQV0sdGhpcy5wZXJtaXRzTmVlZGVkPTAsbnVsbCE9PXRoaXMudGltZW91dElkJiYoY2FuY2VsVGltZW91dCh0aGlzLnRpbWVvdXRJZCksdGhpcy50aW1lb3V0SWQ9bnVsbCksdGhpcy5zdWJ0YXNrcz1bXX0sTi5wcm90b3R5cGUuZmFpbD1mdW5jdGlvbihlKXtpZih0aGlzLmVycm9yPSEwLHcodGhpcywhMCksZSllLmVycm9yPXRoaXMuZXJyb3IsZS5zd2FwVGltZT10aGlzLnN3YXBUaW1lLGUudXNlckRhdGE9dGhpcy51c2VyRGF0YSxSKGUsMCk7ZWxzZXtpZihudWxsIT09dGhpcy5wYXJlbnQpe2Zvcih2YXIgdD10aGlzLnBhcmVudDtudWxsIT09dC5wYXJlbnQ7KXQuZXJyb3I9dGhpcy5lcnJvcix0LnN3YXBUaW1lPXRoaXMuc3dhcFRpbWUsdC51c2VyRGF0YT10aGlzLnVzZXJEYXRhLHQ9dC5wYXJlbnQ7dyh0LCEwKX10aGlzLmZhaWx1cmVDYWxsYmFjayYmdGhpcy5mYWlsdXJlQ2FsbGJhY2sodGhpcyl9fTt2YXIgaz1mdW5jdGlvbihlKXtlLmVycm9yPSExLGUuc3RhdGU9QltlLnN0YXRlXVtDXSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5zdGF0ZT09PWYmJihlLnN3YXBUaW1lPStuZXcgRGF0ZSxlLnJ1bihlKSxSKGUsMCkpfSwwKX0sUj1mdW5jdGlvbihlLHQpe3ZhciByPXQ+bHx8K25ldyBEYXRlLWUuc3dhcFRpbWU+cCxhPWZ1bmN0aW9uKHQpe2lmKHQrKyxlLnN0YXRlPT09ZilpZihyJiYoZS5zd2FwVGltZT0rbmV3IERhdGUpLGUuc3VidGFza3MubGVuZ3RoPjApe3ZhciBhPWUuc3VidGFza3Muc2hpZnQoKTthLmVycm9yPWUuZXJyb3IsYS5zd2FwVGltZT1lLnN3YXBUaW1lLGEudXNlckRhdGE9ZS51c2VyRGF0YSxhLnJ1bihhKSxhLmVycm9yfHxSKGEsdCl9ZWxzZSB3KGUpLGUuZXJyb3J8fG51bGwhPT1lLnBhcmVudCYmKGUucGFyZW50LmVycm9yPWUuZXJyb3IsZS5wYXJlbnQuc3dhcFRpbWU9ZS5zd2FwVGltZSxlLnBhcmVudC51c2VyRGF0YT1lLnVzZXJEYXRhLFIoZS5wYXJlbnQsdCkpfTtyP3NldFRpbWVvdXQoYSwwKTphKHQpfSx3PWZ1bmN0aW9uKGUsdCl7ZS5zdGF0ZT1nLGRlbGV0ZSBzW2UuaWRdLGk+PTEmJmEubG9nLnZlcmJvc2UobixcIlslc11bJXNdIGZpbmlzaFwiLGUuaWQsZS5uYW1lLGUpLG51bGw9PT1lLnBhcmVudCYmKGUudHlwZSBpbiBjPzA9PT1jW2UudHlwZV0ubGVuZ3RoP2EubG9nLmVycm9yKG4sXCJbJXNdWyVzXSB0YXNrIHF1ZXVlIGVtcHR5IFslc11cIixlLmlkLGUubmFtZSxlLnR5cGUpOmNbZS50eXBlXVswXSE9PWU/YS5sb2cuZXJyb3IobixcIlslc11bJXNdIHRhc2sgbm90IGZpcnN0IGluIHF1ZXVlIFslc11cIixlLmlkLGUubmFtZSxlLnR5cGUpOihjW2UudHlwZV0uc2hpZnQoKSwwPT09Y1tlLnR5cGVdLmxlbmd0aD8oaT49MSYmYS5sb2cudmVyYm9zZShuLFwiWyVzXVslc10gZGVsZXRlIHF1ZXVlIFslc11cIixlLmlkLGUubmFtZSxlLnR5cGUpLGRlbGV0ZSBjW2UudHlwZV0pOihpPj0xJiZhLmxvZy52ZXJib3NlKG4sXCJbJXNdWyVzXSBxdWV1ZSBzdGFydCBuZXh0IFslc10gcmVtYWluOiVzXCIsZS5pZCxlLm5hbWUsZS50eXBlLGNbZS50eXBlXS5sZW5ndGgpLGNbZS50eXBlXVswXS5zdGFydCgpKSk6YS5sb2cuZXJyb3IobixcIlslc11bJXNdIHRhc2sgcXVldWUgbWlzc2luZyBbJXNdXCIsZS5pZCxlLm5hbWUsZS50eXBlKSx0fHwoZS5lcnJvciYmZS5mYWlsdXJlQ2FsbGJhY2s/ZS5mYWlsdXJlQ2FsbGJhY2soZSk6IWUuZXJyb3ImJmUuc3VjY2Vzc0NhbGxiYWNrJiZlLnN1Y2Nlc3NDYWxsYmFjayhlKSkpfTtlLmV4cG9ydHM9YS50YXNrPWEudGFza3x8e30sYS50YXNrLnN0YXJ0PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBOKHtydW46ZS5ydW4sbmFtZTplLm5hbWV8fHV9KTt0LnR5cGU9ZS50eXBlLHQuc3VjY2Vzc0NhbGxiYWNrPWUuc3VjY2Vzc3x8bnVsbCx0LmZhaWx1cmVDYWxsYmFjaz1lLmZhaWx1cmV8fG51bGwsdC50eXBlIGluIGM/Y1tlLnR5cGVdLnB1c2godCk6KGk+PTEmJmEubG9nLnZlcmJvc2UobixcIlslc11bJXNdIGNyZWF0ZSBxdWV1ZSBbJXNdXCIsdC5pZCx0Lm5hbWUsdC50eXBlKSxjW3QudHlwZV09W3RdLGsodCkpfSxhLnRhc2suY2FuY2VsPWZ1bmN0aW9uKGUpe2UgaW4gYyYmKGNbZV09W2NbZV1bMF1dKX0sYS50YXNrLmNyZWF0ZUNvbmRpdGlvbj1mdW5jdGlvbigpe3ZhciBlPXt0YXNrczp7fX07cmV0dXJuIGUud2FpdD1mdW5jdGlvbih0KXt0LmlkIGluIGUudGFza3N8fCh0LmJsb2NrKCksZS50YXNrc1t0LmlkXT10KX0sZS5ub3RpZnk9ZnVuY3Rpb24oKXt2YXIgdD1lLnRhc2tzO2UudGFza3M9e307Zm9yKHZhciByIGluIHQpdFtyXS51bmJsb2NrKCl9LGV9fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMzMpfV0pfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3JnZS5taW4uanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9mb3JnZS5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IGZvcmdlID0gcmVxdWlyZSgnbm9kZS1mb3JnZScpO1xuY29uc3QgQXBuc0NlcnRpZmljYXRlID0gcmVxdWlyZSgnLi4vLi4vYnVpbGQvc3JjL2luZGV4JykuQXBuc0NlcnRpZmljYXRlO1xuXG5mdW5jdGlvbiBzdHJpcEJhc2U2NE1pbWUgKGJhc2U2NCkge1xuICByZXR1cm4gYmFzZTY0LnN1YnN0cihiYXNlNjQuaW5kZXhPZignLCcpICsgMSwgYmFzZTY0Lmxlbmd0aClcbn1cblxud2luZG93LmZpbGVDaGFuZ2VFdmVudCA9IGZ1bmN0aW9uIChmaWxlcykge1xuICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZXR0aW5ncyA9IG5ldyBBcG5zQ2VydGlmaWNhdGUoXG4gICAgICAgIHN0cmlwQmFzZTY0TWltZShyZWFkZXIucmVzdWx0KSxcbiAgICAgICAgcHJvbXB0KCdEb2VzIHRoZSBjZXJ0aWZpY2F0ZSByZXF1aXJlIGEgcGFzc3dvcmQ/JylcbiAgICAgIClcblxuICAgICAgT2JqZWN0LmtleXMoc2V0dGluZ3MpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgY29uc3QgZWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoa2V5KTtcbiAgICAgICAgaWYgKGVsbSkge1xuICAgICAgICAgIGVsbS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHNldHRpbmdzW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhbGVydChlcnIubWVzc2FnZSlcbiAgICB9XG4gIH1cblxuICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlc1swXSlcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NjcmlwdHMuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoXCJnbG9iYWxcIik7XG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IGdsb2JhbC5zZXRJbW1lZGlhdGU7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2RjbWFjL2dpdC9naXRodWIvdXctcHVzaC1saWJyYXJ5L25vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEhhbmRsZSA9IDE7IC8vIFNwZWMgc2F5cyBncmVhdGVyIHRoYW4gemVyb1xuICAgIHZhciB0YXNrc0J5SGFuZGxlID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgdmFyIHJlZ2lzdGVySW1tZWRpYXRlO1xuXG4gICAgZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4gICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihcIlwiICsgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgYW5kIHJlZ2lzdGVyIHRoZSB0YXNrXG4gICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG4gICAgICB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdID0gdGFzaztcbiAgICAgIHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpO1xuICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4odGFzaykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKSB7XG4gICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcbiAgICAgICAgLy8gU28gaWYgd2UncmUgY3VycmVudGx5IHJ1bm5pbmcgYSB0YXNrLCB3ZSdsbCBuZWVkIHRvIGRlbGF5IHRoaXMgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKGN1cnJlbnRseVJ1bm5pbmdBVGFzaykge1xuICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcbiAgICAgICAgICAgIC8vIFwidG9vIG11Y2ggcmVjdXJzaW9uXCIgZXJyb3IuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bih0YXNrKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckltbWVkaWF0ZShoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkgeyBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuVXNlUG9zdE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIFRoZSB0ZXN0IGFnYWluc3QgYGltcG9ydFNjcmlwdHNgIHByZXZlbnRzIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSBiZWluZyBpbnN0YWxsZWQgaW5zaWRlIGEgd2ViIHdvcmtlcixcbiAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgICAgIGlmIChnbG9iYWwucG9zdE1lc3NhZ2UgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBvbGRPbk1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICAvLyBJbnN0YWxscyBhbiBldmVudCBoYW5kbGVyIG9uIGBnbG9iYWxgIGZvciB0aGUgYG1lc3NhZ2VgIGV2ZW50OiBzZWVcbiAgICAgICAgLy8gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vd2luZG93LnBvc3RNZXNzYWdlXG4gICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblxuICAgICAgICB2YXIgbWVzc2FnZVByZWZpeCA9IFwic2V0SW1tZWRpYXRlJFwiICsgTWF0aC5yYW5kb20oKSArIFwiJFwiO1xuICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCArIGhhbmRsZSwgXCIqXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHN1cHBvcnRlZCwgd2Ugc2hvdWxkIGF0dGFjaCB0byB0aGUgcHJvdG90eXBlIG9mIGdsb2JhbCwgc2luY2UgdGhhdCBpcyB3aGVyZSBzZXRUaW1lb3V0IGV0IGFsLiBsaXZlLlxuICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgICBhdHRhY2hUbyA9IGF0dGFjaFRvICYmIGF0dGFjaFRvLnNldFRpbWVvdXQgPyBhdHRhY2hUbyA6IGdsb2JhbDtcblxuICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiKSB7XG4gICAgICAgIC8vIEZvciBOb2RlLmpzIGJlZm9yZSAwLjlcbiAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuICAgICAgICAvLyBGb3Igbm9uLUlFMTAgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuICAgICAgICBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChkb2MgJiYgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiBpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkge1xuICAgICAgICAvLyBGb3IgSUUgNuKAkzhcbiAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUby5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG4gICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcbn0odHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IGdsb2JhbCA6IHNlbGYpKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9ub2RlX21vZHVsZXMvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgd2luO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbiA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbiA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgIHdpbiA9IHNlbGY7XG59IGVsc2Uge1xuICAgIHdpbiA9IHt9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdpbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9ub2RlX21vZHVsZXMvZ2xvYmFsL3dpbmRvdy5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG4ndXNlIHN0cmljdCdcblxudmFyIGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBVc2UgT2JqZWN0IGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBEdWUgdG8gdmFyaW91cyBicm93c2VyIGJ1Z3MsIHNvbWV0aW1lcyB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdXNlZCBldmVuXG4gKiB3aGVuIHRoZSBicm93c2VyIHN1cHBvcnRzIHR5cGVkIGFycmF5cy5cbiAqXG4gKiBOb3RlOlxuICpcbiAqICAgLSBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMsXG4gKiAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzguXG4gKlxuICogICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uXG4gKlxuICogICAtIElFMTAgaGFzIGEgYnJva2VuIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhcnJheXMgb2ZcbiAqICAgICBpbmNvcnJlY3QgbGVuZ3RoIGluIHNvbWUgc2l0dWF0aW9ucy5cblxuICogV2UgZGV0ZWN0IHRoZXNlIGJ1Z2d5IGJyb3dzZXJzIGFuZCBzZXQgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYCB0byBgZmFsc2VgIHNvIHRoZXlcbiAqIGdldCB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uLCB3aGljaCBpcyBzbG93ZXIgYnV0IGJlaGF2ZXMgY29ycmVjdGx5LlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUICE9PSB1bmRlZmluZWRcbiAgPyBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVFxuICA6IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuLypcbiAqIEV4cG9ydCBrTWF4TGVuZ3RoIGFmdGVyIHR5cGVkIGFycmF5IHN1cHBvcnQgaXMgZGV0ZXJtaW5lZC5cbiAqL1xuZXhwb3J0cy5rTWF4TGVuZ3RoID0ga01heExlbmd0aCgpXG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBhcnIuX19wcm90b19fID0ge19fcHJvdG9fXzogVWludDhBcnJheS5wcm90b3R5cGUsIGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfX1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZFxuICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuICAgICAgICBhcnIuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24ga01heExlbmd0aCAoKSB7XG4gIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVFxuICAgID8gMHg3ZmZmZmZmZlxuICAgIDogMHgzZmZmZmZmZlxufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKHRoYXQsIGxlbmd0aCkge1xuICBpZiAoa01heExlbmd0aCgpIDwgbGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoJylcbiAgfVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICBpZiAodGhhdCA9PT0gbnVsbCkge1xuICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuICAgIH1cbiAgICB0aGF0Lmxlbmd0aCA9IGxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0lmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJ1xuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gYWxsb2NVbnNhZmUodGhpcywgYXJnKVxuICB9XG4gIHJldHVybiBmcm9tKHRoaXMsIGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuLy8gVE9ETzogTGVnYWN5LCBub3QgbmVlZGVkIGFueW1vcmUuIFJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb24uXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gZnJvbSAodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cblxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBmcm9tT2JqZWN0KHRoYXQsIHZhbHVlKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKG51bGwsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbmlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG4gIEJ1ZmZlci5fX3Byb3RvX18gPSBVaW50OEFycmF5XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAmJlxuICAgICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gICAgLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLCBTeW1ib2wuc3BlY2llcywge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAodGhhdCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXR0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2MobnVsbCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlICh0aGF0LCBzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICB0aGF0W2ldID0gMFxuICAgIH1cbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICB0aGF0ID0gdGhhdC5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ2xlbmd0aFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gYXJyYXlcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgdGhhdCA9IGZyb21BcnJheUxpa2UodGhhdCwgYXJyYXkpXG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuKVxuXG4gICAgaWYgKHRoYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhhdFxuICAgIH1cblxuICAgIG9iai5jb3B5KHRoYXQsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gdGhhdFxuICB9XG5cbiAgaWYgKG9iaikge1xuICAgIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8ICdsZW5ndGgnIGluIG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc25hbihvYmoubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIDApXG4gICAgICB9XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmopXG4gICAgfVxuXG4gICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iai5kYXRhKSkge1xuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqLmRhdGEpXG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LicpXG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoKClgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIGtNYXhMZW5ndGgoKS50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKCtsZW5ndGggIT0gbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgbGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aClcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgYnVmID0gbGlzdFtpXVxuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gICAgfVxuICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nXG4gIH1cblxuICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcbiAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoZW5kIDw9IDApIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8vIEZvcmNlIGNvZXJzaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG4gIGVuZCA+Pj49IDBcbiAgc3RhcnQgPj4+PSAwXG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0XG4vLyBCdWZmZXIgaW5zdGFuY2VzLlxuQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cbmZ1bmN0aW9uIHN3YXAgKGIsIG4sIG0pIHtcbiAgdmFyIGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSlcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKVxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0ICAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAoaXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJlxuICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKHN0ckxlbiAlIDIgIT09IDApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaGV4IHN0cmluZycpXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBsYXRpbjFXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCB8IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICAvLyBsZWdhY3kgd3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpIC0gcmVtb3ZlIGluIHYwLjEzXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERikgPyAzXG4gICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSB0b0hleChidWZbaV0pXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgdmFyIHJlcyA9ICcnXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgbmV3QnVmID0gbmV3IEJ1ZmZlcihzbGljZUxlbiwgdW5kZWZpbmVkKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2VMZW47ICsraSkge1xuICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgaSA9IGJ5dGVMZW5ndGhcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKVxuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDIpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cbiAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcbiAgdmFyIGlcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcbiAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcbiAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiB1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKHZhbCwgZW5jb2RpbmcpLnRvU3RyaW5nKCkpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHtcbiAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIGlzbmFuICh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gdmFsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBwbGFjZUhvbGRlcnNDb3VudCAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyB0aGUgbnVtYmVyIG9mIGVxdWFsIHNpZ25zIChwbGFjZSBob2xkZXJzKVxuICAvLyBpZiB0aGVyZSBhcmUgdHdvIHBsYWNlaG9sZGVycywgdGhhbiB0aGUgdHdvIGNoYXJhY3RlcnMgYmVmb3JlIGl0XG4gIC8vIHJlcHJlc2VudCBvbmUgYnl0ZVxuICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgdGhyZWUgY2hhcmFjdGVycyBiZWZvcmUgaXQgcmVwcmVzZW50IDIgYnl0ZXNcbiAgLy8gdGhpcyBpcyBqdXN0IGEgY2hlYXAgaGFjayB0byBub3QgZG8gaW5kZXhPZiB0d2ljZVxuICByZXR1cm4gYjY0W2xlbiAtIDJdID09PSAnPScgPyAyIDogYjY0W2xlbiAtIDFdID09PSAnPScgPyAxIDogMFxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG4gIHJldHVybiAoYjY0Lmxlbmd0aCAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0NvdW50KGI2NClcbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgaSwgbCwgdG1wLCBwbGFjZUhvbGRlcnMsIGFyclxuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuICBwbGFjZUhvbGRlcnMgPSBwbGFjZUhvbGRlcnNDb3VudChiNjQpXG5cbiAgYXJyID0gbmV3IEFycigobGVuICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzKVxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgbCA9IHBsYWNlSG9sZGVycyA+IDAgPyBsZW4gLSA0IDogbGVuXG5cbiAgdmFyIEwgPSAwXG5cbiAgZm9yIChpID0gMDsgaSA8IGw7IGkgKz0gNCkge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfCByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltMKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW0wrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVycyA9PT0gMikge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW0wrK10gPSB0bXAgJiAweEZGXG4gIH0gZWxzZSBpZiAocGxhY2VIb2xkZXJzID09PSAxKSB7XG4gICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW0wrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICsgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gKyBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgb3V0cHV0ID0gJydcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIG91dHB1dCArPSBsb29rdXBbdG1wID4+IDJdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl1cbiAgICBvdXRwdXQgKz0gJz09J1xuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyAodWludDhbbGVuIC0gMV0pXG4gICAgb3V0cHV0ICs9IGxvb2t1cFt0bXAgPj4gMTBdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl1cbiAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXVxuICAgIG91dHB1dCArPSAnPSdcbiAgfVxuXG4gIHBhcnRzLnB1c2gob3V0cHV0KVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2RjbWFjL2dpdC9naXRodWIvdXctcHVzaC1saWJyYXJ5L25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gZSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAodmFsdWUgKiBjIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYXBuc19jZXJ0aWZpY2F0ZV8xID0gcmVxdWlyZShcIi4vbGliL2FwcGxlL2FwbnMtY2VydGlmaWNhdGVcIik7XG5leHBvcnRzLkFwbnNDZXJ0aWZpY2F0ZSA9IGFwbnNfY2VydGlmaWNhdGVfMS5BcG5zQ2VydGlmaWNhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvYnVpbGQvc3JjL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGZvcmdlID0gcmVxdWlyZShcIm5vZGUtZm9yZ2VcIik7XG5jb25zdCBhcG5zX29pZHNfMSA9IHJlcXVpcmUoXCIuL2FwbnMtb2lkc1wiKTtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xuY2xhc3MgQXBuc0NlcnRpZmljYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihieXRlcywgcGFzc3BocmFzZSkge1xuICAgICAgICBjb25zdCBwMTIgPSB0aGlzLmRlY3J5cHRQa2NzMTIoYnl0ZXMsIHBhc3NwaHJhc2UpO1xuICAgICAgICB0aGlzLnBhc3NwaHJhc2UgPSBwYXNzcGhyYXNlO1xuICAgICAgICBjb25zdCBwcml2YXRlS2V5ID0gdGhpcy5nZXRQcml2YXRlS2V5KHAxMik7XG4gICAgICAgIHRoaXMua2V5ID0gcHJpdmF0ZUtleS5rZXk7XG4gICAgICAgIGNvbnN0IGNlcnRpZmljYXRlID0gdGhpcy5nZXRDZXJ0aWZpY2F0ZShwMTIpO1xuICAgICAgICB0aGlzLmNlcnQgPSBjZXJ0aWZpY2F0ZS5jZXJ0O1xuICAgICAgICB0aGlzLnRvcGljID0gY2VydGlmaWNhdGUudG9waWM7XG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnQgPSBjZXJ0aWZpY2F0ZS5lbnZpcm9ubWVudDtcbiAgICAgICAgdGhpcy5leHBpcmVzID0gY2VydGlmaWNhdGUuZXhwaXJlcztcbiAgICB9XG4gICAgZGVjcnlwdFBrY3MxMihieXRlcywgcGFzc3BocmFzZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcDEyQXNuMSA9IGZvcmdlLmFzbjEuZnJvbURlcihmb3JnZS51dGlsLmRlY29kZTY0KGJ5dGVzKSwgZmFsc2UpO1xuICAgICAgICAgICAgbGV0IHAxMjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcDEyID0gZm9yZ2UucGtjczEyLnBrY3MxMkZyb21Bc24xKHAxMkFzbjEsIGZhbHNlLCBwYXNzcGhyYXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFzc3BocmFzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcDEyID0gZm9yZ2UucGtjczEyLnBrY3MxMkZyb21Bc24xKHAxMkFzbjEsIGZhbHNlLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcDEyO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gZXg7XG4gICAgICAgICAgICBpZiAoZXJyLm1lc3NhZ2UubWF0Y2goJ0ludmFsaWQgcGFzc3dvcmQnKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5JbnZhbGlkUGFzc3BocmFzZUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuSW52YWxpZEZpbGVFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldFByaXZhdGVLZXkocDEyKSB7XG4gICAgICAgIGNvbnN0IGtleUJhZ3MgPSBwMTIuZ2V0QmFncyh7IGJhZ1R5cGU6IGZvcmdlLnBraS5vaWRzLnBrY3M4U2hyb3VkZWRLZXlCYWcgfSk7XG4gICAgICAgIGNvbnN0IHBrY3M4U2hyb3VkZWRLZXlCYWcgPSBrZXlCYWdzW2ZvcmdlLnBraS5vaWRzLnBrY3M4U2hyb3VkZWRLZXlCYWddO1xuICAgICAgICBpZiAocGtjczhTaHJvdWRlZEtleUJhZyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBwa2NzOFNocm91ZGVkS2V5QmFnWzBdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5JbnZhbGlkUHJpdmF0ZUtleUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5QmFnID0gcGtjczhTaHJvdWRlZEtleUJhZ1swXTtcbiAgICAgICAgaWYgKGtleUJhZyA9PT0gbnVsbCB8fFxuICAgICAgICAgICAga2V5QmFnLmtleSA9PT0gbnVsbCB8fFxuICAgICAgICAgICAga2V5QmFnLmtleS5uID09PSBudWxsIHx8XG4gICAgICAgICAgICBrZXlCYWcua2V5LmUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5JbnZhbGlkUHJpdmF0ZUtleUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogZm9yZ2UucGtpLnByaXZhdGVLZXlUb1BlbShrZXlCYWcua2V5KVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRDZXJ0RW52aXJvbm1lbnQoY2VydCkge1xuICAgICAgICBjb25zdCBlbnZpcm9ubWVudCA9IHsgc2FuZGJveDogZmFsc2UsIHByb2R1Y3Rpb246IGZhbHNlIH07XG4gICAgICAgIGlmIChjZXJ0LmdldEV4dGVuc2lvbih7IGlkOiBhcG5zX29pZHNfMS5BUE5TX09JRFMuZGV2ZWxvcG1lbnQgfSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgZW52aXJvbm1lbnQuc2FuZGJveCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNlcnQuZ2V0RXh0ZW5zaW9uKHsgaWQ6IGFwbnNfb2lkc18xLkFQTlNfT0lEUy5wcm9kdWN0aW9uIH0pICE9IG51bGwpIHtcbiAgICAgICAgICAgIGVudmlyb25tZW50LnByb2R1Y3Rpb24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbnZpcm9ubWVudC5zYW5kYm94ID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgZW52aXJvbm1lbnQucHJvZHVjdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5JbnZhbGlkQ2VydGlmaWNhdGVFbnZFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnZpcm9ubWVudDtcbiAgICB9XG4gICAgZ2V0Q2VydGlmaWNhdGUoY2VydCkge1xuICAgICAgICBjb25zdCBiYWdzID0gY2VydC5nZXRCYWdzKHsgYmFnVHlwZTogZm9yZ2UucGtpLm9pZHMuY2VydEJhZyB9KTtcbiAgICAgICAgY29uc3QgY2VydEJhZ3MgPSBiYWdzW2ZvcmdlLnBraS5vaWRzLmNlcnRCYWddO1xuICAgICAgICBpZiAoY2VydEJhZ3MgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgY2VydEJhZ3NbMF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkludmFsaWRDZXJ0aWZpY2F0ZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2VydEJhZyA9IGNlcnRCYWdzWzBdO1xuICAgICAgICBpZiAoY2VydEJhZyA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgY2VydEJhZy5jZXJ0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGNlcnRCYWcuY2VydC5wdWJsaWNLZXkgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgY2VydEJhZy5jZXJ0LnZhbGlkaXR5ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGNlcnRCYWcuY2VydC5zdWJqZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5JbnZhbGlkQ2VydGlmaWNhdGVFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvcGljID0gY2VydEJhZy5jZXJ0LnN1YmplY3QuYXR0cmlidXRlc1swXS52YWx1ZTtcbiAgICAgICAgY29uc3QgZXhwaXJlcyA9IG5ldyBEYXRlKGNlcnRCYWcuY2VydC52YWxpZGl0eS5ub3RBZnRlci5nZXRUaW1lKCkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2VydDogZm9yZ2UucGtpLmNlcnRpZmljYXRlVG9QZW0oY2VydEJhZy5jZXJ0KSxcbiAgICAgICAgICAgIGVudmlyb25tZW50OiB0aGlzLmdldENlcnRFbnZpcm9ubWVudChjZXJ0QmFnLmNlcnQpLFxuICAgICAgICAgICAgdG9waWMsXG4gICAgICAgICAgICBleHBpcmVzXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5BcG5zQ2VydGlmaWNhdGUgPSBBcG5zQ2VydGlmaWNhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcG5zLWNlcnRpZmljYXRlLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9idWlsZC9zcmMvbGliL2FwcGxlL2FwbnMtY2VydGlmaWNhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFQTlNfT0lEUztcbihmdW5jdGlvbiAoQVBOU19PSURTKSB7XG4gICAgQVBOU19PSURTLmRldmVsb3BtZW50ID0gJzEuMi44NDAuMTEzNjM1LjEwMC42LjMuMSc7XG4gICAgQVBOU19PSURTLnByb2R1Y3Rpb24gPSAnMS4yLjg0MC4xMTM2MzUuMTAwLjYuMy4yJztcbn0pKEFQTlNfT0lEUyA9IGV4cG9ydHMuQVBOU19PSURTIHx8IChleHBvcnRzLkFQTlNfT0lEUyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcG5zLW9pZHMuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2RjbWFjL2dpdC9naXRodWIvdXctcHVzaC1saWJyYXJ5L2J1aWxkL3NyYy9saWIvYXBwbGUvYXBucy1vaWRzLmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGludmFsaWRfY2VydGlmaWNhdGVfMSA9IHJlcXVpcmUoXCIuL2ludmFsaWQtY2VydGlmaWNhdGVcIik7XG5leHBvcnRzLkludmFsaWRDZXJ0aWZpY2F0ZUVycm9yID0gaW52YWxpZF9jZXJ0aWZpY2F0ZV8xLkludmFsaWRDZXJ0aWZpY2F0ZUVycm9yO1xuY29uc3QgaW52YWxpZF9jZXJ0aWZpY2F0ZV9lbnZfMSA9IHJlcXVpcmUoXCIuL2ludmFsaWQtY2VydGlmaWNhdGUtZW52XCIpO1xuZXhwb3J0cy5JbnZhbGlkQ2VydGlmaWNhdGVFbnZFcnJvciA9IGludmFsaWRfY2VydGlmaWNhdGVfZW52XzEuSW52YWxpZENlcnRpZmljYXRlRW52RXJyb3I7XG5jb25zdCBpbnZhbGlkX2ZpbGVfMSA9IHJlcXVpcmUoXCIuL2ludmFsaWQtZmlsZVwiKTtcbmV4cG9ydHMuSW52YWxpZEZpbGVFcnJvciA9IGludmFsaWRfZmlsZV8xLkludmFsaWRGaWxlRXJyb3I7XG5jb25zdCBpbnZhbGlkX3Bhc3NwaHJhc2VfMSA9IHJlcXVpcmUoXCIuL2ludmFsaWQtcGFzc3BocmFzZVwiKTtcbmV4cG9ydHMuSW52YWxpZFBhc3NwaHJhc2VFcnJvciA9IGludmFsaWRfcGFzc3BocmFzZV8xLkludmFsaWRQYXNzcGhyYXNlRXJyb3I7XG5jb25zdCBpbnZhbGlkX3ByaXZhdGVfa2V5XzEgPSByZXF1aXJlKFwiLi9pbnZhbGlkLXByaXZhdGUta2V5XCIpO1xuZXhwb3J0cy5JbnZhbGlkUHJpdmF0ZUtleUVycm9yID0gaW52YWxpZF9wcml2YXRlX2tleV8xLkludmFsaWRQcml2YXRlS2V5RXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvYnVpbGQvc3JjL2xpYi9hcHBsZS9lcnJvcnMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY2xhc3MgSW52YWxpZENlcnRpZmljYXRlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdjZXJ0aWZpY2F0ZSBpcyBpbnZhbGlkJyk7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG59XG5leHBvcnRzLkludmFsaWRDZXJ0aWZpY2F0ZUVycm9yID0gSW52YWxpZENlcnRpZmljYXRlRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnZhbGlkLWNlcnRpZmljYXRlLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9idWlsZC9zcmMvbGliL2FwcGxlL2Vycm9ycy9pbnZhbGlkLWNlcnRpZmljYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNsYXNzIEludmFsaWRDZXJ0aWZpY2F0ZUVudkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignY2VydGlmaWNhdGUgaXMgbmVpdGhlciBwcm9kdWN0aW9uIG9yIGRldmVsb3BtZW50Jyk7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG59XG5leHBvcnRzLkludmFsaWRDZXJ0aWZpY2F0ZUVudkVycm9yID0gSW52YWxpZENlcnRpZmljYXRlRW52RXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnZhbGlkLWNlcnRpZmljYXRlLWVudi5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvZGNtYWMvZ2l0L2dpdGh1Yi91dy1wdXNoLWxpYnJhcnkvYnVpbGQvc3JjL2xpYi9hcHBsZS9lcnJvcnMvaW52YWxpZC1jZXJ0aWZpY2F0ZS1lbnYuanNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY2xhc3MgSW52YWxpZEZpbGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ3VuYWJsZSB0byBwYXJzZSBjcmVkZW50aWFscywgbm90IGEgUEZYL1AxMiBmaWxlJyk7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG59XG5leHBvcnRzLkludmFsaWRGaWxlRXJyb3IgPSBJbnZhbGlkRmlsZUVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW52YWxpZC1maWxlLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9kY21hYy9naXQvZ2l0aHViL3V3LXB1c2gtbGlicmFyeS9idWlsZC9zcmMvbGliL2FwcGxlL2Vycm9ycy9pbnZhbGlkLWZpbGUuanNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY2xhc3MgSW52YWxpZFBhc3NwaHJhc2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ3VuYWJsZSB0byBwYXJzZSBjcmVkZW50aWFscywgaW5jb3JyZWN0IHBhc3NwaHJhc2UnKTtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIH1cbn1cbmV4cG9ydHMuSW52YWxpZFBhc3NwaHJhc2VFcnJvciA9IEludmFsaWRQYXNzcGhyYXNlRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnZhbGlkLXBhc3NwaHJhc2UuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2RjbWFjL2dpdC9naXRodWIvdXctcHVzaC1saWJyYXJ5L2J1aWxkL3NyYy9saWIvYXBwbGUvZXJyb3JzL2ludmFsaWQtcGFzc3BocmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jbGFzcyBJbnZhbGlkUHJpdmF0ZUtleUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigncHJpdmF0ZSBrZXkgaXMgaW52YWxpZCcpO1xuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgfVxufVxuZXhwb3J0cy5JbnZhbGlkUHJpdmF0ZUtleUVycm9yID0gSW52YWxpZFByaXZhdGVLZXlFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludmFsaWQtcHJpdmF0ZS1rZXkuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL1VzZXJzL2RjbWFjL2dpdC9naXRodWIvdXctcHVzaC1saWJyYXJ5L2J1aWxkL3NyYy9saWIvYXBwbGUvZXJyb3JzL2ludmFsaWQtcHJpdmF0ZS1rZXkuanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=